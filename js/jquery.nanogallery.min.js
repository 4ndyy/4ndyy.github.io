/*!
 * Shifty
 * By Jeremy Kahn - jeremyckahn@gmail.com
 */
/*! shifty - v1.5.0 - 2015-05-31 - http://jeremyckahn.github.io/shifty */
(function(){var a=this,b=function(){function E(){}function N(c,f){var d;for(d in c){Object.hasOwnProperty.call(c,d)&&f(d)}}function I(c,d){return N(d,function(f){c[f]=d[f]}),c}function B(c,d){N(d,function(f){c[f]===void 0&&(c[f]=d[f])})}function D(S,l,w,m,d,g,M){var T,y,v,f=g>S?0:(S-g)/d;for(T in l){l.hasOwnProperty(T)&&(y=M[T],v="function"==typeof y?y:L[y],l[T]=Q(w[T],m[T],v,f))}return l}function Q(d,g,f,c){return d+(g-d)*f(c)}function z(d,f){var c=J.prototype.filter,e=d._filterArgs;N(c,function(g){c[g][f]!==void 0&&c[g][f].apply(d,e)})}function A(M,l,v,m,d,y,S,w,o,u,g){K=l+v+m,q=Math.min(g||O(),K),x=q>=K,k=m-(K-q),M.isPlaying()&&!x?(M._scheduleId=u(M._timeoutHandler,F),z(M,"beforeTween"),l+v>q?D(1,d,y,S,1,1,w):D(q,d,y,S,m,l+v,w),z(M,"afterTween"),o(d,M._attachment,k)):M.isPlaying()&&x&&(o(S,M._attachment,k),M.stop(!0))}function P(d,f){var c={},e=typeof f;return"string"===e||"function"===e?N(d,function(g){c[g]=f}):N(d,function(g){c[g]||(c[g]=f[g]||H)}),c}function J(c,d){this._currentState=c||{},this._configured=!1,this._scheduleFunction=C,d!==void 0&&this.setConfig(d)}var L,C,H="linear",R=500,F=1000/60,t=Date.now?Date.now:function(){return +new Date},O="undefined"!=typeof SHIFTY_DEBUG_NOW?SHIFTY_DEBUG_NOW:t;C="undefined"!=typeof window?window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||window.mozCancelRequestAnimationFrame&&window.mozRequestAnimationFrame||setTimeout:setTimeout;var K,q,x,k;return J.prototype.tween=function(c){return this._isTweening?this:(void 0===c&&this._configured||this.setConfig(c),this._timestamp=O(),this._start(this.get(),this._attachment),this.resume())},J.prototype.setConfig=function(d){d=d||{},this._configured=!0,this._attachment=d.attachment,this._pausedAtTime=null,this._scheduleId=null,this._delay=d.delay||0,this._start=d.start||E,this._step=d.step||E,this._finish=d.finish||E,this._duration=d.duration||R,this._currentState=I({},d.from)||this.get(),this._originalState=this.get(),this._targetState=I({},d.to)||this.get();var f=this;this._timeoutHandler=function(){A(f,f._timestamp,f._delay,f._duration,f._currentState,f._originalState,f._targetState,f._easing,f._step,f._scheduleFunction)};var g=this._currentState,c=this._targetState;return B(c,g),this._easing=P(g,d.easing||H),this._filterArgs=[g,this._originalState,c,this._easing],z(this,"tweenCreated"),this},J.prototype.get=function(){return I({},this._currentState)},J.prototype.set=function(c){this._currentState=c},J.prototype.pause=function(){return this._pausedAtTime=O(),this._isPaused=!0,this},J.prototype.resume=function(){return this._isPaused&&(this._timestamp+=O()-this._pausedAtTime),this._isPaused=!1,this._isTweening=!0,this._timeoutHandler(),this},J.prototype.seek=function(c){c=Math.max(c,0);var d=O();return 0===this._timestamp+c?this:(this._timestamp=d-c,this.isPlaying()||(this._isTweening=!0,this._isPaused=!1,A(this,this._timestamp,this._delay,this._duration,this._currentState,this._originalState,this._targetState,this._easing,this._step,this._scheduleFunction,d),this.pause()),this)},J.prototype.stop=function(c){return this._isTweening=!1,this._isPaused=!1,this._timeoutHandler=E,(a.cancelAnimationFrame||a.webkitCancelAnimationFrame||a.oCancelAnimationFrame||a.msCancelAnimationFrame||a.mozCancelRequestAnimationFrame||a.clearTimeout)(this._scheduleId),c&&(z(this,"beforeTween"),D(1,this._currentState,this._originalState,this._targetState,1,0,this._easing),z(this,"afterTween"),z(this,"afterTweenEnd"),this._finish.call(this,this._currentState,this._attachment)),this},J.prototype.isPlaying=function(){return this._isTweening&&!this._isPaused},J.prototype.setScheduleFunction=function(c){this._scheduleFunction=c},J.prototype.dispose=function(){var c;for(c in this){this.hasOwnProperty(c)&&delete this[c]}},J.prototype.filter={},J.prototype.formula={linear:function(c){return c}},L=J.prototype.formula,I(J,{now:O,each:N,tweenProps:D,tweenProp:Q,applyFilter:z,shallowCopy:I,defaults:B,composeEasingObject:P}),"function"==typeof SHIFTY_DEBUG_NOW&&(a.timeoutHandler=A),"object"==typeof exports?module.exports=J:"function"==typeof define&&define.amd?define("ngTweenable",function(){return J}):a.NGTweenable===void 0&&(a.NGTweenable=J),J}();(function(){b.shallowCopy(b.prototype.formula,{easeInQuad:function(c){return Math.pow(c,2)},easeOutQuad:function(c){return -(Math.pow(c-1,2)-1)},easeInOutQuad:function(c){return 1>(c/=0.5)?0.5*Math.pow(c,2):-0.5*((c-=2)*c-2)},easeInCubic:function(c){return Math.pow(c,3)},easeOutCubic:function(c){return Math.pow(c-1,3)+1},easeInOutCubic:function(c){return 1>(c/=0.5)?0.5*Math.pow(c,3):0.5*(Math.pow(c-2,3)+2)},easeInQuart:function(c){return Math.pow(c,4)},easeOutQuart:function(c){return -(Math.pow(c-1,4)-1)},easeInOutQuart:function(c){return 1>(c/=0.5)?0.5*Math.pow(c,4):-0.5*((c-=2)*Math.pow(c,3)-2)},easeInQuint:function(c){return Math.pow(c,5)},easeOutQuint:function(c){return Math.pow(c-1,5)+1},easeInOutQuint:function(c){return 1>(c/=0.5)?0.5*Math.pow(c,5):0.5*(Math.pow(c-2,5)+2)},easeInSine:function(c){return -Math.cos(c*(Math.PI/2))+1},easeOutSine:function(c){return Math.sin(c*(Math.PI/2))},easeInOutSine:function(c){return -0.5*(Math.cos(Math.PI*c)-1)},easeInExpo:function(c){return 0===c?0:Math.pow(2,10*(c-1))},easeOutExpo:function(c){return 1===c?1:-Math.pow(2,-10*c)+1},easeInOutExpo:function(c){return 0===c?0:1===c?1:1>(c/=0.5)?0.5*Math.pow(2,10*(c-1)):0.5*(-Math.pow(2,-10*--c)+2)},easeInCirc:function(c){return -(Math.sqrt(1-c*c)-1)},easeOutCirc:function(c){return Math.sqrt(1-Math.pow(c-1,2))},easeInOutCirc:function(c){return 1>(c/=0.5)?-0.5*(Math.sqrt(1-c*c)-1):0.5*(Math.sqrt(1-(c-=2)*c)+1)},easeOutBounce:function(c){return 1/2.75>c?7.5625*c*c:2/2.75>c?7.5625*(c-=1.5/2.75)*c+0.75:2.5/2.75>c?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},easeInBack:function(c){var d=1.70158;return c*c*((d+1)*c-d)},easeOutBack:function(c){var d=1.70158;return(c-=1)*c*((d+1)*c+d)+1},easeInOutBack:function(c){var d=1.70158;return 1>(c/=0.5)?0.5*c*c*(((d*=1.525)+1)*c-d):0.5*((c-=2)*c*(((d*=1.525)+1)*c+d)+2)},elastic:function(c){return -1*Math.pow(4,-8*c)*Math.sin((6*c-1)*2*Math.PI/2)+1},swingFromTo:function(c){var d=1.70158;return 1>(c/=0.5)?0.5*c*c*(((d*=1.525)+1)*c-d):0.5*((c-=2)*c*(((d*=1.525)+1)*c+d)+2)},swingFrom:function(c){var d=1.70158;return c*c*((d+1)*c-d)},swingTo:function(c){var d=1.70158;return(c-=1)*c*((d+1)*c+d)+1},bounce:function(c){return 1/2.75>c?7.5625*c*c:2/2.75>c?7.5625*(c-=1.5/2.75)*c+0.75:2.5/2.75>c?7.5625*(c-=2.25/2.75)*c+0.9375:7.5625*(c-=2.625/2.75)*c+0.984375},bouncePast:function(c){return 1/2.75>c?7.5625*c*c:2/2.75>c?2-(7.5625*(c-=1.5/2.75)*c+0.75):2.5/2.75>c?2-(7.5625*(c-=2.25/2.75)*c+0.9375):2-(7.5625*(c-=2.625/2.75)*c+0.984375)},easeFromTo:function(c){return 1>(c/=0.5)?0.5*Math.pow(c,4):-0.5*((c-=2)*Math.pow(c,3)-2)},easeFrom:function(c){return Math.pow(c,4)},easeTo:function(c){return Math.pow(c,0.25)}})})(),function(){function c(v,B,J,E,y,A){function M(e){return((D*e+N)*e+C)*e}function q(e){return((k*e+K)*e+H)*e}function x(e){return(3*D*e+2*N)*e+C}function L(e){return 1/(200*e)}function F(e,f){return q(z(e,f))}function I(e){return e>=0?e:0-e}function z(h,w){var m,g,l,p,f,s;for(l=h,s=0;8>s;s++){if(p=M(l)-h,w>I(p)){return l}if(f=x(l),0.000001>I(f)){break}l-=p/f}if(m=0,g=1,l=h,m>l){return m}if(l>g){return g}for(;g>m;){if(p=M(l),w>I(p-h)){return l}h>p?m=l:g=l,l=0.5*(g-m)+m}return l}var D=0,N=0,C=0,k=0,K=0,H=0;return C=3*B,N=3*(E-B)-C,D=1-C-N,H=3*J,K=3*(y-J)-H,k=1-H-K,F(v,L(A))}function d(k,h,f,g){return function(e){return c(e,k,h,f,g,1)}}b.setBezierFunction=function(h,g,k,l,e){var f=d(g,k,l,e);return f.displayName=h,f.x1=g,f.y1=k,f.x2=l,f.y2=e,b.prototype.formula[h]=f},b.unsetBezierFunction=function(e){delete b.prototype.formula[e]}}(),function(){function c(h,l,g,k,m,f){return b.tweenProps(k,l,h,g,1,f,m)}var d=new b;d._filterArgs=[],b.interpolate=function(l,e,k,v,w){var x=b.shallowCopy({},l),t=w||0,m=b.composeEasingObject(l,v||"linear");d.set({});var q=d._filterArgs;q.length=0,q[0]=x,q[1]=l,q[2]=e,q[3]=m,b.applyFilter(d,"tweenCreated"),b.applyFilter(d,"beforeTween");var g=c(l,x,e,k,m,t);return b.applyFilter(d,"afterTween"),g}}(),function(K){function R(d,h){var g,c=[],f=d.length;for(g=0;f>g;g++){c.push("_"+h+"_"+g)}return c}function ab(c){var d=c.match(A);return d?(1===d.length||c[0].match(E))&&d.unshift(""):d=["",""],d.join(z)}function X(c){K.each(c,function(d){var f=c[d];"string"==typeof f&&f.match(x)&&(c[d]=N(f))})}function N(c){return L(x,c,Q)}function Q(c){var d=af(c);return"rgb("+d[0]+","+d[1]+","+d[2]+")"}function af(c){return c=c.replace(/#/,""),3===c.length&&(c=c.split(""),c=c[0]+c[0]+c[1]+c[1]+c[2]+c[2]),ae[0]=J(c.substr(0,2)),ae[1]=J(c.substr(2,2)),ae[2]=J(c.substr(4,2)),ae}function J(c){return parseInt(c,16)}function L(g,m,k){var f=m.match(g),h=m.replace(g,z);if(f){for(var l,c=f.length,d=0;c>d;d++){l=f.shift(),h=h.replace(z,k(l))}}return h}function ad(c){return L(q,c,Y)}function Y(d){for(var h=d.match(H),g=h.length,c=d.match(C)[0],f=0;g>f;f++){c+=parseInt(h[f],10)+","}return c=c.slice(0,-1)+")"}function aa(c){var d={};return K.each(c,function(f){var g=c[f];if("string"==typeof g){var e=ac(g);d[f]={formatString:ab(g),chunkNames:R(e,f)}}}),d}function P(d,c){K.each(c,function(g){for(var f=d[g],h=ac(f),k=h.length,e=0;k>e;e++){d[c[g].chunkNames[e]]=+h[e]}delete d[g]})}function V(d,c){K.each(c,function(f){var e=d[f],g=ag(d,c[f].chunkNames),h=U(g,c[f].chunkNames);e=D(c[f].formatString,h),d[f]=ad(e)})}function ag(d,k){for(var g,c={},f=k.length,h=0;f>h;h++){g=k[h],c[g]=d[g],delete d[g]}return c}function U(d,g){W.length=0;for(var f=g.length,c=0;f>c;c++){W.push(d[g[c]])}return W}function D(d,h){for(var g=d,c=h.length,f=0;c>f;f++){g=g.replace(z,+h[f].toFixed(4))}return g}function ac(c){return c.match(H)}function Z(d,c){K.each(c,function(h){var g,l=c[h],m=l.chunkNames,e=m.length,f=d[h];if("string"==typeof f){var k=f.split(" "),p=k[k.length-1];for(g=0;e>g;g++){d[m[g]]=k[g]||p}}else{for(g=0;e>g;g++){d[m[g]]=f}}delete d[h]})}function B(d,c){K.each(c,function(h){var g=c[h],l=g.chunkNames,m=l.length,e=d[l[0]],f=typeof e;if("string"===f){for(var k="",p=0;m>p;p++){k+=" "+d[l[p]],delete d[l[p]]}d[h]=k.substr(1)}else{d[h]=e}})}var E=/(\d|\-|\.)/,A=/([^\-0-9\.]+)/g,H=/[0-9.\-]+/g,q=RegExp("rgb\\("+H.source+/,\s*/.source+H.source+/,\s*/.source+H.source+"\\)","g"),C=/^.*\(/,x=/#([0-9]|[a-f]){3,6}/gi,z="VAL",ae=[],W=[];K.prototype.filter.token={tweenCreated:function(c,f,d){X(c),X(f),X(d),this._tokenData=aa(c)},beforeTween:function(d,g,f,c){Z(c,this._tokenData),P(d,this._tokenData),P(g,this._tokenData),P(f,this._tokenData)},afterTween:function(d,g,f,c){V(d,this._tokenData),V(g,this._tokenData),V(f,this._tokenData),B(c,this._tokenData)}}}(b)}).call(null);(function(a){if(typeof define==="function"&&define.amd){define("jqueryNanoGallery",["jquery","ngTweenable"],a)}else{a(jQuery,window.NGTweenable)}})(function(c,d){jQuery.nanoGallery=function(f,e){var g=this;g.$e=c(f);g.e=f;g.$e.data("nanoGallery",g);g.init=function(){g.options=c.extend(true,{},c.nanoGallery.defaultOptions,e);g.nG=new b();g.nG.Initiate(g.e,g.options)};g.test=function(){};g.init()};jQuery.nanoGallery.defaultOptions={userID:"",kind:"",album:"",photoset:"",blackList:"scrapbook|profil",whiteList:"",albumList:"",RTL:false,picasaUseUrlCrossDomain:true,flickrSkipOriginal:true,galleryToolbarWidthAligned:true,galleryToolbarHideIcons:false,galleryFullpageButton:false,galleryFullpageBgColor:"#111",galleryEnableKeyboard:false,galleryRenderStep:10,breadcrumbAutoHideTopLevel:false,displayBreadcrumb:false,theme:"default",colorScheme:"none",colorSchemeViewer:"default",items:null,itemsBaseURL:"",itemsSelectable:false,showCheckboxes:true,checkboxStyle:"left:15px; top:15px;",keepSelection:false,jsonCharset:"Latin",jsonProvider:"",paginationMaxLinesPerPage:0,paginationDots:false,paginationSwipe:true,paginationVisiblePages:10,maxWidth:0,viewer:"internal",viewerFullscreen:false,viewerDisplayLogo:false,fancyBoxOptions:null,imageTransition:"slide",openOnStart:"",viewerToolbar:{display:true,position:"bottom",style:"innerImage",autoMinimize:800,standard:"minimizeButton , previousButton, pageCounter ,nextButton,playPauseButton,fullscreenButton,infoButton,linkOriginalButton,closeButton,label",minimized:"minimizeButton,label"},thumbnailAlignment:"center",thumbnailWidth:230,thumbnailHeight:154,thumbnailGutterWidth:2,thumbnailGutterHeight:2,thumbnailAdjustLastRowHeight:true,thumbnailFeatured:false,thumbnailAlbumDisplayImage:false,thumbnailHoverEffect:null,thumbnailLabel:{position:"overImageOnBottom",display:true,displayDescription:true,titleMaxLength:0,descriptionMaxLength:0,hideIcons:false,title:"",itemsCount:""},thumbnailDisplayInterval:5,thumbnailDisplayTransition:true,thumbnailLazyLoad:false,thumbnailLazyLoadTreshold:100,thumbnailGlobalImageTitle:"",thumbnailGlobalAlbumTitle:"",thumbnailOpenImage:true,breakpointSizeSM:480,breakpointSizeME:992,breakpointSizeLA:1200,breakpointSizeXL:1800,fnThumbnailInit:null,fnThumbnailHoverInit:null,fnThumbnailHoverResize:null,fnThumbnailHover:null,fnThumbnailHoverOut:null,fnThumbnailDisplayEffect:null,fnThumbnailOpen:null,fnViewerInfo:null,fnImgToolbarCustInit:null,fnImgToolbarCustDisplay:null,fnImgToolbarCustClick:null,fnProcessData:null,fnChangeSelectMode:null,fnInitGallery:null,touchAnimation:true,touchAutoOpenDelay:0,useTags:false,preset:"none",locationHash:true,demoViewportWidth:0,slideshowDelay:3000,slideshowAutoStart:false,photoSorting:"",albumSorting:"",dataSorting:"",albumMax:0,lazyBuild:"none",lazyBuildTreshold:150,debugMode:false,i18n:{breadcrumbHome:"Galleries",breadcrumbHome_FR:"Galeries",breadcrumbHome_ES:"Galer&iacute;as",paginationPrevious:"Previous",paginationPrevious_FR:"Pr&eacute;c&eacute;dent",paginationPrevious_DE:"Zur&uuml;ck",paginationPrevious_IT:"Indietro"," paginationPrevious_ES":"Anterior",paginationNext:"Next",paginationNext_FR:"Suivant",paginationNext_DE:"Weiter",paginationNext_IT:"Avanti",paginationNext_ES:"Siguiente",thumbnailLabelItemsCountPart1:"",thumbnailLabelItemsCountPart2:"",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:"",infoBoxPhoto:"Photo",infoBoxDate:"Date",infoBoxAlbum:"Album",infoBoxDimensions:"Dimensions",infoBoxFilename:"Filename",infoBoxFileSize:"File size",infoBoxCamera:"Camera",infoBoxFocalLength:"Focal length",infoBoxExposure:"Exposure",infoBoxFNumber:"F Number",infoBoxISO:"ISO",infoBoxMake:"Make",infoBoxFlash:"Flash",infoBoxViews:"Views",infoBoxComments:"Comments",infoBoxPhoto_ES:"Foto",infoBoxDate_ES:"Fecha",infoBoxAlbum_ES:"Album",infoBoxDimensions_ES:"Dimensiones",infoBoxFilename_ES:"Nombre",infoBoxFileSize_ES:"Tama&ntilde;o",infoBoxCamera_ES:"C&aacute;mara",infoBoxFocalLength_ES:"Longitud focal",infoBoxExposure_ES:"Exposici&oacute;n",infoBoxFNumber_ES:"N&uacute;mero F",infoBoxISO_ES:"ISO",infoBoxMake_ES:"Hacer",infoBoxFlash_ES:"Flash",infoBoxViews_ES:"Vistas",infoBoxComments_ES:"Comentarios"}};jQuery.fn.nanoGallery=function(e,f,g){if(typeof c(this).data("nanoGallery")==="undefined"){return this.each(function(){(new c.nanoGallery(this,e))})}else{switch(e){case"reload":c(this).data("nanoGallery").nG.ReloadAlbum();return c(this);break;case"refreshSize":c(this).data("nanoGallery").nG.RefreshSize();return c(this);break;case"getSelectedItems":return c(this).data("nanoGallery").nG.GetSelectedItems();break;case"selectItems":c(this).data("nanoGallery").nG.SetSelectedItems(f);break;case"unselectItems":c(this).data("nanoGallery").nG.SetUnselectedItems(f);break;case"setSelectMode":if(f===true||f===false||f==="image"||f==="album"){c(this).data("nanoGallery").nG.SetSelectMode(f)}break;case"getSelectMode":return c(this).data("nanoGallery").nG.GetSelectMode();break;case"getItem":return c(this).data("nanoGallery").nG.GetItem(f);break;case"getItems":return c(this).data("nanoGallery").nG.GetItems();break;case"getItemsIndex":return c(this).data("nanoGallery").nG.GetItemsIndex(f);break;case"option":if(typeof g==="undefined"){return c(this).data("nanoGallery").nG.Get(f)}else{c(this).data("nanoGallery").nG.Set(f,g);if(f=="demoViewportWidth"){c(window).trigger("resize")}}break;case"destroy":c(this).data("nanoGallery").nG.$E.base.text("");c(this).removeData();break;case"closeViewer":c(this).data("nanoGallery").nG.closeViewer();break;case"minimizeToolbar":c(this).data("nanoGallery").nG.minimizeToolbar();break;case"maximizeToolbar":c(this).data("nanoGallery").nG.maximizeToolbar();break;case"displayItem":c(this).data("nanoGallery").nG.displayItem(f);break;case"paginationPreviousPage":c(this).data("nanoGallery").nG.paginationPreviousPage();break;case"paginationNextPage":c(this).data("nanoGallery").nG.paginationNextPage();break;case"paginationGotoPage":c(this).data("nanoGallery").nG.paginationGotoPage(f);break;case"paginationCountPages":return c(this).data("nanoGallery").nG.paginationCountPages();break;case"getCurrentViewedItem":return c(this).data("nanoGallery").nG.GetCurrentViewedItem();break;case"getCurrentViewedItemIdx":return c(this).data("nanoGallery").nG.GetCurrentViewedItemIdx();break;case"moveToNextAlbum":return c(this).data("nanoGallery").nG.moveToNextAlbum();break;case"moveToPreviousAlbum":return c(this).data("nanoGallery").nG.moveToPreviousAlbum();break;case"galleryCountImages":return c(this).data("nanoGallery").nG.galleryCountImages();break}return c(this)}};function a(){alert("privateTest");console.dir(G)}function b(){this.ReloadAlbum=function(){if(aH.O.kind===""){throw"Not supported for this kind."}var by=aH.I.length;var bB=-1;for(var bz=0;bz<by;bz++){if(aH.lastOpenAlbumID==aH.I[bz].GetID()){bB=bz;break}}if(bB==-1){throw ("Current album not found.")}if(aH.O.keepSelection===false){aH.selectedItems=[]}for(var bA=0;bA<by;bA++){if(aH.O.keepSelection===false){aH.I[bA].selected=false}if(aH.I[bA].albumID==bB){aH.I[bA].albumID=-1}}aH.I[bB].contentIsLoaded=false;aH.lastOpenAlbumID=-1;switch(aH.O.kind){case"json":return bp(bB,false,-1,false,true);case"flickr":return aT(bB,false,-1,false,true);case"picasa":default:return H(bB,false,-1,false,true)}};this.moveToNextAlbum=function(){aZ()};this.moveToPreviousAlbum=function(){g()};this.closeViewer=function(){bo(true);return false};this.minimizeToolbar=function(){ay();return false};this.maximizeToolbar=function(){aM();return false};this.RefreshSize=function(){e()};this.displayItem=function(by){return J(false,by,true)};this.paginationPreviousPage=function(){aS()};this.paginationNextPage=function(){ar()};this.paginationGotoPage=function(bz){var by=aH.$E.conPagin.data("galleryIdx");if(!ag(aH.$E.base,0)){c("html, body").animate({scrollTop:aH.$E.base.offset().top},200)}if(bz>1){bz--}a3(by,bz)};this.paginationCountPages=function(){var by=aH.$E.conPagin.data("galleryIdx"),bz=0;if(aH.pgMaxLinesPerPage>0){bz=aH.I[by].contentLength/(aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow)}n2=Math.ceil(bz);return n2};this.galleryCountImages=function(){return a8()};this.GetItem=function(by){if(isNaN(by)){throw"index must be a number"}return aH.I[by]};this.GetItems=function(){return aH.I};this.GetItemsIndex=function(bz){var bB=[];var by=bz.length;for(var bA=0;bA<by;bA++){if(isNaN(bz[bA])){index=aH.I.indexOf(bz[bA])}else{index=bz[bA]}if(isNaN(index)){throw"This item does not exists"}bB.push(index)}return bB};this.SetSelectedItems=function(bz){var by=bz.length;for(var bA=0;bA<by;bA++){if(bz[bA].$elt!==null){aG(bz[bA],true)}}};this.SetUnselectedItems=function(bz){var by=bz.length;for(var bA=0;bA<by;bA++){if(bz[bA].$elt!==null){aG(bz[bA],false)}}};this.GetSelectedItems=function(){return aH.selectedItems};this.GetCurrentViewedItem=function(){if(aH.containerViewerDisplayed){return aH.I[aH.viewerCurrentItemIdx]}else{return null}};this.GetCurrentViewedItemIdx=function(){if(aH.containerViewerDisplayed){return aH.viewerCurrentItemIdx}else{return -1}};this.Get=function(by){return aH.O[by]};this.Set=function(by,bz){aH.O[by]=bz};this.SetSelectMode=function(by){if(typeof by=="undefined"){if(aH.selectModeForce===true){by=aH.selectMode}}if(by===true||by===false||by==="image"||by==="album"){aH.selectModeForce=(by!==false);aH.selectMode=by;if(by==="album"||by=="image"){aH.$E.base.find(".nanoGalleryThumbnailContainer").each(function(){if((c(this).hasClass("album")&&by==="image")||(!c(this).hasClass("album")&&by==="album")){c(this).addClass("unselectable")}else{c(this).removeClass("unselectable")}})}else{aH.$E.base.find(".nanoGalleryThumbnailContainer").removeClass("unselectable")}if(aH.O.keepSelection===false||by===false){this.SetUnselectedItems(aH.I)}if(typeof aH.O.fnChangeSelectMode==="function"){aH.O.fnChangeSelectMode(aH.selectMode)}}};this.GetSelectMode=function(){return aH.selectMode};var aH=this;aH.I=[];aH.O=null;aH.$E={base:null,conTnParent:null,conLoadingB:null,conConsole:null,conTn:null,conTnHid:null,conPagin:null,conBC:null,conNavB:null,conNavBCon:null,conNavBFullpage:null,conVwCon:null,conVw:null,conVwTb:null,vwImgP:null,vwImgN:null,vwImgC:null,vwContent:null,vwLogo:null};aH.i18nTranslations={paginationPrevious:"Previous",paginationNext:"Next",breadcrumbHome:"List of Albums",thumbnailImageTitle:"",thumbnailAlbumTitle:"",thumbnailImageDescription:"",thumbnailAlbumDescription:""};aH.$currentTouchedThumbnail=null;aH.baseEltID=null;aH.containerTags=null;aH.containerNavigationbarContDisplayed=false;aH.containerViewerDisplayed=false;aH.containerThumbnailsDisplayed=false;aH.tn={displayInterval:30,lazyLoadTreshold:100,scale:1,borderWidth:0,borderHeight:0,imgcBorderHeight:0,imgcBorderWidth:0,labelHeight:{l1:0,lN:0,get:function(){return aH.tn.labelHeight[aH.curNavLevel]}},outerWidth:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return aH.tn.outerWidth[aH.curNavLevel][aH.curWidth]}},outerHeight:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0},get:function(){return aH.tn.outerHeight[aH.curNavLevel][aH.curWidth]}},settings:{width:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"},lN:{xs:0,sm:0,me:0,la:0,xl:0,xsc:"u",smc:"u",mec:"u",lac:"u",xlc:"u"}},getH:function(){return aH.tn.settings.height[aH.curNavLevel][aH.curWidth]},getW:function(){return aH.tn.settings.width[aH.curNavLevel][aH.curWidth]}},getHE:function(){if(aH.curNavLevel=="l1"&&aH.tnL1HE.length!==0){return aH.tnL1HE}return aH.tnHE},styleFTitle:"",styleITitle:"",styleDesc:"",styleLabelImage:"",styleL1FTitle:"",styleL1ITitle:"",styleL1Desc:"",styleL1LabelImage:""};aH.tnHE=[];aH.tnL1HE=[];aH.L={nbMaxTnPerRow:0};aH.blackList=null;aH.whiteList=null;aH.albumList=null;aH.galleryItemsCount=0;aH.toolbarMode="std";aH.playSlideshow=false;aH.playSlideshowTimerID=0;aH.slideshowDelay=3000;aH.touchAutoOpenDelayTimerID=0;aH.supportFullscreenAPI=false;aH.viewerIsFullscreen=false;aH.bodyOverflowInitial=null;aH.i18nLang="";aH.timeImgChanged=0;aH.timeLastTouchStart=0;aH.pgMaxNbThumbnailsPerRow=1;aH.pgMaxLinesPerPage=0;aH.lastOpenAlbumID=-1;aH.lastLocationHash="";aH.touchSelectTO=null;aH.viewerImageIsChanged=false;aH.viewerResizeTimerID=-1;aH.viewerResizeTimerLastRun=-1;aH.viewerCurrentItemIdx=-1;aH.imageSwipePosX=0;aH.albumIdxToOpenOnViewerClose=-1;aH.custGlobals={};aH.delayedAlbumIdx=-1;aH.curAlbumIdx=-1;aH.delayedSetLocationHash=false;aH.viewerSwipe=null;aH.isShiftPressed=false;aH.isAltPressed=false;aH.isCtrlPressed=false;aH.isMetaPressed=false;aH.selectedItems=[];aH.aengine="animate";aH.scrollTimeOut=0;aH.maxAlbums=1000000;aH.maxPhotos=1000000;aH.curNavLevel="l1";aH.curWidth="me";aH.gallerySwipeInitDone=false;aH.emptyGif="data:image/gif;base64,R0lGODlhEAAQAIAAAP///////yH5BAEKAAEALAAAAAAQABAAAAIOjI+py+0Po5y02ouzPgUAOw==";aH.CSStransformName=M(["transform","msTransform","MozTransform","WebkitTransform","OTransform"]);aH.CSStransformStyle=M(["transformStyle","msTransformStyle","MozTransformStyle","WebkitTransformStyle","OTransformStyle"]);aH.CSSperspective=M(["perspective","msPerspective","MozPerspective","WebkitPerspective","OPerspective"]);aH.CSSbackfaceVisibilityName=M(["backfaceVisibility","msBackfaceVisibility","MozBackfaceVisibility","WebkitBackfaceVisibility","OBackfaceVisibility"]);aH.CSStransitionName=M(["transition","msTransition","MozTransition","WebkitTransition","OTransition"]);aH.CSSanimationName=M(["animation","msAnimation","MozAnimation","WebkitAnimation","OAnimation"]);aH.IE=(function(){if(document.documentMode){return document.documentMode}else{for(var by=7;by>4;by--){var bz=document.createElement("div");bz.innerHTML="<!--[if IE "+by+"]><span></span><![endif]-->";if(bz.getElementsByTagName("span").length){bz=null;return by}}}return undefined})();aH.isIOS=/(iPad|iPhone|iPod)/g.test(navigator.userAgent);aH.isGingerbread=/Android 2\.3\.[3-7]/i.test(navigator.userAgent),aH.openNoDelay=false,aH.startDateTime=new Date(),aH.toRender=[];aH.picasa={url:function(){return(aH.O.picasaUseUrlCrossDomain?"https://photos.googleapis.com/data/feed/api/":"https://picasaweb.google.com/data/feed/api/")},thumbSize:64,thumbAvailableSizes:new Array(32,48,64,72,94,104,110,128,144,150,160,200,220,288,320,400,512,576,640,720,800,912,1024,1152,1280,1440,1600),thumbAvailableSizesCropped:" 32 48 64 72 104 144 150 160 "};aH.flickr={url:function(){return"https://api.flickr.com/services/rest/"},thumbSize:"sq",thumbSizeX2:"sq",thumbAvailableSizes:new Array(75,100,150,240,500,640),thumbAvailableSizesStr:new Array("sq","t","q","s","m","z"),photoSize:"sq",photoAvailableSizes:new Array(75,100,150,240,500,640,1024,1024,1600,2048),photoAvailableSizesStr:new Array("sq","t","q","s","m","z","b","l","h","k"),ApiKey:"2f0e634b471fdb47446abcb9c5afebdc"};aH.colorScheme_default={navigationbar:{background:"none",borderTop:"1px solid #555",borderBottom:"1px solid #555",borderRight:"",borderLeft:"",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #fff",paginationDotBack:"#444",paginationDotSelBack:"#fff"}};aH.colorScheme_darkRed={navigationbar:{background:"#a60000",border:"1px dotted #ff0000",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a60000",border:"1px solid #ff0000",labelBackground:"rgba(134, 0, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #d00",paginationDotBack:"#400",paginationDotSelBack:"#d00"}};aH.colorScheme_darkGreen={navigationbar:{background:"#008500",border:"1px dotted #00cc00",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#008500",border:"1px solid #00cc00",labelBackground:"rgba(0, 105, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #0c0",paginationDotBack:"#008500",paginationDotSelBack:"#0c0"}};aH.colorScheme_darkBlue={navigationbar:{background:"#071871",border:"1px dotted #162ea2",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#071871",border:"1px solid #162ea2",labelBackground:"rgba(7, 8, 81, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #162ea2",paginationDotBack:"#071871",paginationDotSelBack:"#162ea2"}};aH.colorScheme_darkOrange={navigationbar:{background:"#a67600",border:"1px dotted #ffb600",color:"#ccc",colorHover:"#fff"},thumbnail:{background:"#a67600",border:"1px solid #ffb600",labelBackground:"rgba(134, 86, 0, 0.75)",titleColor:"#eee",titleShadow:"",descriptionColor:"#ccc",descriptionShadow:"",paginationDotBorder:"2px solid #ffb600",paginationDotBack:"#a67600",paginationDotSelBack:"#ffb600"}};aH.colorScheme_light={navigationbar:{background:"none",borderTop:"1px solid #ddd",borderBottom:"1px solid #ddd",borderRight:"",borderLeft:"",color:"#777",colorHover:"#eee"},thumbnail:{background:"#fff",border:"1px solid #fff",labelBackground:"rgba(60, 60, 60, 0.75)",titleColor:"#fff",titleShadow:"none",descriptionColor:"#eee",descriptionShadow:"none",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}};aH.colorScheme_lightBackground={navigationbar:{background:"none",border:"",color:"#000",colorHover:"#444"},thumbnail:{background:"#000",border:"1px solid #000",labelBackground:"rgba(34, 34, 34, 0.85)",titleColor:"#fff",titleShadow:"",descriptionColor:"#eee",descriptionShadow:"",paginationDotBorder:"2px solid #555",paginationDotBack:"#888",paginationDotSelBack:"#555"}};aH.colorSchemeViewer_default={background:"#000",imageBorder:"4px solid #000",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};aH.colorSchemeViewer_dark={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #f8f8f8",imageBoxShadow:"#888 0px 0px 20px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};aH.colorSchemeViewer_darkRed={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffa3a3",imageBoxShadow:"#ff0000 0px 0px 20px",barBackground:"#a60000",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};aH.colorSchemeViewer_darkGreen={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #97e697",imageBoxShadow:"#00cc00 0px 0px 20px",barBackground:"#008500",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};aH.colorSchemeViewer_darkBlue={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #a0b0d7",imageBoxShadow:"#162ea2 0px 0px 20px",barBackground:"#071871",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};aH.colorSchemeViewer_darkOrange={background:"rgba(1, 1, 1, 0.75)",imageBorder:"4px solid #ffd7b7",imageBoxShadow:"#ffb600 0px 0px 20px",barBackground:"#a67600",barBorder:"2px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};aH.colorSchemeViewer_light={background:"rgba(187, 187, 187, 0.75)",imageBorder:"none",imageBoxShadow:"#888 0px 0px 0px",barBackground:"rgba(4, 4, 4, 0.7)",barBorder:"0px solid #111",barColor:"#eee",barDescriptionColor:"#aaa"};var bq=(function(){var bz=1;function by(bB,bC){var bA=0;if(bC===undefined||bC===null){bA=bz++}else{bA=bC}this.GetID=function(){return bA};this.title=bB;this.description="";this.src="";this.width=0;this.height=0;this.destinationURL="";this.kind="";this.author="";this.thumbFullWidth=0;this.thumbFullHeight=0;this.thumbLabelWidth=0;this.thumbLabelHeight=0;this.thumbSizes={};this.thumbs={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};this.picasaThumbs=null;this.hovered=false;this.hoverInitDone=false;this.contentIsLoaded=false;this.contentLength=0;this.imageNumber=0;this.eltTransform={};this.albumID=0;this.paginationLastPage=0;this.paginationLastWidth=0;this.customData={};this.selected=false;this.$elt=null;this.$Elts=[]}by.get_nextId=function(){return bz};by.prototype={$getElt:function(bA,bB){if(this.$Elts[bA]!==undefined&&!bB==true){return this.$Elts[bA]}else{this.$Elts[bA]=this.$elt.find(bA);return this.$Elts[bA]}},thumbSetImgHeight:function(bC){var bA=["xs","sm","me","la","xl"];for(var bB=0;bB<bA.length;bB++){if(aH.tn.settings.height.l1[bA[bB]]==aH.tn.settings.getH()&&aH.tn.settings.width.l1[bA[bB]]==aH.tn.settings.getW()){this.thumbs.height.l1[bA[bB]]=bC}}for(var bB=0;bB<bA.length;bB++){if(aH.tn.settings.height.lN[bA[bB]]==aH.tn.settings.getH()&&aH.tn.settings.width.lN[bA[bB]]==aH.tn.settings.getW()){this.thumbs.height.lN[bA[bB]]=bC}}},thumbSetImgWidth:function(bB){var bA=["xs","sm","me","la","xl"];for(var bC=0;bC<bA.length;bC++){if(aH.tn.settings.height.l1[bA[bC]]==aH.tn.settings.getH()&&aH.tn.settings.width.l1[bA[bC]]==aH.tn.settings.getW()){this.thumbs.width.l1[bA[bC]]=bB}}for(var bC=0;bC<bA.length;bC++){if(aH.tn.settings.height.lN[bA[bC]]==aH.tn.settings.getH()&&aH.tn.settings.width.lN[bA[bC]]==aH.tn.settings.getW()){this.thumbs.width.lN[bA[bC]]=bB}}},thumbImg:function(){var bA={src:"",width:0,height:0};if(this.title=="dummydummydummy"){bA.src=aH.emptyGif;return bA}bA.src=this.thumbs.url[aH.curNavLevel][aH.curWidth];bA.width=this.thumbs.width[aH.curNavLevel][aH.curWidth];bA.height=this.thumbs.height[aH.curNavLevel][aH.curWidth];return bA},responsiveURL:function(){var bA="";switch(aH.O.kind){case"":bA=this.src;break;case"flickr":bA=this.src;break;case"picasa":default:bA=this.src;break}return bA}};return by})();this.Initiate=function(bC,bB){aH.O=bB;aH.O.thumbnailLabel.get=function(bJ){if(aH.curNavLevel=="l1"&&aH.O.thumbnailL1Label!==undefined&&aH.O.thumbnailL1Label[bJ]!==undefined){return aH.O.thumbnailL1Label[bJ]}else{return aH.O.thumbnailLabel[bJ]}};aH.O.thumbnailLabel.set=function(bJ,bK){if(aH.curNavLevel=="l1"&&aH.O.thumbnailL1Label!==undefined&&aH.O.thumbnailL1Label[bJ]!==undefined){aH.O.thumbnailL1Label[bJ]=bK}else{aH.O.thumbnailLabel[bJ]=bK}};aH.$E.base=jQuery(bC);aH.baseEltID=aH.$E.base.attr("id");aH.bodyOverflowInitial=jQuery("body").css("overflow");if(!Function.prototype.bind){Function.prototype.bind=function(bJ){if(typeof this!=="function"){throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable")}var bN=Array.prototype.slice.call(arguments,1),bM=this,bK=function(){},bL=function(){return bM.apply(this instanceof bK&&bJ?this:bJ,bN.concat(Array.prototype.slice.call(arguments)))};bK.prototype=this.prototype;bL.prototype=new bK();return bL}}String.prototype.replaceAll=function(bK,bJ){if(bJ===undefined){return this.toString()}return this.split(bK).join(bJ)};if(bg(jQuery.velocity)=="object"){aH.aengine="velocity"}else{if(bg(jQuery.transit)=="object"){aH.aengine="transition"}}jQuery(bC).addClass("nanogallery_theme_"+aH.O.theme);aU(bC);if(aH.O.thumbnailLabel.get("hideIcons")){var bG=".nanogallery_thumbnails_icons_off ",bI=bG+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImageTitle:before { display:none !important; }\n";bI+=bG+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelFolderTitle:before { display:none !important; }\n";jQuery("head").append("<style>"+bI+"</style>");jQuery(bC).addClass("nanogallery_thumbnails_icons_off")}if(aH.O.galleryToolbarHideIcons){var bG=".nanogallery_breadcrumb_icons_off ",bI=bG+".nanoGalleryNavigationbar .folderHome:before { display:none !important; }\n";bI+=bG+".nanoGalleryNavigationbar .folder:before { display:none !important; }\n";jQuery("head").append("<style>"+bI+"</style>");jQuery(bC).addClass("nanogallery_breadcrumb_icons_off")}if(aH.O.thumbnailLabel.get("align")=="right"){var bG=".nanogallery_thumbnails_label_align_right ",bI=bG+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : right !important; }\n";jQuery("head").append("<style>"+bI+"</style>");jQuery(bC).addClass("nanogallery_thumbnails_label_align_right")}if(aH.O.thumbnailLabel.get("align")=="center"){var bG=".nanogallery_thumbnails_label_align_center ",bI=bG+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : center !important; }\n";jQuery("head").append("<style>"+bI+"</style>");jQuery(bC).addClass("nanogallery_thumbnails_label_align_center")}if(aH.O.thumbnailLabel.get("align")=="left"){var bG=".nanogallery_thumbnails_label_align_left ",bI=bG+".nanoGalleryContainer .nanoGalleryThumbnailContainer .labelImage { text-align : left !important; }\n";jQuery("head").append("<style>"+bI+"</style>");jQuery(bC).addClass("nanogallery_thumbnails_label_align_left")}aH.$E.conNavBCon=jQuery('<div class="nanoGalleryNavigationbarContainer"></div>').appendTo(bC);aH.$E.conNavBCon.hide();aH.$E.conNavB=jQuery('<div class="nanoGalleryNavigationbar"></div>').appendTo(aH.$E.conNavBCon);var bA="";if(aH.O.RTL){bA='style="text-align:right;direction:rtl;"'}aH.$E.conBC=jQuery('<div class="nanoGalleryBreadcrumb" '+bA+"></div>").appendTo(aH.$E.conNavB);aH.$E.conLoadingB=jQuery('<div class="nanoGalleryLBarOff"><div></div><div></div><div></div><div></div><div></div></div>').appendTo(bC);aH.$E.conTnParent=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(bC);aH.$E.conTn=jQuery('<div class="nanoGalleryContainer nGEvent"></div>').appendTo(aH.$E.conTnParent);aH.$E.conConsole=jQuery('<div class="nanoGalleryConsoleParent"></div>').appendTo(bC);switch(aH.O.thumbnailAlignment){case"left":aH.$E.conTnParent.css({"text-align":"left"});aH.$E.conNavBCon.css({"margin-left":0});break;case"right":aH.$E.conTnParent.css({"text-align":"right"});aH.$E.conNavBCon.css({"margin-right":0});break}jQuery("head").append("<style>.nanogalleryHideElement {position: absolute !important; top: -9999px !important; left: -9999px !important;}</style>");var bE=jQuery('<div class="nanogalleryHideElement '+jQuery(bC).attr("class")+'"></div>').appendTo("body"),bD=jQuery('<div class="nanoGalleryContainerParent"></div>').appendTo(bE);aH.$E.conTnHid=jQuery('<div class="nanoGalleryContainer"></div>').appendTo(bD);if(aH.O.supportIE8){try{!window.addEventListener&&(function(bK,bN,bO,bM,bL,bP,bJ){bK[bM]=bN[bM]=bO[bM]=function(bQ,bR){var bS=this;bJ.unshift([bS,bQ,bR,function(bT){bT.currentTarget=bS;bT.preventDefault=function(){bT.returnValue=false};bT.stopPropagation=function(){bT.cancelBubble=true};bT.target=bT.srcElement||bS;bR.call(bS,bT)}]);this.attachEvent("on"+bQ,bJ[0][3])};bK[bL]=bN[bL]=bO[bL]=function(bS,bT){for(var bQ=0,bR;bR=bJ[bQ];++bQ){if(bR[0]==this&&bR[1]==bS&&bR[2]==bT){return this.detachEvent("on"+bS,bJ.splice(bQ,1)[0][3])}}};bK[bP]=bN[bP]=bO[bP]=function(bQ){return this.fireEvent("on"+bQ.type,bQ)}})(Window.prototype,HTMLDocument.prototype,Element.prototype,"addEventListener","removeEventListener","dispatchEvent",[])}catch(bF){af();return false}}else{if(aH.IE<=8){af();return false}}bf();var bz="";if(aH.O.RTL){bz='style="direction:rtl;"'}aH.$E.conPagin=jQuery('<div class="nanoGalleryPagination'+(aH.O.paginationDots?"Dot":"")+'" '+bz+"></div>").appendTo(aH.$E.conTnParent);aH.$E.conPagin.hide();var bH=new ak(aH.$E.conTn[0]);ap();if(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.msFullscreenEnabled||document.mozFullScreenEnabled){aH.supportFullscreenAPI=true}else{aQ("Your browser does not support the fullscreen API. Fullscreen button will not be displayed.")}bw();aH.L.nbMaxTnPerRow=aq();if(aH.O.viewerFullscreen&&aH.O.openOnStart.indexOf("/")>0){ngscreenfull.request()}if(aH.O.lazyBuild!="loadData"){au()}var by=0;jQuery(window).resize(function(){if(by){clearTimeout(by)}if(aH.containerViewerDisplayed){r()}else{by=setTimeout(function(){var bJ=P();if(aH.curAlbumIdx!=-1&&(aH.tn.settings.getH()!=aH.tn.settings.height[aH.curNavLevel][bJ]||aH.tn.settings.getW()!=aH.tn.settings.width[aH.curNavLevel][bJ])){aH.curWidth=bJ;a3(aH.curAlbumIdx,0)}else{e()}return},50)}});aH.$E.base.on("scroll",function(){br()});jQuery(window).on("scroll",function(){br()})};function br(){if(aH.scrollTimeOut){clearTimeout(aH.scrollTimeOut)}aH.scrollTimeOut=setTimeout(function(){if(!aH.containerViewerDisplayed){if(aH.O.lazyBuild=="loadData"){if(ag(aH.$E.conTnParent,aH.O.lazyBuildTreshold)){aH.O.lazyBuild="none";au()}}if(aH.delayedAlbumIdx!=-1&&ag(aH.$E.conTnParent,aH.O.lazyBuildTreshold)){bd(aH.delayedAlbumIdx,aH.delayedSetLocationHash)}aJ();return}},100)}function ad(by){aH.isShiftPressed=by.shiftKey;aH.isAltPressed=by.altKey;aH.isCtrlPressed=by.ctrlKey;aH.isMetaPressed=by.metaKey}function C(){return{animationEngine:aH.aengine,t:"test"}}function af(){var by="Your browser version is not supported anymore. The image gallery cannot be displayed. <br><br>Please update to a more recent one. Download:<br>";by+='&nbsp;&nbsp;&nbsp; <a href="http://www.google.com/chrome/">Chrome</a><br>';by+='&nbsp;&nbsp;&nbsp; <a href="http://www.mozilla.com/firefox/">Firefox</a><br>';by+='&nbsp;&nbsp;&nbsp; <a href="http://www.microsoft.com/windows/internet-explorer/default.aspx">Internet Explorer</a><br>';by+='&nbsp;&nbsp;&nbsp; <a href="http://www.apple.com/safari/download/">Safari</a>';aX(by,false)}function M(bA){var by=document.createElement("div");for(var bz=0;bz<bA.length;++bz){if(typeof by.style[bA[bz]]!="undefined"){return bA[bz]}}return null}function au(){var bF=Math.max(window.screen.width,window.screen.height);if(window.devicePixelRatio!=undefined){if(window.devicePixelRatio>1){bF=bF*window.devicePixelRatio}}for(var bA=0;bA<aH.tn.getHE().length;bA++){switch(aH.tn.getHE()[bA].name){case"imageScale150":case"imageScale150Outside":case"imageScaleIn80":case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":aH.tn.scale=Math.max(aH.tn.scale,1.5);break;case"scale120":aH.tn.scale=Math.max(aH.tn.scale,1.2);break}}var bz=0;if(aH.O.itemsBaseURL.length>0){aH.O.itemsBaseURL+="/"}switch(aH.O.kind){case"":m(aH.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1");if(aH.O.items!==undefined&&aH.O.items!==null){ab();if(!p(false)){bs(0,false)}}else{var bD=jQuery(aH.$E.base).children("a");if(bD.length>0){o(bD);if(!p(false)){bs(0,false)}}else{aX("error: no image to process.")}}break;case"flickr":if(!aH.O.flickrSkipOriginal){aH.flickr.photoAvailableSizes.push(10000);aH.flickr.photoAvailableSizesStr.push("o")}for(i=0;i<aH.flickr.photoAvailableSizes.length;i++){aH.flickr.photoSize=i;if(bF<=aH.flickr.photoAvailableSizes[i]){break}}m(aH.i18nTranslations.breadcrumbHome,"","","","","album","",aH.O.photoset.length>0?aH.O.photoset:"0","-1");aT(0,true,-1,false);break;case"json":m(aH.i18nTranslations.breadcrumbHome,"","","","","album","",aH.O.album.length>0?encodeURIComponent(aH.O.album):"0","-1");bp(0,true,-1,false);break;case"picasa":default:if(aH.O.album.length>0){var bE=aH.O.album.indexOf("&authkey=");if(bE>=0){var by=aH.O.album.substring(0,bE),bC=aH.O.album.substring(bE);if(bC.indexOf("Gv1sRg")==-1){bC="&authkey=Gv1sRg"+bC.substring(9)}var bB=m(aH.i18nTranslations.breadcrumbHome,"","","","","album","",by,"-1");bB.customData.authkey=bC}else{m(aH.i18nTranslations.breadcrumbHome,"","","","","album","",aH.O.album,"-1")}}else{m(aH.i18nTranslations.breadcrumbHome,"","","","","album","","0","-1")}H(0,true,-1,false);break}jQuery(document).keyup(function(bG){ad(bG);if(aH.containerViewerDisplayed){switch(bG.keyCode){case 27:bo(true);break;case 32:case 13:y();break;case 38:case 39:case 33:a4();break;case 40:case 37:case 34:bn();break;case 35:case 36:}}else{if(!aH.containerViewerDisplayed&&aH.curAlbumIdx>0&&aH.O.galleryEnableKeyboard){switch(bG.keyCode){case 27:bs(0,"false");break;case 38:case 39:case 33:aZ();break;case 40:case 37:case 34:g();break;case 32:case 13:case 35:case 36:}}}});jQuery(window).click(ad);jQuery(window).mousemove(ad);if(aH.O.locationHash){jQuery(window).bind("hashchange",function(){p(true)})}if(aH.O.galleryFullpageButton){if(aH.O.RTL){aH.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').prependTo(aH.$E.conNavB)}else{aH.$E.conNavBFullpage=jQuery('<div class="nanoGalleryFullpage setFullPageButton"></div>').appendTo(aH.$E.conNavB)}aH.$E.conNavBFullpage.on("click",function(bG){if(aH.$E.conNavBFullpage.hasClass("setFullPageButton")){if(aH.containerViewerDisplayed){return}if(aH.O.maxWidth>0){jQuery(aH.$E.base).css({maxWidth:""})}aH.$E.conNavBFullpage.removeClass("setFullPageButton").addClass("removeFullPageButton");bh("",aH.$E.base);for(bA=0;bA<aH.tn.getHE().length;bA++){if(/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(aH.tn.getHE()[bA].name)){aH.$E.base.css({overflow:"auto"})}}aH.$E.base.addClass("fullpage");jQuery("body").css({overflow:"hidden"});e()}else{if(aH.containerViewerDisplayed){return}aH.$E.conNavBFullpage.removeClass("removeFullPageButton").addClass("setFullPageButton");if(aH.O.maxWidth>0){jQuery(aH.$E.base).css({maxWidth:aH.O.maxWidth})}aH.$E.base.removeClass("fullpage");for(bA=0;bA<aH.tn.getHE().length;bA++){if(/scale120|imageScale150Outside|overScaleOutside|imageFlipHorizontal|imageFlipVertical/i.test(aH.tn.getHE()[bA].name)){aH.$E.base.css({overflow:"visible"})}}av();e()}})}}function av(){jQuery("body").css({overflow:"visible"});return;if(aH.bodyOverflowInitial!=null&&aH.bodyOverflowInitial!=undefined){jQuery("body").css({overflow:aH.bodyOverflowInitial})}else{jQuery("body").css({overflow:"auto"})}}function ax(by,bz){jQuery(by).css({left:bz})}function ak(bE){var bG=bE,by=false,bA=null,bM=null,bL=0,bB=false,bI=null;var bF=0;function bO(bP){if(bP==undefined){return}if(aH.$currentTouchedThumbnail!=null){Q(aH.$currentTouchedThumbnail)}aH.$currentTouchedThumbnail=null;if(typeof aH.O.fnThumbnailClicked==="function"){if(!aH.O.fnThumbnailClicked(aH.I[bP].$elt,aH.I[bP])){return}}if(aH.I[bP].destinationURL!==undefined&&aH.I[bP].destinationURL.length>0){window.location=aH.I[bP].destinationURL;return}aH.openNoDelay=false;if(aH.I[bP].kind=="album"){U(bP,false,-1,true)}else{a6(bP,false)}}this.handleGestureStartNoDelay=function(bQ){var bP=(jQuery(bQ.target).get(0).tagName).toUpperCase();if(aH.containerViewerDisplayed||bP=="A"||bP=="INPUT"||jQuery(bQ.target).hasClass("customEventHandler")){if(jQuery(bQ.target).hasClass("ngChekbox")){var bR=jQuery(bQ.target).parent().data("index");if(bR!=undefined){aG(aH.I[bR],undefined,false)}}bQ.stopPropagation();return false}ad(bQ);if((new Date().getTime())-aH.timeLastTouchStart<400&&aH.O.itemsSelectable!==true){return}aH.openNoDelay=true;this.handleGestureStart(bQ)}.bind(this);this.handleGestureStart=function(bS){var bP=(jQuery(bS.target).get(0).tagName).toUpperCase();if(aH.containerViewerDisplayed||bP=="A"||bP=="INPUT"||jQuery(bS.target).hasClass("customEventHandler")){bS.stopPropagation();return false}if((new Date().getTime())-aH.timeImgChanged<400&&aH.O.itemsSelectable!==true){return}if((new Date().getTime())-aH.timeLastTouchStart<400&&aH.O.itemsSelectable!==true){return}aH.timeLastTouchStart=new Date().getTime();var bR=bS.target||bS.srcElement;var bQ=false;while(bR!=aH.$E.conTn[0]){if(jQuery(bR).hasClass("nanoGalleryThumbnailContainer")){if(aH.$currentTouchedThumbnail!=null&&!aH.$currentTouchedThumbnail.is(jQuery(bR))){an()}aH.$currentTouchedThumbnail=jQuery(bR);bQ=true}bR=bR.parentNode}if(!bQ){return}if(aH.O.itemsSelectable===true){if(aH.isShiftPressed||aH.isCtrlPressed||aH.isMetaPressed||bS.target.nodeName.toLowerCase()==="input"){aG(aH.I[aH.$currentTouchedThumbnail.data("index")]);return false}if(aH.selectMode===true){aG(aH.I[aH.$currentTouchedThumbnail.data("index")]);return false}if(aH.I[aH.$currentTouchedThumbnail.data("index")].kind===aH.selectMode){aG(aH.I[aH.$currentTouchedThumbnail.data("index")]);return false}var bT=aH.$currentTouchedThumbnail.data("index");aH.touchSelectTO=setTimeout(function(){aG(aH.I[bT])},500)}bF=al();bA=bK(bS);initialOffsetTop=al().t;if(window.navigator.msPointerEnabled){document.addEventListener("MSPointerMove",this.handleGestureMove,true);document.addEventListener("MSPointerUp",this.handleGestureEnd,true)}else{document.addEventListener("touchmove",this.handleGestureMove,true);document.addEventListener("touchend",this.handleGestureEnd,true);document.addEventListener("touchcancel",this.handleGestureEnd,true);document.addEventListener("mousemove",this.handleGestureMove,true);document.addEventListener("mouseup",this.handleGestureEnd,true)}aH.$E.base.addClass("unselectable").find("*").attr("draggable","false").attr("unselectable","on");aH.gallerySwipeInitDone=true}.bind(this);this.handleGestureMove=function(bP){bM=bK(bP);if(by){return}if(aH.O.paginationSwipe){if(aH.pgMaxLinesPerPage>0&&aH.tn.settings.getH()!="auto"&&aH.tn.settings.getW()!="auto"){if(Math.abs(bA.x-bM.x)>15||bB){bP.preventDefault();bB=true;by=true;window.requestAnimationFrame(bN)}}}}.bind(this);this.handleGestureEnd=function(bP){if(bP.cancelable){bP.preventDefault()}bP.stopPropagation();by=false;bB=false;if(window.navigator.msPointerEnabled){document.removeEventListener("MSPointerMove",this.handleGestureMove,true);document.removeEventListener("MSPointerUp",this.handleGestureEnd,true)}else{document.removeEventListener("touchmove",this.handleGestureMove,true);document.removeEventListener("touchend",this.handleGestureEnd,true);document.removeEventListener("touchcancel",this.handleGestureEnd,true);document.removeEventListener("mousemove",this.handleGestureMove,true);document.removeEventListener("mouseup",this.handleGestureEnd,true)}if(aH.O.itemsSelectable===true){if((new Date().getTime()-aH.timeLastTouchStart)>500){return false}else{clearTimeout(aH.touchSelectTO)}}aH.$E.base.addClass("unselectable").find("*").attr("draggable","true").attr("unselectable","off");bD();bA=null;bM=null;bL=0;bB=false;bI=null}.bind(this);function bz(){bL=0;bA=null;bM=null;ax(aH.$E.conTn[0],0);if(aH.containerViewerDisplayed){aH.$currentTouchedThumbnail=null;aH.openNoDelay=false}else{if(aH.$currentTouchedThumbnail!=null){if(Math.abs(bF.t-al().t)>10){Q(aH.$currentTouchedThumbnail);aH.$currentTouchedThumbnail=null;aH.openNoDelay=false;return}var bQ=aH.$currentTouchedThumbnail;var bP=bQ.data("index");if(bP==undefined){return}if((aH.curNavLevel=="l1"&&aH.O.touchAnimationL1!==undefined?aH.O.touchAnimationL1:aH.O.touchAnimation)&&!aH.openNoDelay){if(aH.O.touchAutoOpenDelay>0){an();aC(bQ);window.clearInterval(aH.touchAutoOpenDelayTimerID);aH.touchAutoOpenDelayTimerID=window.setInterval(function(){window.clearInterval(aH.touchAutoOpenDelayTimerID);if(Math.abs(bF.t-al().t)>10){aH.openNoDelay=false;aH.$currentTouchedThumbnail=null;Q(bQ)}else{bO(bP)}},aH.O.touchAutoOpenDelay)}else{if(!aH.I[bP].hovered){an();aC(bQ)}else{bO(bP)}}}else{bO(bP)}}else{aH.openNoDelay=false}}return}function bD(){if(bM==null||bA==null){bz();return}var bQ=bA.x-bM.x;var bP=bA.y-bM.y;bL=bL-bQ;if(aH.pgMaxLinesPerPage>0&&aH.tn.settings.getH()!="auto"&&aH.tn.settings.getW()!="auto"){if(aH.O.paginationSwipe&&(Math.abs(bQ)>40&&Math.abs(bF.t-al().t)<=10)){aH.$currentTouchedThumbnail=null;bL=0;bA=null;bM=null;an();if(bQ<-40){aS()}else{ar()}}else{bz()}}else{bz()}return}function bK(bQ){var bP={};if(bQ.targetTouches){bP.x=bQ.targetTouches[0].clientX;bP.y=bQ.targetTouches[0].clientY}else{bP.x=bQ.clientX;bP.y=bQ.clientY}return bP}function bN(){if(!by){return}if(aH.pgMaxLinesPerPage>0&&aH.tn.settings.getH()!="auto"&&aH.tn.settings.getW()!="auto"){var bP=bA.x-bM.x;ax(bG,bL-bP)}by=false}function bC(bQ){if(aH.containerViewerDisplayed){return}var bP=bQ.target||bQ.srcElement;if(jQuery(bP).hasClass("nanoGalleryThumbnailContainer")){aC(jQuery(bP))}}function bH(bQ){var bP=bQ.target||bQ.srcElement;if(jQuery(bP).hasClass("nanoGalleryThumbnailContainer")){Q(jQuery(bP))}}if(window.navigator.msPointerEnabled){bG.addEventListener("MSPointerDown",this.handleGestureStartNoDelay,true)}else{bG.addEventListener("touchstart",this.handleGestureStart,true);if(!aH.isIOS){var bJ=this;bG.addEventListener("mousedown",function(bP){if(bP.button!=2){bJ.handleGestureStartNoDelay(bP)}},true)}}bG.addEventListener("mouseenter",bC,true);bG.addEventListener("mouseleave",bH,true)}(function(){var bz=0;var bA=["ms","moz","webkit","o"];for(var by=0;by<bA.length&&!window.requestAnimationFrame;++by){window.requestAnimationFrame=window[bA[by]+"RequestAnimationFrame"];window.cancelAnimationFrame=window[bA[by]+"CancelAnimationFrame"]||window[bA[by]+"CancelRequestAnimationFrame"]}if(!window.requestAnimationFrame){window.requestAnimationFrame=function(bF,bC){var bB=new Date().getTime();var bD=Math.max(0,16-(bB-bz));var bE=window.setTimeout(function(){bF(bB+bD)},bD);bz=bB+bD;return bE}}if(!window.cancelAnimationFrame){window.cancelAnimationFrame=function(bB){clearTimeout(bB)}}}());function bf(){if(aH.O.viewer=="fancybox"){if(typeof(jQuery.fancybox)==="undefined"){aH.O.viewer="internal";aQ("Fancybox could not be found. Fallback to internal viewer. Please check the files included in the HTML page.")}}if(aH.O.userID.toUpperCase()=="CBRISBOIS@GMAIL.COM"||aH.O.userID=="111186676244625461692"){if(aH.O.blackList==""||aH.O.blackList.toUpperCase()=="SCRAPBOOK|PROFIL"){aH.O.blackList="profil|scrapbook|forhomepage"}}if(aH.O.blackList!=""){aH.blackList=aH.O.blackList.toUpperCase().split("|")}if(aH.O.whiteList!=""){aH.whiteList=aH.O.whiteList.toUpperCase().split("|")}if(aH.O.albumList!=""){aH.albumList=aH.O.albumList.toUpperCase().split("|")}if(aH.O.kind=="picasa"||aH.O.kind=="flickr"||aH.O.kind=="json"){aH.O.displayBreadcrumb=true}if(aH.O.photoset!==undefined){if(aH.O.photoset.length>0){aH.O.displayBreadcrumb=false}}else{aH.O.photoset=""}if(aH.O.album!==undefined){if(aH.O.album.length>0){aH.O.displayBreadcrumb=false}}else{aH.O.album=""}if(aH.O.maxWidth>0){jQuery(aH.$E.base).css({maxWidth:aH.O.maxWidth});jQuery(aH.$E.base).css({"margin-left":"auto"});jQuery(aH.$E.base).css({"margin-right":"auto"})}if(bg(aH.O.slideshowDelay)=="number"&&aH.O.slideshowDelay>=2000){aH.slideshowDelay=aH.O.slideshowDelay}else{aQ('Parameter "slideshowDelay" must be an integer >= 2000 ms.')}if(bg(aH.O.thumbnailDisplayInterval)=="number"&&aH.O.thumbnailDisplayInterval>=0){aH.tn.displayInterval=aH.O.thumbnailDisplayInterval}else{aQ('Parameter "thumbnailDisplayInterval" must be an integer.')}if(bg(aH.O.thumbnailLazyLoadTreshold)=="number"&&aH.O.thumbnailLazyLoadTreshold>=0){aH.tn.lazyLoadTreshold=aH.O.thumbnailLazyLoadTreshold}else{aQ('Parameter "thumbnailLazyLoadTreshold" must be an integer.')}if(bg(aH.O.paginationMaxLinesPerPage)=="number"&&aH.O.paginationMaxLinesPerPage>=0){aH.pgMaxLinesPerPage=aH.O.paginationMaxLinesPerPage}else{aQ('Parameter "paginationMaxLinesPerPage" must be an integer.')}if(aH.O.thumbnailSizeSM!==undefined){aH.O.breakpointSizeSM=aH.O.thumbnailSizeSM}if(aH.O.thumbnailSizeME!==undefined){aH.O.breakpointSizeME=aH.O.thumbnailSizeME}if(aH.O.thumbnailSizeLA!==undefined){aH.O.breakpointSizeLA=aH.O.thumbnailSizeLA}if(aH.O.thumbnailSizeXL!==undefined){aH.O.breakpointSizeXL=aH.O.thumbnailSizeXL}var bK=aH.O.albumSorting.toUpperCase();if(bK.indexOf("RANDOM")==0&&bK.length>6){n=parseInt(bK.substring(6));if(n>0){aH.maxAlbums=n}aH.O.albumSorting="random"}var bI=aH.O.photoSorting.toUpperCase();if(bI.indexOf("RANDOM")==0&&bI.length>6){n=parseInt(bI.substring(6));if(n>0){aH.maxPhotos=n}aH.O.photoSorting="random"}var bA=parseInt(aH.O.albumMax);if(bA>0){aH.maxAlbums=n}var bG=aH.O.thumbnailL1HoverEffect;if(bG!==undefined){switch(bg(bG)){case"string":var bC=bG.split(",");for(var bD=0;bD<bC.length;bD++){if(bC[bD]!="none"&&l(bC[bD])){var bB=a5();bB.name=bC[bD];aH.tnL1HE.push(bB)}}break;case"object":if(bG.name!="none"&&l(bG.name)){var bB=a5();aH.tnL1HE.push(jQuery.extend(bB,bG))}break;case"array":for(var bD=0;bD<bG.length;bD++){if(bG[bD].name!="none"&&l(bG[bD].name)){var bB=a5();aH.tnL1HE.push(jQuery.extend(bB,bG[bD]))}}break;case"null":break;default:aX('incorrect parameter for "thumbnailL1HoverEffect".')}}var bz=aH.O.thumbnailHoverEffect;switch(bg(bz)){case"string":var bC=bz.split(",");for(var bD=0;bD<bC.length;bD++){if(bC[bD]!="none"&&l(bC[bD])){var bB=a5();bB.name=bC[bD];aH.tnHE.push(bB)}}break;case"object":if(bz.name!="none"&&l(bz.name)){var bB=a5();aH.tnHE.push(jQuery.extend(bB,bz))}break;case"array":for(var bD=0;bD<bz.length;bD++){if(bz[bD].name!="none"&&l(bz[bD].name)){var bB=a5();aH.tnHE.push(jQuery.extend(bB,bz[bD]))}}break;case"null":break;default:aX('incorrect parameter for "thumbnailHoverEffect".')}if(aH.tnHE.length==0){if(aH.tnL1HE.length==0){aH.O.touchAnimationL1=false}aH.O.touchAnimation=false}aH.curWidth=P();if(bg(aH.O.thumbnailWidth)=="number"){K("width","l1",aH.O.thumbnailWidth,"u");K("width","lN",aH.O.thumbnailWidth,"u")}else{var bE=aH.O.thumbnailWidth.split(" ");var bJ="auto";if(bE[0].substring(0,4)!="auto"){bJ=parseInt(bE[0])}var bF="u";if(bE[0].charAt(bE[0].length-1)=="C"){bF="c"}K("width","l1",bJ,bF);K("width","lN",bJ,bF);for(var bD=1;bD<bE.length;bD++){var by=bE[bD].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(by)){var bH=bE[bD].substring(2);var bJ="auto";if(bH.substring(0,4)!="auto"){bJ=parseInt(bH)}var bF="u";if(bH.charAt(bH.length-1)=="C"){bF="c"}aH.tn.settings.width.l1[by]=bJ;aH.tn.settings.width.lN[by]=bJ;aH.tn.settings.width.l1[by+"c"]=bF;aH.tn.settings.width.lN[by+"c"]=bF}}}if(aH.O.thumbnailL1Width!=undefined){if(bg(aH.O.thumbnailL1Width)=="number"){K("width","l1",aH.O.thumbnailL1Width,"u")}else{var bE=aH.O.thumbnailL1Width.split(" ");var bJ="auto";if(bE[0].substring(0,4)!="auto"){bJ=parseInt(bE[0])}var bF="u";if(bE[0].charAt(bE[0].length-1)=="C"){bF="c"}K("width","l1",bJ,bF);for(var bD=1;bD<bE.length;bD++){var by=bE[bD].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(by)){var bH=bE[bD].substring(2);var bJ="auto";if(bH.substring(0,4)!="auto"){bJ=parseInt(bH)}var bF="u";if(bH.charAt(bH.length-1)=="C"){bF="c"}aH.tn.settings.width.l1[by]=bJ;aH.tn.settings.width.l1[by+"c"]=bF}}}}if(bg(aH.O.thumbnailHeight)=="number"){K("height","l1",aH.O.thumbnailHeight,"u");K("height","lN",aH.O.thumbnailHeight,"u")}else{var bE=aH.O.thumbnailHeight.split(" ");var bJ="auto";if(bE[0].substring(0,4)!="auto"){bJ=parseInt(bE[0])}var bF="u";if(bE[0].charAt(bE[0].length-1)=="C"){bF="c"}K("height","l1",bJ,bF);K("height","lN",bJ,bF);for(var bD=1;bD<bE.length;bD++){var by=bE[bD].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(by)){var bH=bE[bD].substring(2);var bJ="auto";if(bH.substring(0,4)!="auto"){bJ=parseInt(bH)}var bF="u";if(bH.charAt(bH.length-1)=="C"){bF="c"}aH.tn.settings.height.l1[by]=bJ;aH.tn.settings.height.lN[by]=bJ;aH.tn.settings.height.l1[by+"c"]=bF;aH.tn.settings.height.lN[by+"c"]=bF}}}if(aH.O.thumbnailL1Height!=undefined){if(bg(aH.O.thumbnailL1Height)=="number"){K("height","l1",aH.O.thumbnailL1Height,"u")}else{var bE=aH.O.thumbnailL1Height.split(" ");var bJ="auto";if(bE[0].substring(0,4)!="auto"){bJ=parseInt(bE[0])}var bF="u";if(bE[0].charAt(bE[0].length-1)=="C"){bF="c"}K("height","l1",bJ,bF);for(var bD=1;bD<bE.length;bD++){var by=bE[bD].substring(0,2).toLowerCase();if(/xs|sm|me|la|xl/i.test(by)){var bH=bE[bD].substring(2);var bJ="auto";if(bH.substring(0,4)!="auto"){bJ=parseInt(bH)}var bF="u";if(bH.charAt(bH.length-1)=="C"){bF="c"}aH.tn.settings.height.l1[by]=bJ;aH.tn.settings.height.l1[by+"c"]=bF}}}}}function K(bz,bB,by,bA){aH.tn.settings[bz][bB]["xs"]=by;aH.tn.settings[bz][bB]["sm"]=by;aH.tn.settings[bz][bB]["me"]=by;aH.tn.settings[bz][bB]["la"]=by;aH.tn.settings[bz][bB]["xl"]=by;aH.tn.settings[bz][bB]["xsc"]=bA;aH.tn.settings[bz][bB]["smc"]=bA;aH.tn.settings[bz][bB]["mec"]=bA;aH.tn.settings[bz][bB]["lac"]=bA;aH.tn.settings[bz][bB]["xlc"]=bA}function P(){var by=al().w;if(aH.O.breakpointSizeSM>0&&by<aH.O.breakpointSizeSM){return"xs"}if(aH.O.breakpointSizeME>0&&by<aH.O.breakpointSizeME){return"sm"}if(aH.O.breakpointSizeLA>0&&by<aH.O.breakpointSizeLA){return"me"}if(aH.O.breakpointSizeXL>0&&by<aH.O.breakpointSizeXL){return"la"}return"xl"}function ai(){var by=Math.max(al().w,al().h);if(aH.O.breakpointSizeSM>0&&by<aH.O.breakpointSizeSM){return"xs"}if(aH.O.breakpointSizeME>0&&by<aH.O.breakpointSizeME){return"sm"}if(aH.O.breakpointSizeLA>0&&by<aH.O.breakpointSizeLA){return"me"}if(aH.O.breakpointSizeXL>0&&by<aH.O.breakpointSizeXL){return"la"}return"xl"}function a5(){var by={delay:0,delayBack:0,duration:400,durationBack:200,easing:"swing",easingBack:"swing",animParam:null};if(aH.aengine!="animate"){by.easing="ease";by.easingBack="ease"}return by}function l(bz){var by=/labelOpacity50|borderLighter|borderDarker/i.test(bz),bB=/imageFlipVertical|imageFlipHorizontal|imageRotateCornerBR|imageRotateCornerBL|rotateCornerBL|rotateCornerBR|imageScale150|overScale|overScaleOutside|imageScaleIn80|imageScale150Outside|scale120|scaleLabelOverImage|slideUp|slideDown|slideLeft|slideRight|imageSlideUp|imageSlideDown|imageSlideLeft|imageSlideRight|labelAppear|labelAppear75|descriptionAppear|labelSlideDown|labelSlideUp|labelSlideUpTop|imageInvisible|imageOpacity50|descriptionSlideUp|labelSplitVert|labelSplit4|labelAppearSplitVert|labelAppearSplit4|imageSplitVert|imageSplit4/i.test(bz),bA=/imageExplode/i.test(bz);aH.O.touchAutoOpenDelay=parseInt(aH.O.touchAutoOpenDelay);if(aH.O.touchAutoOpenDelay==0){aH.O.touchAutoOpenDelay=1000}if(!by&&!bB&&!bA){aX('Unknow parameter value: thumbnailHoverEffect="'+bz+'".');return false}if(aH.O.thumbnailLabel.get("position")=="onBottom"&&!/borderLighter|borderDarker|imageOpacity50|imageScale150|imageScaleIn80|imageSlide2Up|imageSlide2Down|imageSlide2Left|imageSlide2Right|imageSlide2Random|imageSlide2UpRight|imageSlide2UpLeft|imageSlide2DownRight|imageSlide2DownLeft|imageScale150Outside|scale120/i.test(bz)){aX('The parameter combination thumbnailHoverEffect="'+bz+'" and thumbnailLabel.position="onBottom" is not supported.');return false}if((bA&&(aH.aengine=="animate"||aH.CSStransformName==null))){aQ('Parameter thumbnailHoverEffect="'+bz+'" requires one of the additionals jQuery plugins "Velocity" or "Transit".');return false}return true}function ap(){aH.i18nLang=(navigator.language||navigator.userLanguage).toUpperCase();if(aH.i18nLang==="UNDEFINED"){aH.i18nLang=""}var bA=-("_"+aH.i18nLang).length;if(bg(aH.O.i18n)=="object"){for(var by in aH.O.i18n){var bz=by.substr(bA);if(bz==("_"+aH.i18nLang)){aH.i18nTranslations[by.substr(0,by.length-bz.length)]=aH.O.i18n[by]}else{aH.i18nTranslations[by]=aH.O.i18n[by]}}}}function p(bA){if(aH.O.openOnStart!=""){var by=aH.O.openOnStart;aH.O.openOnStart="";return J(false,by,true)}if(!aH.O.locationHash){return false}var bz=null,bB=null,bD="#nanogallery/"+aH.baseEltID+"/",bC=location.hash;if(bC==aH.lastLocationHash){return}if(bC==""){if(aH.lastOpenAlbumID!=-1){aH.lastLocationHash="";U(0,false,-1,false);return true}}if(bC.indexOf(bD)==0){var by=bC.substring(bD.length);return J(bA,by,!bA)}}function J(bE,bH,bB){var by=null,bG=null,bz=bH.indexOf("/"),bD=-1,bF=-1,bA=aH.I.length;if(bz>0){by=bH.substring(0,bz);bG=bH.substring(bz+1);for(var bC=0;bC<bA;bC++){if(aH.I[bC].kind=="image"&&aH.I[bC].GetID()==bG){bF=bC;break}}}else{by=bH}for(var bC=0;bC<bA;bC++){if(aH.I[bC].kind=="album"&&aH.I[bC].GetID()==by){bD=bC;break}}if(bG!==null){if(bB){aH.albumIdxToOpenOnViewerClose=bD}if(aH.O.kind==""){a6(bF)}else{if(bF==-1){if(aH.O.viewerFullscreen){ngscreenfull.request()}U(bD,false,bG,bE)}else{a6(bF)}}return true}else{U(bD,false,-1,bE);return true}}function bw(){aH.I=[];aH.curNavLevel="lN";var bE="";if(aH.O.thumbnailLabel.get("displayDescription")){bE="d"}var bC=m("dummydummydummy",aH.emptyGif,aH.emptyGif,bE,"","image","","1","0"),bD=am(bC,0,false).e$;aH.tn.borderWidth=bD.outerWidth(true)-bD.width();aH.tn.borderHeight=bD.outerHeight(true)-bD.height();aH.tn.imgcBorderWidth=bD.find(".imgContainer").outerWidth(true)-bD.find(".imgContainer").width();aH.tn.imgcBorderHeight=bD.find(".imgContainer").outerHeight(true)-bD.find(".imgContainer").height();aH.tn.labelBorderHeight=bD.find(".labelImage").outerHeight(true)-bD.find(".labelImage").height();aH.tn.labelBorderWidth=bD.find(".labelImage").outerWidth(true)-bD.find(".labelImage").width();if(aH.O.thumbnailLabel.get("position")=="onBottom"){aH.tn.labelHeight.lN=bD.find(".labelImage").outerHeight(true);aH.tn.labelHeight.l1=aH.tn.labelHeight.lN}var by=["xs","sm","me","la","xl"];for(var bA=0;bA<by.length;bA++){bz=aH.tn.settings.width.lN[by[bA]];if(bz!="auto"){aH.tn.outerWidth.lN[by[bA]]=bz+aH.tn.borderWidth+aH.tn.imgcBorderWidth;aH.tn.outerWidth.l1[by[bA]]=bz+aH.tn.borderWidth+aH.tn.imgcBorderWidth}else{aH.tn.outerWidth.lN[by[bA]]=0;aH.tn.outerWidth.l1[by[bA]]=0}}for(var bA=0;bA<by.length;bA++){bB=aH.tn.settings.height.lN[by[bA]];if(bB!="auto"){aH.tn.outerHeight.lN[by[bA]]=bB+aH.tn.borderHeight+aH.tn.imgcBorderHeight+aH.tn.labelHeight.get();aH.tn.outerHeight.l1[by[bA]]=bB+aH.tn.borderHeight+aH.tn.imgcBorderHeight+aH.tn.labelHeight.get()}else{aH.tn.outerHeight.lN[by[bA]]=0;aH.tn.outerHeight.l1[by[bA]]=0}}aH.I=[];aH.curNavLevel="l1";bE="";if(aH.O.thumbnailLabel.get("displayDescription")){bE="d"}bC=m("dummydummydummy",aH.emptyGif,aH.emptyGif,bE,"","image","","1","0");bD=am(bC,0,false).e$;aH.tn.borderWidth=bD.outerWidth(true)-bD.width();aH.tn.borderHeight=bD.outerHeight(true)-bD.height();aH.tn.imgcBorderWidth=bD.find(".imgContainer").outerWidth(true)-bD.find(".imgContainer").width();aH.tn.imgcBorderHeight=bD.find(".imgContainer").outerHeight(true)-bD.find(".imgContainer").height();aH.tn.labelBorderHeight=bD.find(".labelImage").outerHeight(true)-bD.find(".labelImage").height();aH.tn.labelBorderWidth=bD.find(".labelImage").outerWidth(true)-bD.find(".labelImage").width();if(aH.O.thumbnailLabel.get("position")=="onBottom"){aH.tn.labelHeight.l1=bD.find(".labelImage").outerHeight(true)}var by=["xs","sm","me","la","xl"];for(var bA=0;bA<by.length;bA++){var bz=aH.tn.settings.width.l1[by[bA]];if(bz!="auto"){aH.tn.outerWidth.l1[by[bA]]=bz+aH.tn.borderWidth+aH.tn.imgcBorderWidth}else{aH.tn.outerWidth.l1[by[bA]]=0}}for(var bA=0;bA<by.length;bA++){var bB=aH.tn.settings.height.l1[by[bA]];if(bB!="auto"){aH.tn.outerHeight.l1[by[bA]]=bB+aH.tn.borderHeight+aH.tn.imgcBorderHeight+aH.tn.labelHeight.get()}else{aH.tn.outerHeight.l1[by[bA]]=0}}aH.pgMaxNbThumbnailsPerRow=aq();aH.custGlobals.oldBorderColor=bD.css("border-color-top");if(aH.custGlobals.oldBorderColor==""||aH.custGlobals.oldBorderColor==null||aH.custGlobals.oldBorderColor==undefined){aH.custGlobals.oldBorderColor="#000"}aH.custGlobals.oldLabelOpacity=bD.find(".labelImage").css("opacity");var bF=jQuery.Color(bD.find(".labelImage"),"backgroundColor");if(bF=="transparent"){aH.custGlobals.oldLabelRed=0;aH.custGlobals.oldLabelGreen=0;aH.custGlobals.oldLabelBlue=0}else{aH.custGlobals.oldLabelRed=bF.red();aH.custGlobals.oldLabelGreen=bF.green();aH.custGlobals.oldLabelBlue=bF.blue()}aH.I=[];if(aH.O.thumbnailLabel.display){switch(aH.O.thumbnailLabel.position){case"onBottom":aH.tn.styleLabelImage="top:0; position:relative; left:0; right:0;";aH.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;";if(aH.tn.settings.getH()=="auto"){aH.tn.styleFTitle="white-space:normal;";aH.tn.styleL1FTitle="white-space:normal;";aH.tn.styleITitle="white-space:normal;";aH.tn.styleL1ITitle="white-space:normal;";aH.tn.styleDesc="white-space:normal;";aH.tn.styleL1Desc="white-space:normal;"}else{aH.tn.styleFTitle="white-space:nowrap;";aH.tn.styleL1FTitle="white-space:nowrap;";aH.tn.styleITitle="white-space:nowrap;";aH.tn.styleL1ITitle="white-space:nowrap;";aH.tn.styleDesc="white-space:nowrap;";aH.tn.styleL1Desc="white-space:nowrap;"}break;case"overImageOnTop":aH.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;";aH.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":aH.tn.styleLabelImage="top:0; bottom:0; left:0; right:0;";aH.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";aH.tn.styleFTitle="left:0; right:0; position:absolute; bottom:50%;";aH.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;";aH.tn.styleITitle="left:0; right:0; position:absolute; bottom:50%;";aH.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;";aH.tn.styleDesc="left:0; right:0; position:absolute; top:50%;";aH.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":break;case"overImageOnBottom":default:aH.O.thumbnailLabel.position="overImageOnBottom";aH.tn.styleLabelImage="bottom:0; left:0; right:0;";aH.tn.styleL1LabelImage="bottom:0; left:0; right:0;";break}}if(aH.O.thumbnailL1Label&&aH.O.thumbnailL1Label.display){switch(aH.O.thumbnailL1Label.position){case"onBottom":aH.tn.styleL1LabelImage="top:0; position:relative; left:0; right:0;";if(aH.tn.settings.getH()=="auto"){aH.tn.styleL1FTitle="white-space:normal;";aH.tn.styleL1ITitle="white-space:normal;";aH.tn.styleL1Desc="white-space:normal;"}else{aH.tn.styleL1FTitle="white-space:nowrap;";aH.tn.styleL1ITitle="white-space:nowrap;";aH.tn.styleL1Desc="white-space:nowrap;"}break;case"overImageOnTop":aH.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";break;case"overImageOnMiddle":aH.tn.styleL1LabelImage="top:0; bottom:0; left:0; right:0;";aH.tn.styleL1FTitle="left:0; right:0; position:absolute; bottom:50%;";aH.tn.styleL1ITitle="left:0; right:0; position:absolute; bottom:50%;";aH.tn.styleL1Desc="left:0; right:0; position:absolute; top:50%;";break;case"custom":aH.tn.styleL1LabelImage="";break;case"overImageOnBottom":default:aH.O.thumbnailL1Label.position="overImageOnBottom";aH.tn.styleL1LabelImage="bottom:0; left:0; right:0;";break}}}function Z(bz,bA){var by="";if(aH.i18nLang!=""){if(bz[bA+"_"+aH.i18nLang]!==undefined&&bz[bA+"_"+aH.i18nLang].length>0){by=bz[bA+"_"+aH.i18nLang];return by}}by=bz[bA];return by}function bj(bz){if(aH.O.thumbnailLabel.get("title")=="%filename"){return(bz.split("/").pop()).replace("_"," ")}if(aH.O.thumbnailLabel.get("title")=="%filenameNoExt"){var by=bz.split("/").pop();return(by.split(".").shift()).replace("_"," ")}return bz}function ab(){var bB=false;if(typeof aH.O.dataSorting!=="undefined"){if(aH.O.dataSorting=="random"){aH.O.items=S(aH.O.items)}else{if(aH.O.dataSorting=="reversed"){aH.O.items=aH.O.items.reverse()}}}jQuery.each(aH.O.items,function(bK,bR){var bO="";bO=Z(bR,"title");if(bO===undefined){bO=""}var bF=aH.O.itemsBaseURL;if(bR["src"+ai().toUpperCase()]!==undefined){bF+=bR["src"+ai().toUpperCase()]}else{bF+=bR.src}var bJ="";if(bR.srct!==undefined&&bR.srct.length>0){bJ=aH.O.itemsBaseURL+bR.srct}else{bJ=bF}var bQ="";if(bR.srct2x!==undefined&&bR.srct2x.length>0){bQ=aH.O.itemsBaseURL+bR.srct2x}else{if(bJ!=""){bQ=bJ}else{bQ=bF}}if(aH.O.thumbnailLabel.get("title")!=""){bO=bj(bF)}var bP="";bP=Z(bR,"description");if(bP===undefined){bP=""}var bG="";if(bR.destURL!==undefined&&bR.destURL.length>0){bG=bR.destURL}var bS=Z(bR,"tags");if(bS===undefined){bS=""}var bE=0;if(bR.albumID!==undefined){bE=bR.albumID;bB=true}var bN=null;if(bR.ID!==undefined){bN=bR.ID}var bI="image";if(bR.kind!==undefined&&bR.kind.length>0){bI=bR.kind}var bM=m(bO,bJ,bF,bP,bG,bI,bS,bN,bE);var bL=0;if(bR.imgtWidth!==undefined&&bR.imgtWidth>0){bL=bR.imgtWidth}var bH=0;if(bR.imgtHeight!==undefined&&bR.imgtHeight>0){bH=bR.imgtHeight}bM.thumbs={url:{l1:{xs:bJ,sm:bJ,me:bJ,la:bJ,xl:bJ},lN:{xs:bJ,sm:bJ,me:bJ,la:bJ,xl:bJ}},width:{l1:{xs:bL,sm:bL,me:bL,la:bL,xl:bL},lN:{xs:bL,sm:bL,me:bL,la:bL,xl:bL}},height:{l1:{xs:bH,sm:bH,me:bH,la:bH,xl:bH},lN:{xs:bH,sm:bH,me:bH,la:bH,xl:bH}}};if(bR.customData!==null){bM.customData=aI(bR.customData)}if(typeof aH.O.fnProcessData=="function"){aH.O.fnProcessData(bM,"api",null)}});if(bB){aH.O.displayBreadcrumb=true}var bz=aH.I.length,by=0,bA=0;for(var bD=0;bD<bz;bD++){by=0;bA=0;for(var bC=0;bC<bz;bC++){if(bD!=bC&&aH.I[bD].GetID()==aH.I[bC].albumID){by++;if(aH.I[bC].kind=="image"){aH.I[bC].imageNumber=bA++}}}aH.I[bD].contentLength=by}}function aI(bA){if(bA===null||typeof bA!=="object"){return bA}var by=bA.constructor();for(var bz in bA){by[bz]=aI(bA[bz])}return by}function o(bE){var bB=false;if(typeof aH.O.dataSorting!=="undefined"){if(aH.O.dataSorting=="random"){bE=S(bE)}else{if(aH.O.dataSorting=="reversed"){jQuery.fn.reverse=[].reverse;bE=bE.reverse()}}}jQuery.each(bE,function(bK,bS){var bJ="";if(jQuery(bS).attr("data-ngthumb")!==undefined&&jQuery(bS).attr("data-ngthumb").length>0){bJ=aH.O.itemsBaseURL+jQuery(bS).attr("data-ngthumb")}if(jQuery(bS).attr("data-ngThumb")!==undefined&&jQuery(bS).attr("data-ngThumb").length>0){bJ=aH.O.itemsBaseURL+jQuery(bS).attr("data-ngThumb")}var bR="";if(jQuery(bS).attr("data-ngthumb2x")!==undefined&&jQuery(bS).attr("data-ngthumb2x").length>0){bR=aH.O.itemsBaseURL+jQuery(bS).attr("data-ngthumb2x")}if(jQuery(bS).attr("data-ngThumb2x")!==undefined&&jQuery(bS).attr("data-ngThumb2x").length>0){bR=aH.O.itemsBaseURL+jQuery(bS).attr("data-ngThumb2x")}var bG="",bT=ai().toUpperCase();if(jQuery(bS).attr("data-ngsrc"+bT)!==undefined&&jQuery(bS).attr("data-ngsrc"+bT).length>0){bG=aH.O.itemsBaseURL+jQuery(bS).attr("data-ngsrc"+bT)}if(jQuery(bS).attr("data-ngSrc"+bT)!==undefined&&jQuery(bS).attr("data-ngSrc"+bT).length>0){bG=aH.O.itemsBaseURL+jQuery(bS).attr("data-ngSrc"+bT)}if(bG==""){bG=aH.O.itemsBaseURL+jQuery(bS).attr("href")}var bQ="";if(jQuery(bS).attr("data-ngdesc")!==undefined&&jQuery(bS).attr("data-ngdesc").length>0){bQ=jQuery(bS).attr("data-ngdesc")}if(jQuery(bS).attr("data-ngDesc")!==undefined&&jQuery(bS).attr("data-ngDesc").length>0){bQ=jQuery(bS).attr("data-ngDesc")}var bN="";if(jQuery(bS).attr("data-ngdest")!==undefined&&jQuery(bS).attr("data-ngdest").length>0){bN=jQuery(bS).attr("data-ngdest")}if(jQuery(bS).attr("data-ngDest")!==undefined&&jQuery(bS).attr("data-ngDest").length>0){bN=jQuery(bS).attr("data-ngDest")}var bF=0;if(jQuery(bS).attr("data-ngalbumid")!==undefined){bF=jQuery(bS).attr("data-ngalbumid");bB=true}if(jQuery(bS).attr("data-ngAlbumID")!==undefined){bF=jQuery(bS).attr("data-ngAlbumID");bB=true}var bO=null;if(jQuery(bS).attr("data-ngid")!==undefined){bO=jQuery(bS).attr("data-ngid")}if(jQuery(bS).attr("data-ngID")!==undefined){bO=jQuery(bS).attr("data-ngID")}var bI="image";if(jQuery(bS).attr("data-ngkind")!==undefined&&jQuery(bS).attr("data-ngkind").length>0){bI=jQuery(bS).attr("data-ngkind")}if(jQuery(bS).attr("data-ngKind")!==undefined&&jQuery(bS).attr("data-ngKind").length>0){bI=jQuery(bS).attr("data-ngKind")}var bP=jQuery(bS).text();if(!(aH.O.thumbnailLabel.get("title")==""||aH.O.thumbnailLabel.get("title")==undefined)){bP=bj(bG)}var bM=m(bP,bJ,bG,bQ,bN,bI,"",bO,bF);var bL=0;if(jQuery(bS).attr("data-ngthumbImgWidth")!==undefined&&jQuery(bS).attr("data-ngthumbImgWidth").length>0){bL=jQuery(bS).attr("data-ngthumbImgWidth")}var bH=0;if(jQuery(bS).attr("data-ngthumbImgHeight")!==undefined&&jQuery(bS).attr("data-ngthumbImgHeight").length>0){bH=jQuery(bS).attr("data-ngthumbImgHeight")}bM.thumbs={url:{l1:{xs:bJ,sm:bJ,me:bJ,la:bJ,xl:bJ},lN:{xs:bJ,sm:bJ,me:bJ,la:bJ,xl:bJ}},width:{l1:{xs:bL,sm:bL,me:bL,la:bL,xl:bL},lN:{xs:bL,sm:bL,me:bL,la:bL,xl:bL}},height:{l1:{xs:bH,sm:bH,me:bH,la:bH,xl:bH},lN:{xs:bH,sm:bH,me:bH,la:bH,xl:bH}}};if(jQuery(bS).data("customdata")!==undefined){bM.customData=aI(jQuery(bS).data("customdata"))}if(typeof aH.O.fnProcessData=="function"){aH.O.fnProcessData(bM,"markup",null)}});jQuery.each(bE,function(bF,bG){jQuery(bG).remove()});if(bB){aH.O.displayBreadcrumb=true}var bz=aH.I.length,by=0,bA=0;for(var bD=0;bD<bz;bD++){by=0;bA=0;for(var bC=0;bC<bz;bC++){if(bD!=bC&&aH.I[bD].GetID()==aH.I[bC].albumID){by++;if(aH.I[bC].kind=="image"){aH.I[bC].imageNumber=bA++}}}aH.I[bD].contentLength=by}}function bp(bB,bC,bA,by){D(bB);if(aH.I[bB].contentIsLoaded){bs(bB,by);return}var bz=aH.O.jsonProvider+"?albumID="+encodeURIComponent(aH.I[bB].GetID());R();jQuery.ajaxSetup({cache:false});jQuery.support.cors=true;var bD=setTimeout(function(){bl();aX("Could not retrieve Custom data...")},60000);jQuery.getJSON(bz,function(bI,bG,bJ){clearTimeout(bD);bl();bi(bB,bI);if(bC||aH.O.openOnStart!=""){if(!p(false)){bs(bB,by)}}else{if(bA!=-1){var bE=-1,bF=aH.I.length;for(var bH=0;bH<bF;bH++){if(aH.I[bH].kind=="image"&&aH.I[bH].GetID()==bA){bE=bH;break}}a6(bE,true)}else{bs(bB,by)}}}).fail(function(bG,bH,bE){clearTimeout(bD);bl();var bF=bH+", "+bE;aX("Could not retrieve JSON items list (jQuery): "+bF)})}function W(by){return decodeURIComponent(by);switch(aH.O.jsonCharset.toUpperCase()){case"UTF-8":return decodeURI(by);break;case"Latin":default:return escape(by);break}}function bi(bA,bB){var bz=false;var by=0;jQuery.each(bB,function(bJ,bQ){var bO="";bO=Z(bQ,"title");if(bO===undefined){bO=""}var bG=aH.O.jsonProvider.substring(0,aH.O.jsonProvider.indexOf("nanoPhotosProvider.php"));var bD=bG+W(bQ.src);var bI=bG+W(bQ.srct);if(aH.O.thumbnailLabel.get("title")!=""){bO=bj((bQ.src))}bO=bO.replaceAll("_"," ");if(bO.search(/@@\d\d\d\d/)==0){bO=bO.substring(6);bO=bO.replace(/^\s*|\s*$/,"")}var bP="";bP=Z(bQ,"description");if(bP===undefined){bP=""}bP=bP.replaceAll("_"," ");var bE="";var bH="image";if(bQ.kind!==undefined&&bQ.kind.length>0){bH=bQ.kind}var bM=null;if(bQ.ID!==undefined){bM=(bQ.ID)}var bN=true;if(bH=="album"){if(!ba(bO,bM)){bN=false}}if(bN){var bC=0;if(bQ.albumID!==undefined){bC=(bQ.albumID);bz=true}var bL=m(bO,bI,bD,bP,bE,bH,"",bM,bC);var bK=bQ.imgtWidth;var bF=bQ.imgtHeight;bL.thumbs={url:{l1:{xs:bI,sm:bI,me:bI,la:bI,xl:bI},lN:{xs:bI,sm:bI,me:bI,la:bI,xl:bI}},width:{l1:{xs:bK,sm:bK,me:bK,la:bK,xl:bK},lN:{xs:bK,sm:bK,me:bK,la:bK,xl:bK}},height:{l1:{xs:bF,sm:bF,me:bF,la:bF,xl:bF},lN:{xs:bF,sm:bF,me:bF,la:bF,xl:bF}}};if(typeof aH.O.fnProcessData=="function"){aH.O.fnProcessData(bL,"api",null)}if(bH=="image"){bL.imageNumber=by;by++;if(by>=aH.maxAlbums){return false}}}});if(bz){}aH.I[bA].contentIsLoaded=true;aH.I[bA].contentLength=by}function aT(bB,bD,bA,by){D(bB);if(aH.I[bB].contentIsLoaded){bs(bB,by);return}var bz="",bC="album";if(aH.I[bB].GetID()==0){bz=aH.flickr.url()+"?&method=flickr.photosets.getList&api_key="+aH.flickr.ApiKey+"&user_id="+aH.O.userID+"&per_page=500&primary_photo_extras=url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?"}else{if(aH.I[bB].GetID()=="none"){bz=aH.flickr.url()+"?&method=flickr.people.getPublicPhotos&api_key="+aH.flickr.ApiKey+"&user_id="+aH.O.userID+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_z,url_b,url_h,url_k&per_page=500&format=json&jsoncallback=?"}else{bz=aH.flickr.url()+"?&method=flickr.photosets.getPhotos&api_key="+aH.flickr.ApiKey+"&photoset_id="+aH.I[bB].GetID()+"&extras=description,views,url_o,url_sq,url_t,url_q,url_s,url_m,url_l,url_z,url_b,url_h,url_k&format=json&jsoncallback=?"}bC="image"}R();jQuery.ajaxSetup({cache:false});jQuery.support.cors=true;var bE=setTimeout(function(){bl();aX("Could not retrieve Flickr data...")},60000);jQuery.getJSON(bz,function(bJ,bH,bK){clearTimeout(bE);bl();if(bC=="album"){aa(bB,bJ)}else{A(bB,bJ)}if(bD||aH.O.openOnStart!=""){if(!p(false)){bs(bB,by)}}else{if(bA!=-1){var bF=-1,bG=aH.I.length;for(var bI=0;bI<bG;bI++){if(aH.I[bI].kind=="image"&&aH.I[bI].GetID()==bA){bF=bI;break}}a6(bF,true)}else{bs(bB,by)}}}).fail(function(bH,bI,bF){clearTimeout(bE);bl();var bG=bI+", "+bF;aX("Could not retrieve Flickr photoset list (jQuery): "+bG)})}function aa(bA,bC){var bz=true;if(bC.stat!==undefined){if(bC.stat==="fail"){aX("Could not retrieve Flickr photoset list: "+bC.message+" (code: "+bC.code+").");bz=false}}if(bz){var by=0;var bB=bC.photosets.photoset;switch(aH.O.albumSorting){case"random":bB=S(bB);break;case"reversed":bB=bB.reverse();break;case"titleAsc":bB.sort(function(bF,bE){var bD=bF.title._content.toUpperCase();var bG=bE.title._content.toUpperCase();return((bD<bG)?-1:((bD>bG)?1:0))});break;case"titleDesc":bB.sort(function(bF,bE){var bD=bF.title._content.toUpperCase();var bG=bE.title._content.toUpperCase();return((bD>bG)?-1:((bD<bG)?1:0))})}jQuery.each(bB,function(bF,bH){itemTitle=bH.title._content;if(ba(itemTitle,bH.id)){itemID=bH.id;itemDescription="";if(bH.description._content!=undefined){itemDescription=bH.description._content}var bG={};for(var bI in bH.primary_photo_extras){bG[bI]=bH.primary_photo_extras[bI]}tags="";if(bH.primary_photo_extras!==undefined){if(bH.primary_photo_extras.tags!==undefined){tags=bH.primary_photo_extras.tags}}var bE=m(itemTitle,"","",itemDescription,"","album",tags,itemID,aH.I[bA].GetID());bE.contentLength=bH.photos;bE.thumbSizes=bG;var bD={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};bD=at(bD,bH.primary_photo_extras,"l1");bD=at(bD,bH.primary_photo_extras,"lN");bE.thumbs=bD;by++;if(by>=aH.maxAlbums){return false}}});aH.I[bA].contentIsLoaded=true;aH.I[bA].contentLength=by}}function at(by,bC,bF){var bB=["xs","sm","me","la","xl"];for(var bA=0;bA<bB.length;bA++){if(aH.tn.settings.width[bF][bB[bA]]=="auto"){var bE="height_";var bD=Math.ceil(aH.tn.settings.height[bF][bB[bA]]*aH.tn.scale);var bz=I(bE,bD,bC);by.url[bF][bB[bA]]=bz.url;by.width[bF][bB[bA]]=bz.width;by.height[bF][bB[bA]]=bz.height}else{if(aH.tn.settings.height[bF][bB[bA]]=="auto"){var bE="width_";var bD=Math.ceil(aH.tn.settings.width[bF][bB[bA]]*aH.tn.scale);var bz=I(bE,bD,bC);by.url[bF][bB[bA]]=bz.url;by.width[bF][bB[bA]]=bz.width;by.height[bF][bB[bA]]=bz.height}else{var bE="height_";var bD=Math.ceil(aH.tn.settings.height[bF][bB[bA]]*aH.tn.scale);if(aH.tn.settings.width[bF][bB[bA]]>aH.tn.settings.height[bF][bB[bA]]){bE="width_";bD=Math.ceil(aH.tn.settings.width[bF][bB[bA]]*aH.tn.scale)}var bz=I(bE,bD,bC);by.url[bF][bB[bA]]=bz.url;by.width[bF][bB[bA]]=bz.width;by.height[bF][bB[bA]]=bz.height}}}return by}function I(bF,bC,bB){var bA={url:"",width:0,height:0};var bE=0;for(var by=0;by<aH.flickr.thumbAvailableSizes.length;by++){var bz=bB[bF+aH.flickr.photoAvailableSizesStr[by]];if(bz!=undefined){bE=by;if(bz>=bC){break}}}var bD=aH.flickr.photoAvailableSizesStr[bE];bA.url=bB["url_"+bD];bA.width=parseInt(bB["width_"+bD]);bA.height=parseInt(bB["height_"+bD]);return bA}function A(bA,bC){var bB="";if(aH.I[bA].GetID()=="none"){bB=bC.photos.photo}else{bB=bC.photoset.photo}switch(aH.O.photoSorting){case"random":bB=S(bB);break;case"reversed":bB=bB.reverse();break;case"titleAsc":bB.sort(function(bF,bE){var bD="",bG="";if(aH.O.thumbnailLabel.get("title")!=""){bD=bj(bF.url_sq);bG=bj(bE.url_sq)}else{bD=bF.title.toUpperCase();bG=bE.title.toUpperCase()}return((bD<bG)?-1:((bD>bG)?1:0))});break;case"titleDesc":bB.sort(function(bF,bE){var bD="",bG="";if(aH.O.thumbnailLabel.get("title")!=""){bD=bj(bF.url_sq);bG=bj(bE.url_sq)}else{bD=bF.title.toUpperCase();bG=bE.title.toUpperCase()}return((bD>bG)?-1:((bD<bG)?1:0))});break}var bz=aH.I[bA].GetID(),by=0;jQuery.each(bB,function(bG,bK){var bF=bK.title,bD=bK.id,bI=bK.description._content;var bL=bK.url_sq;for(var bG=aH.flickr.photoSize;bG>=0;bG--){if(bK["url_"+aH.flickr.photoAvailableSizesStr[bG]]!=undefined){bL=bK["url_"+aH.flickr.photoAvailableSizesStr[bG]];break}}var bM={};for(var bE in bK){if(bE.indexOf("height_")==0||bE.indexOf("width_")==0||bE.indexOf("url_")==0){bM[bE]=bK[bE]}}if(aH.O.thumbnailLabel.get("title")!=""){bF=bj(bL)}var bH=m(bF,"",bL,bI,"","image","",bD,bz);bH.imageNumber=by;if(bK.url_o!==undefined){bH.width=bK.width_o;bH.height=bK.height_o}else{bH.width=bK.width_z;bH.height=bK.height_z}var bJ={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};bJ=at(bJ,bK,"l1");bJ=at(bJ,bK,"lN");bH.thumbs=bJ;by++;if(by>=aH.maxPhotos){return false}});aH.I[bA].contentIsLoaded=true;aH.I[bA].contentLength=by}function aR(bB,bD,bC,bA,bz){var by=Math.ceil(bC*aH.tn.scale)+bz;if(bD=="auto"){by=Math.ceil(bC*aH.tn.scale)+bz}else{if(bC=="auto"){by=Math.ceil(bD*aH.tn.scale)+bA}else{if(bD>bC){by=Math.ceil(bD*aH.tn.scale)+bA}}}if(bB.length>0){bB+=","}bB+=by;return bB}function H(bE,bB,bG,bH){D(bE);if(aH.I[bE].contentIsLoaded){bs(bE,bH);return}var by="",bD="album";var bJ="";bJ=aR(bJ,aH.tn.settings.width.l1.xs,aH.tn.settings.height.l1.xs,aH.tn.settings.width.l1.xsc,aH.tn.settings.height.l1.xsc);bJ=aR(bJ,aH.tn.settings.width.l1.sm,aH.tn.settings.height.l1.sm,aH.tn.settings.width.l1.smc,aH.tn.settings.height.l1.smc);bJ=aR(bJ,aH.tn.settings.width.l1.me,aH.tn.settings.height.l1.me,aH.tn.settings.width.l1.mec,aH.tn.settings.height.l1.mec);bJ=aR(bJ,aH.tn.settings.width.l1.la,aH.tn.settings.height.l1.la,aH.tn.settings.width.l1.lac,aH.tn.settings.height.l1.lac);bJ=aR(bJ,aH.tn.settings.width.l1.xl,aH.tn.settings.height.l1.xl,aH.tn.settings.width.l1.xlc,aH.tn.settings.height.l1.xlc);bJ=aR(bJ,aH.tn.settings.width.lN.xs,aH.tn.settings.height.lN.xs,aH.tn.settings.width.lN.xsc,aH.tn.settings.height.lN.xsc);bJ=aR(bJ,aH.tn.settings.width.lN.sm,aH.tn.settings.height.lN.sm,aH.tn.settings.width.lN.smc,aH.tn.settings.height.lN.smc);bJ=aR(bJ,aH.tn.settings.width.lN.me,aH.tn.settings.height.lN.me,aH.tn.settings.width.lN.mec,aH.tn.settings.height.lN.mec);bJ=aR(bJ,aH.tn.settings.width.lN.la,aH.tn.settings.height.lN.la,aH.tn.settings.width.lN.lac,aH.tn.settings.height.lN.lac);bJ=aR(bJ,aH.tn.settings.width.lN.xl,aH.tn.settings.height.lN.xl,aH.tn.settings.width.lN.xlc,aH.tn.settings.height.lN.xlc);if(aH.I[bE].GetID()==0){by=aH.picasa.url()+"user/"+aH.O.userID+"?alt=json&kind=album&thumbsize="+bJ+"&rnd="+(new Date().getTime())}else{var bA="";if(typeof aH.I[bE].customData.authkey!=="undefined"){bA=aH.I[bE].customData.authkey}by=aH.picasa.url()+"user/"+aH.O.userID+"/albumid/"+aH.I[bE].GetID()+"?alt=json&kind=photo"+bA+"&thumbsize="+bJ+"&imgmax=d";bD="image"}R();jQuery.ajaxSetup({cache:false});jQuery.support.cors=true;var bF=setTimeout(function(){bl();aX("Could not retrieve Picasa/Google+ data...")},60000);var bI=function(bN){clearTimeout(bF);bl();be(bE,bN,bD);if(bB||aH.O.openOnStart!=""){if(!p(false)){bs(bE,bH)}}else{if(bG!=-1){var bK=-1,bL=aH.I.length;for(var bM=0;bM<bL;bM++){if(aH.I[bM].kind=="image"&&aH.I[bM].GetID()==bG){bK=bM;break}}a6(bK,true)}else{bs(bE,bH)}}};var bC=null;var bz=function(bL,bK){jQuery.getJSON(bL+"&start-index="+bK,"callback=?",function(bM){if(bC===null){bC=bM}else{bC.feed.entry=bC.feed.entry.concat(bM.feed.entry)}if(bM.feed.openSearch$startIndex.$t+bM.feed.openSearch$itemsPerPage.$t>=bM.feed.openSearch$totalResults.$t){bI(bC)}else{bz(bL,bM.feed.openSearch$startIndex.$t+bM.feed.openSearch$itemsPerPage.$t)}}).fail(function(bQ,bR,bN){clearTimeout(bF);bl();var bM="";for(var bO in bQ){bM+=bO+"="+bQ[bO]+"<br>"}var bP=bR+", "+bN+" "+bM+"<br><br>URL:"+bL;aX("Could not retrieve Picasa/Google+ data. Error: "+bP)})};bz(by,1)}function be(bA,bE,bC){var by=0,bz=aH.I[bA].GetID();var bD=bE.feed.entry;var bB=aH.O.albumSorting;if(bC=="image"){bB=aH.O.photoSorting}switch(bB){case"random":bD=S(bD);break;case"reversed":bD=bD.reverse();break;case"titleAsc":bD.sort(function(bH,bG){var bF="",bI="";if(bC=="image"){if(aH.O.thumbnailLabel.get("title")!=""){bF=bj(unescape(unescape(unescape(unescape(bH.media$group.media$content[0].url)))));bI=bj(unescape(unescape(unescape(unescape(bG.media$group.media$content[0].url)))))}else{bF=bH.media$group.media$description.$t.toUpperCase();bI=bG.media$group.media$description.$t.toUpperCase()}}else{bF=bH.media$group.media$title.$t.toUpperCase();bI=bG.media$group.media$title.$t.toUpperCase()}return((bF<bI)?-1:((bF>bI)?1:0))});break;case"titleDesc":bD.sort(function(bH,bG){var bF="",bI="";if(bC=="image"){if(aH.O.thumbnailLabel.get("title")!=""){bF=bj(unescape(unescape(unescape(unescape(bH.media$group.media$content[0].url)))));bI=bj(unescape(unescape(unescape(unescape(bG.media$group.media$content[0].url)))))}else{bF=bH.media$group.media$description.$t.toUpperCase();bI=bG.media$group.media$description.$t.toUpperCase()}}else{bF=bH.media$group.media$title.$t.toUpperCase();bI=bG.media$group.media$title.$t.toUpperCase()}return((bF>bI)?-1:((bF<bI)?1:0))});break}jQuery.each(bD,function(bL,bK){var bJ=bK.media$group.media$title.$t;var bI=bK.media$group.media$thumbnail[0].url;var bH=bK.gphoto$id.$t;var bG="";var bO=bK.media$group.media$description.$t;if(bC=="image"){bG=bJ;bJ=bO;bO=""}var bT=bK.media$group.media$content[0].url;if(bC=="image"){if(aH.O.thumbnailLabel.get("title")!=""){bJ=bj(unescape(unescape(unescape(unescape(bT)))))}}var bP=true;if(bC=="album"){if(!ba(bJ,bH)){bP=false}}var bS="";if(bP){var bN="";var bF="";if(bC=="album"){bF=bH}else{bF=bT;var bR=bT.substring(0,bT.lastIndexOf("/"));bR=bR.substring(0,bR.lastIndexOf("/"))+"/";if(window.screen.width>window.screen.height){bF=bR+"w"+window.screen.width+"/"+bG}else{bF=bR+"h"+window.screen.height+"/"+bG}}var bM=m(bJ,bI,bF,bO,"",bC,bS,bH,bz);bM.picasaThumbBaseURL=bN;bM.imageNumber=by;if(bC=="album"){bM.author=bK.author[0].name.$t;bM.contentLength=bK.gphoto$numphotos.$t}var bQ={url:{l1:{xs:"",sm:"",me:"",la:"",xl:""},lN:{xs:"",sm:"",me:"",la:"",xl:""}},width:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}},height:{l1:{xs:0,sm:0,me:0,la:0,xl:0},lN:{xs:0,sm:0,me:0,la:0,xl:0}}};bQ=a0("l1",0,bQ,bK,bC);bQ=a0("lN",5,bQ,bK,bC);bM.thumbs=bQ;if(typeof aH.O.fnProcessData=="function"){aH.O.fnProcessData(bM,"picasa",bK)}by++;if(by>=(bC=="album"?aH.maxAlbums:aH.maxPhotos)){return false}}});aH.I[bA].contentIsLoaded=true;aH.I[bA].contentLength=by}function a0(bz,bA,bG,bC,bB){var bI=["xs","sm","me","la","xl"];for(var bD=0;bD<bI.length;bD++){bG.url[bz][bI[bD]]=bC.media$group.media$thumbnail[bA+bD].url;if(bB=="image"){bG.width[bz][bI[bD]]=bC.media$group.media$thumbnail[bA+bD].width;bG.height[bz][bI[bD]]=bC.media$group.media$thumbnail[bA+bD].height;var bH=bC.media$group.media$thumbnail[bA+bD].width;var bF=bC.media$group.media$thumbnail[bA+bD].height;if(aH.tn.settings.width[bz][bI[bD]]=="auto"){if(bF<aH.tn.settings.height[bz][bI[bD]]){var bE=bH/bF;bG.width[bz][bI[bD]]=bH*bE;bG.height[bz][bI[bD]]=bF*bE;var by=bG.url[bz][bI[bD]].substring(0,bG.url[bz][bI[bD]].lastIndexOf("/"));by=by.substring(0,by.lastIndexOf("/"))+"/";bG.url[bz][bI[bD]]=by+"h"+aH.tn.settings.height[bz][bI[bD]]+"/"}}if(aH.tn.settings.height[bz][bI[bD]]=="auto"){if(bH<aH.tn.settings.width[bz][bI[bD]]){var bE=bF/bH;bG.height[bz][bI[bD]]=bF*bE;bG.width[bz][bI[bD]]=bH*bE;var by=bG.url[bz][bI[bD]].substring(0,bG.url[bz][bI[bD]].lastIndexOf("/"));by=by.substring(0,by.lastIndexOf("/"))+"/";bG.url[bz][bI[bD]]=by+"w"+aH.tn.settings.width[bz][bI[bD]]+"/"}}}else{if(aH.tn.settings.width[bz][bI[bD]]!="auto"){bG.width[bz][bI[bD]]=bC.media$group.media$thumbnail[bA+bD].width}else{var by=bG.url[bz][bI[bD]].substring(0,bG.url[bz][bI[bD]].lastIndexOf("/"));by=by.substring(0,by.lastIndexOf("/"))+"/";bG.url[bz][bI[bD]]=by+"h"+aH.tn.settings.height[bz][bI[bD]]+"/"}if(aH.tn.settings.height[bz][bI[bD]]!="auto"){bG.height[bz][bI[bD]]=bC.media$group.media$thumbnail[bA+bD].height}else{var by=bG.url[bz][bI[bD]].substring(0,bG.url[bz][bI[bD]].lastIndexOf("/"));by=by.substring(0,by.lastIndexOf("/"))+"/";bG.url[bz][bI[bD]]=by+"w"+aH.tn.settings.width[bz][bI[bD]]+"/"}}}return bG}function m(bE,bB,bF,bG,bz,bA,bI,bD,by){var bH=a2(bD);var bC=false;if(bH===null){bH=new bq(bE,bD);bC=true}else{bH.title=bE}bH.src=bF;bH.description=bG;bH.destinationURL=bz;bH.kind=bA;bH.albumID=by;bH.ID=bD;if(bI.length==0){bH.tags=null}else{bH.tags=bI.split(" ")}if(bC){bH.title=bE;aH.I.push(bH)}return bH}function a2(by){var bz=aH.I.length;for(var bA=0;bA<bz;bA++){if(aH.I[bA].GetID()==by){return aH.I[bA]}}return null}function ba(bC,by){var bA=bC.toUpperCase();by=by.toUpperCase();if(aH.albumList!==null){for(var bz=0;bz<aH.albumList.length;bz++){if(bA==aH.albumList[bz].toUpperCase()||by==aH.albumList[bz]){return true}}}else{var bB=false;if(aH.whiteList!==null){for(var bz=0;bz<aH.whiteList.length;bz++){if(bA.indexOf(aH.whiteList[bz])!==-1){bB=true}}if(!bB){return false}}if(aH.blackList!==null){for(var bz=0;bz<aH.blackList.length;bz++){if(bA.indexOf(aH.blackList[bz])!==-1){return false}}}return true}}function bs(bz,by){if(aH.O.lazyBuild=="display"){if(ag(aH.$E.conTnParent,aH.O.lazyBuildTreshold)){bd(bz,by)}else{aH.delayedAlbumIdx=bz;aH.delayedSetLocationHash=by}}else{bd(bz,by)}}function bd(bB,by){aH.O.lazyBuild="none";aH.delayedAlbumIdx=-1;aH.albumIdxToOpenOnViewerClose=-1;if(aH.O.thumbnailAlbumDisplayImage&&bB!=0){var bz=aH.I.length;for(var bA=0;bA<bz;bA++){if(aH.I[bA].albumID==aH.I[bB].GetID()){a6(bA);break}}return}if(aH.containerViewerDisplayed){bo(false)}if(bB==aH.lastOpenAlbumID){return}if(aH.O.locationHash){if(by){var bC="nanogallery/"+aH.baseEltID+"/"+aH.I[bB].GetID();aH.lastLocationHash="#"+bC;try{top.location.hash=bC}catch(bE){aH.O.locationHash=false}}}aH.lastOpenAlbumID=aH.I[bB].GetID();D(bB);var bD=0;if(aH.I[bB].paginationLastPage>0&&aH.I[bB].paginationLastWidth==aH.$E.conTnParent.width()){bD=aH.I[bB].paginationLastPage}a3(bB,bD)}function aZ(){var bz=aV(aH.curAlbumIdx);var by=bz>0;U(bz,false,-1,by)}function g(){var bz=ah(aH.curAlbumIdx);var by=bz>0;U(bz,false,-1,by)}function aV(bz){var by=aH.I.length;var bB=-1;for(var bA=bz+1;bA<by;bA++){if(aH.I[bA].albumID==aH.I[bz].albumID&&aH.I[bA].kind=="album"){bB=bA;break}}if(bB==-1){for(var bA=0;bA<=bz;bA++){if(aH.I[bA].albumID==aH.I[bz].albumID&&aH.I[bA].kind=="album"){bB=bA;break}}}return bB}function ah(bz){var by=aH.I.length;var bB=-1;for(var bA=bz-1;bA>=0;bA--){if(aH.I[bA].albumID==aH.I[bz].albumID&&aH.I[bA].kind=="album"){bB=bA;break}}if(bB==-1){for(var bA=aH.I.length-1;bA>=bz;bA--){if(aH.I[bA].albumID==aH.I[bz].albumID&&aH.I[bA].kind=="album"){bB=bA;break}}}return bB}function E(bz){var by="folder";if(bz==0){by="folderHome"}var bA=jQuery('<div class="'+by+' oneFolder">'+aH.I[bz].title+"</div>").appendTo(aH.$E.conBC);jQuery(bA).data("albumIdx",bz);bA.click(function(){var bB=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();U(bB,false,-1,true);return})}function bc(bz){var by=jQuery('<div class="separator'+(aH.O.RTL?"RTL":"")+'"></div>').appendTo(aH.$E.conBC);jQuery(by).data("albumIdx",bz);by.click(function(){var bA=jQuery(this).data("albumIdx");jQuery(this).nextAll().remove();jQuery(this).remove();U(bA,false,-1,true);return})}function D(bD){var bz=false;if(aH.O.displayBreadcrumb==true&&!aH.O.thumbnailAlbumDisplayImage){if(aH.$E.conBC.children().length==0){aH.$E.conNavBCon.css({opacity:0,"max-height":"0px"})}bz=true;aH.$E.conBC.children().remove();E(0);if(bD!=0){var bA=aH.I.length,bE=0,bG=[];bG.push(bD);var bC=bD;while(aH.I[bC].albumID!=0&&aH.I[bC].albumID!=-1){for(i=1;i<bA;i++){if(aH.I[i].GetID()==aH.I[bC].albumID){bC=i;bG.push(bC);break}}}bc(0);for(i=bG.length-1;i>=0;i--){E(bG[i]);if(i>0){bc(bG[i-1])}}}var bF=aH.$E.conBC.children(),bB=bF.length;if(bB==0){aH.curNavLevel="l1";if(aH.O.breadcrumbAutoHideTopLevel){aH.$E.conNavBCon.css({opacity:0,"max-height":"0px"});bz=false}}else{if(bB==1){aH.curNavLevel="l1"}else{aH.curNavLevel="lN"}if(bB==1&&aH.O.breadcrumbAutoHideTopLevel){var by=new d();by.tween({from:{opacity:aH.$E.conNavBCon.css("opacity"),"max-height":aH.$E.conNavBCon.css("max-height")},to:{opacity:"0","max-height":"0px"},attachment:{$e:aH.$E.conNavBCon},duration:200,step:function(bI,bH){bH.$e.css(bI)},finish:function(bI,bH){bH.$e.css({opacity:"0","max-height":"0px"})}})}else{if(aH.O.breadcrumbAutoHideTopLevel){var by=new d();by.tween({from:{opacity:aH.$E.conNavBCon.css("opacity"),"max-height":aH.$E.conNavBCon.css("max-height")},to:{opacity:"1","max-height":"50px"},attachment:{$e:aH.$E.conNavBCon},duration:200,step:function(bI,bH){bH.$e.css(bI)},finish:function(bI,bH){bH.$e.css({opacity:"1","max-height":"50px"})}})}else{aH.$E.conNavBCon.css({opacity:1,"max-height":"50px"})}}}aH.pgMaxNbThumbnailsPerRow=aq()}if(aH.O.useTags){bz=true;if(aH.containerTags==null){aH.containerTags=jQuery('<div class="nanoGalleryTags"></div>').appendTo(aH.$E.conNavB)}}if(aH.O.galleryFullpageButton){bz=true}if(!aH.containerNavigationbarContDisplayed&&bz){aH.containerNavigationbarContDisplayed=true;aH.$E.conNavBCon.show()}}function R(){aH.$E.conLoadingB.addClass("nanoGalleryLBar").removeClass("nanoGalleryLBarOff")}function bl(){aH.$E.conLoadingB.removeClass("nanoGalleryLBar").addClass("nanoGalleryLBarOff")}function U(bC,bD,bA,by){if(aH.O.itemsSelectable&&aH.O.keepSelection===false){aH.selectedItems=[];var bz=aH.I.length;for(var bB=0;bB<bz;bB++){aH.I[bB].selected=false}}switch(aH.O.kind){case"":bs(bC,by);break;case"flickr":aT(bC,bD,bA,by);break;case"json":bp(bC,bD,bA,by);break;case"picasa":default:H(bC,bD,bA,by);break}}function e(){if(aH.tn.settings.getH()=="auto"){aL()}else{if(aH.tn.settings.getW()=="auto"){a1()}else{x()}}aJ();O(0)}function aL(){var bC=aH.$E.conTnParent.width(),bH=0,bF=0,bB=0,bG=[],bK=aq(),by=0,bD=aH.O.thumbnailGutterHeight,bA=aH.tn.outerWidth.get(),bJ=aH.$E.conTn.find(".nanoGalleryThumbnailContainer");if(aH.O.thumbnailAlignment=="justified"){bK=Math.min(bK,bJ.length);by=(bK==1?0:(bC-(bK*bA))/(bK-1))}else{by=aH.O.thumbnailGutterWidth}var bz=0;bJ.each(function(){var bM=jQuery(this),bO=bM.data("index");if(bO!==undefined){var bN=0,bL=0;if(bF==0){bN=bH*(aH.tn.outerWidth.get()+by);bG[bH]=aH.I[bO].thumbFullHeight+bD;bH++;bz++;if(bH>=bK){bH=0;bF++}}else{return false}bB++}});var bI=(((bG.length)*(bA+by))-by);bF=0;bH=0;bJ.each(function(){var bO=jQuery(this),bR=bO.data("index");if(bR!==undefined){if(aH.O.thumbnailLabel.get("position")=="onBottom"){bk(bO,aH.I[bR])}var bP=0,bN=0;if(bF==0){bP=bH*(aH.tn.outerWidth.get()+by);bG[bH]=aH.I[bR].thumbFullHeight+bD;bH++;if(bH>=bK){bH=0;bF++}}else{var bQ=0,bM=bG[0];for(i=1;i<bK;i++){if((bG[i]+5)<bM){bM=bG[i];bQ=i;break}}bN=bG[bQ];bP=bQ*(aH.tn.outerWidth.get()+by);bG[bQ]=bN+aH.I[bR].thumbFullHeight+bD}var bL=bP;if(aH.O.RTL){bL=bI-bP-aH.tn.outerWidth.get()}bO.css({top:bN,left:bL});ac(bO,aH.I[bR],bB);bB++}});var bE=bG[0];for(i=1;i<bz;i++){bE=Math.max(bE,bG[i])}aH.$E.conTn.width(bI).height(bE)}function a1(){var bN=aH.$E.conTnParent.width(),bK=0,bQ=0,bF=0,bG=[],bM=0,bB=[],bJ=false,bI=0,bE=0,by=0,bC=0,bL=aH.O.thumbnailGutterWidth,bP=aH.O.thumbnailGutterHeight;var bz=0;var bO=0;var bA=false;var bD=false;var bH=aH.$E.conTn.find(".nanoGalleryThumbnailContainer");bH.each(function(){var bV=jQuery(this).data("index");if(bV!==undefined&&aH.I[bV]!=undefined){if(aH.I[bV].thumbImg().width>0&&aH.I[bV].thumbImg().height>0){var bT=aH.I[bV],bS=Math.floor(bT.thumbImg().width/bT.thumbImg().height*aH.tn.settings.getH())+aH.tn.borderWidth+aH.tn.imgcBorderWidth;if(aH.O.thumbnailFeatured&&bI==0){bS=bS*2;by=bS}if(bJ){bJ=false;bM++;bK=0;bA=false;bD=false;if(bM==1&&by>0){bK=by;by=0}}if(bT.thumbImg().height>bT.thumbImg().width){bA=true}else{bD=true}if((bK+bS+bL)<bN){bK+=bS+bL;bB[bM]=aH.tn.settings.getH();var bU=Math.max(bA?bz:0,bD?bO:0);if(aH.O.thumbnailAdjustLastRowHeight&&bU>0){bB[bM]=Math.min(bB[bM],bU)}bG[bM]=bV}else{bK+=bS;var bR=Math.floor(aH.tn.settings.getH()*bN/bK);bB[bM]=bR;if(bA){bz=Math.max(bz,bR)}if(bD){bO=Math.max(bO,bR)}bG[bM]=bV;bJ=true}bI++}else{return false}}});bM=0;bF=0;bQ=0;bI=0;bH.each(function(){var bV=jQuery(this),bW=bV.data("index");if(bW!==undefined&&aH.I[bW]!=undefined){if(aH.I[bW].thumbImg().width>0&&aH.I[bW].thumbImg().height>0){var bU=aH.I[bW],bS=Math.floor(bU.thumbImg().width/bU.thumbImg().height*bB[bM]);if(bI==0&&aH.O.thumbnailFeatured){bS=bS*2;if(bB.length==1){bE=parseInt(bB[0])*2}else{bE=parseInt(bB[0])+parseInt(bB[1])+aH.tn.borderHeight+aH.tn.imgcBorderHeight}}if(bW==bG[bM]){if(bG.length!=(bM+1)){bS=bN-bQ-aH.tn.borderWidth-aH.tn.imgcBorderWidth}else{if((bQ+bS+aH.tn.borderWidth+aH.tn.imgcBorderWidth+bL)>bN){bS=bN-bQ-aH.tn.borderWidth-aH.tn.imgcBorderWidth}}}var bT=0;if(bI==0&&aH.O.thumbnailFeatured){}else{bT=bB[bM]}bT=parseInt(bT);bS=parseInt(bS);bV.width(bS+aH.tn.imgcBorderWidth).height(bT+aH.tn.imgcBorderHeight+aH.tn.labelHeight.get());bU.$getElt(".imgContainer").height(bT).width(bS);bV.find("img").css({"max-height":bT+2,"max-width":bS+2});bV.find(".subcontainer").width(bS+aH.tn.imgcBorderWidth).height(bT+aH.tn.imgcBorderHeight+aH.tn.labelHeight.get());var bR=bQ;if(aH.O.RTL){bR=bN-bQ-(bS+aH.tn.borderWidth+aH.tn.imgcBorderWidth)}bV.css({top:bF,left:bR});bU.thumbFullWidth=bS+aH.tn.borderWidth+aH.tn.imgcBorderWidth;bU.thumbFullHeight=bT+aH.tn.borderHeight+aH.tn.imgcBorderHeight+aH.tn.labelHeight.get();N(bV);ac(bV,bU,bI);bQ+=bS+aH.tn.borderWidth+aH.tn.imgcBorderWidth+bL;if(bW==bG[bM]){bF+=bB[bM]+aH.tn.labelHeight.get()+bP+aH.tn.imgcBorderHeight+aH.tn.borderHeight;bM++;bQ=0;if(bM==1&&bC>0){bQ=bC;bC=0}}bI++}else{return false}}});if(bM>0){bF-=bP}bE=bE+aH.tn.outerHeight.get()+aH.tn.labelHeight.get();aH.$E.conTn.width(bN).height(bF>bE?bF:bE)}function aq(){var bA=aH.tn.settings.getW()+aH.tn.borderWidth+aH.tn.imgcBorderWidth;var bz=aH.$E.conTnParent.width();var by=0;if(aH.O.thumbnailAlignment=="justified"){by=Math.floor((bz)/(bA))}else{by=Math.floor((bz+aH.O.thumbnailGutterWidth)/(bA+aH.O.thumbnailGutterWidth))}if(aH.O.maxItemsPerLine>0&&by>aH.O.maxItemsPerLine){by=aH.O.maxItemsPerLine}if(by<1){by=1}return by}function x(){var bA=0,bz=0,bM=0,bQ=aH.O.thumbnailGutterHeight,bP=aH.$E.conTnParent.width(),bG=aq(),bI=0,bK=0,bB=0,bC=[],bL=0;aH.L.nbMaxTnPerRow=aq();var bO=new Date();if(aH.pgMaxLinesPerPage>0){if(aH.tn.outerWidth.get()>0){if(bG!=aH.pgMaxNbThumbnailsPerRow){aH.pgMaxNbThumbnailsPerRow=bG;var by=aH.$E.conPagin.data("galleryIdx");a3(by,0);return}}}var bF=aH.$E.conTn.find(".nanoGalleryThumbnailContainer"),bN=bF.length;if(aH.O.thumbnailAlignment=="justified"){bG=Math.min(bG,bN);bM=(bG==1?0:(bP-(bG*aH.tn.outerWidth.get()))/(bG-1))}else{bM=aH.O.thumbnailGutterWidth}if(aH.O.RTL){bF.each(function(){var bR=jQuery(this);var bS=bR.data("index");if(bS!==undefined){if(bz==0){bA=bL*(aH.tn.outerWidth.get()+bM);bC[bL]=bA;bB=bA}else{return false}bL++;if(bL>=bG){bL=0;bz+=aH.tn.outerHeight.get()+bQ}}});bP=bB+aH.tn.outerWidth.get();bz=0;bL=0}var bE=[];var bD=0;bF.each(function(){var bS=jQuery(this);var bT=bS.data("index");if(bT!==undefined){bD=bT;if(bz==0){bA=bL*(aH.tn.outerWidth.get()+bM);bC[bL]=bA;bB=bA}else{bA=bC[bL];bK=bz}var bR=bA;if(aH.O.RTL){bR=parseInt(bP)-bA-aH.tn.outerWidth.get()}bE.push({$e:bS,t:bz,l:bR,item:aH.I[bT]});bL++;if(bL>=bG){bL=0;bz+=aH.tn.outerHeight.get()+bQ}bI++}});var bH=bE.length;var bK=0;for(var bJ=0;bJ<bH;bJ++){bE[bJ].$e.css({top:bE[bJ].t,left:bE[bJ].l});ac(bE[bJ].$e,bE[bJ].item,bJ);bK=bE[bJ].t}bE=[];aH.$E.conTn.width(bB+aH.tn.outerWidth.get()).height(bK+aH.tn.outerHeight.get());if(aH.O.debugMode){console.log("ResizeGalleryGrid: "+(new Date()-bO))}}function ac(bz,by,bA){if(bz.hasClass("nanogalleryHideElement")){bz.removeClass("nanogalleryHideElement");if(aH.O.thumbnailDisplayTransition){if(typeof aH.O.fnThumbnailDisplayEffect=="function"){aH.O.fnThumbnailDisplayEffect(bz,by,0)}else{setTimeout(function(){window.requestAnimationFrame(function(){u(bz)})},bA*aH.tn.displayInterval)}}else{bz.css({opacity:1})}}}function u(bz){var by=new d();by.tween({from:{o:0},to:{o:1},duration:200,step:function(bA){bz.css({opacity:bA.o})},finish:function(bA){bz.css({opacity:bA.o})}})}function O(bz){if(aH.O.galleryToolbarWidthAligned){if(aH.$E.conNavBCon!==undefined){var by=aH.$E.conTn.outerWidth(true);if(aH.$E.conNavBCon.width()<by){aH.$E.conNavBCon.width(by)}else{aH.$E.conNavBCon.width(by)}}}}function aJ(){var by=aH.$E.conTn.find(".nanoGalleryThumbnailContainer").filter(function(){return q(jQuery(this),aH.tn.lazyLoadTreshold)});jQuery(by).each(function(){var bA=jQuery(this).find("img");if(bA.attr("src")==aH.emptyGif){var bz=jQuery(this).data("index");if(bz==undefined||aH.I[bz]==undefined){return}bA.attr("src","");bA.attr("src",aH.I[bz].thumbImg().src)}})}function aN(bD,bI){if(aH.$E.conPagin==undefined){return}aH.$E.conPagin.children().remove();if(aH.pgMaxLinesPerPage==0||aH.tn.settings.getH()=="auto"||aH.tn.settings.getW()=="auto"){aH.$E.conPagin.hide();return}aH.$E.conPagin.show();aH.$E.conPagin.data("galleryIdx",bD);aH.$E.conPagin.data("currentPageNumber",bI);var bG=0,bJ=0;if(!aH.O.paginationDots&&bI>0){var bF=jQuery('<div class="paginationPrev">'+(aH.O.paginationDots?"":aH.i18nTranslations.paginationPrevious)+"</div>").appendTo(aH.$E.conPagin);bJ+=jQuery(bF).outerWidth(true);bF.click(function(bK){aS()})}var bC=0;if(aH.pgMaxLinesPerPage>0&&aH.tn.settings.getH()!="auto"&&aH.tn.settings.getW()!="auto"){bG=Math.ceil(aH.I[bD].contentLength/(aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow))}var bE=bG;if(!aH.O.paginationDots){var by=aH.O.paginationVisiblePages;if(by>=bG){bC=0}else{if(bv(by)){bC=bI-(by-1)/2;bE=bI+(by-1)/2}else{bC=bI-by/2;bE=bI+Math.max((by/2-1),1)}if(bE>=bG){bC=bG-by}if(bC<0){bC=0}}}if(bG==1){aH.$E.conPagin.hide();return}for(var bB=bC;bB<bG;bB++){var bH="";if(bB==bI){bH=" currentPage"}var bA=jQuery('<div class="paginationItem'+bH+'">'+(aH.O.paginationDots?"":(bB+1))+"</div>").appendTo(aH.$E.conPagin);bA.data("pageNumber",bB);bJ+=bA.outerWidth(true);bA.click(function(bM){var bK=aH.$E.conPagin.data("galleryIdx"),bL=jQuery(this).data("pageNumber");if(!ag(aH.$E.base,0)){c("html, body").animate({scrollTop:aH.$E.base.offset().top},200)}a3(bK,bL)});if((bB-bC)>=(by-1)){break}}if(!aH.O.paginationDots&&(bI+1)<bG){var bz=jQuery('<div class="paginationNext">'+(aH.O.paginationDots?"":aH.i18nTranslations.paginationNext)+"</div>").appendTo(aH.$E.conPagin);bJ+=bz.outerWidth(true);bz.click(function(bK){ar()})}aH.$E.conPagin.width(bJ)}function bv(by){return(by%2)==1}function ar(){var by=aH.$E.conPagin.data("galleryIdx"),bA=0;if(aH.pgMaxLinesPerPage>0){bA=aH.I[by].contentLength/(aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow)}n2=Math.ceil(bA);var bz=aH.$E.conPagin.data("currentPageNumber");if(bz<(n2-1)){bz++}else{bz=0}if(!ag(aH.$E.base,0)){c("html, body").animate({scrollTop:aH.$E.base.offset().top},200)}a3(by,bz)}function aS(){var by=aH.$E.conPagin.data("galleryIdx"),bA=0;if(aH.pgMaxLinesPerPage>0){bA=aH.I[by].contentLength/(aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow)}n2=Math.ceil(bA);var bz=aH.$E.conPagin.data("currentPageNumber");if(bz>0){bz--}else{bz=n2-1}if(!ag(aH.$E.base,0)){c("html, body").animate({scrollTop:aH.$E.base.offset().top},250)}a3(by,bz)}function a8(bz){var bA=aH.I.length;var by=0;var bC=bz||aH.GetCurrentViewedItemIdx();if(bC!==-1){for(var bB=0;bB<bA;bB++){if(aH.I[bB].albumID==aH.I[bC].albumID&&aH.I[bB].kind=="image"){by++}}return by}else{return 0}}function a3(bA,bz){aH.curAlbumIdx=-1;if(aH.$E.conPagin==undefined){aH.$E.conPagin.children().remove()}var bB=aH.$E.conTn.parent();var by=new d();by.tween({to:{opacity:0},from:{opacity:1},attachment:{$e:bB},duration:150,step:function(bD,bC){bC.$e.css(bD)},finish:function(bF,bD){bD.$e.css({opacity:0});aH.containerThumbnailsDisplayed=false;aH.$E.conTn.hide(0).off().show(0).html("");var bC=aH.I.length;for(var bE=0;bE<bC;bE++){aH.I[bE].$Elts=[];aH.I[bE].$elt=null;aH.I[bE].hoverInitDone=false;aH.I[bE].hovered=false}aH.$E.conTnParent.css({left:0,opacity:1});ax(aH.$E.conTn[0],0);aP(bA,bz,V)}});return;bB.animate({opacity:0},100).promise().done(function(){aH.containerThumbnailsDisplayed=false;aH.$E.conTn.hide(0).off().show(0).html("");var bC=aH.I.length;for(var bD=0;bD<bC;bD++){aH.I[bD].hovered=false}aH.$E.conTnParent.css({left:0,opacity:1});ax(aH.$E.conTn[0],0);aP(bA,bz,V)})}function aP(bE,bG,bA){if(aH.O.debugMode&&console.timeline){console.timeline("nanoGALLERY")}aH.startDateTime=new Date();if(bE==-1||aH.I[bE]==undefined){return}aH.I[bE].paginationLastPage=bG;aH.I[bE].paginationLastWidth=aH.$E.conTnParent.width();var bC=aH.I.length;var bF=false;aH.galleryItemsCount=0;var by=0,bB=0,bz=0;if(aH.pgMaxLinesPerPage>0&&aH.tn.settings.getH()!="auto"&&aH.tn.settings.getW()!="auto"){bB=bG*aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow;bz=bB+aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow}bl();var bD=false,bI=false,bH=0;(function(){aH.toRender=[];for(var bJ=0;bJ<aH.O.galleryRenderStep;bJ++){if(bH>=bC){bA(bE,bG);return}var bL=aH.I[bH];if(bL.albumID==aH.I[bE].GetID()){by++;if(aH.pgMaxLinesPerPage>0&&aH.tn.settings.getH()!="auto"&&aH.tn.settings.getW()!="auto"){if((aH.galleryItemsCount+1)>(aH.pgMaxLinesPerPage*aH.pgMaxNbThumbnailsPerRow)){bA(bE,bG);return}}if(by>bB){aH.galleryItemsCount++;var bK=am(bL,bH,bF);var bM=bK.e$;if(aH.O.thumbnailLazyLoad&&!bK.cIS){if(!bD){if(q(bM,aH.tn.lazyLoadTreshold)){bL.$getElt("img").attr("src","");bL.$getElt("img").attr("src",bL.thumbImg().src);bI=true}else{if(bI){bD=true}}}}}}bH++}var bN=aH.toRender.length;if(bN>0){for(var bJ=0;bJ<bN;bJ++){}}if(bH<bC){setTimeout(arguments.callee,2)}else{bA(bE,bG)}})()}function V(bz,by){e();aN(bz,by);aH.containerThumbnailsDisplayed=true;aH.curAlbumIdx=bz;if(typeof aH.O.fnInitGallery==="function"){aH.O.fnInitGallery(bz,by)}if(aH.O.debugMode&&console.timeline){console.log("End-render: "+(new Date()-aH.startDateTime));console.timelineEnd("nanoGALLERY")}aH.SetSelectMode()}function am(bM,bK,bI){var bB=[],bC=0;bM.$Elts=[];var bH="";var bz=" nanogalleryHideElement";if(aH.O.thumbnailLazyLoad&&aH.tn.settings.getW()=="auto"){bH="top:0px;left:0px;"}bB[bC++]='<div class="nanoGalleryThumbnailContainer'+bz+' nGEvent" style="display:block;opacity:0;'+bH+'" data-originalid="'+bM.ID+'" ><div class="subcontainer nGEvent" style="display:block;">';var bG=false,by=aH.emptyGif;if((aH.tn.settings.getH()=="auto"&&aH.I[bK].thumbImg().height==0)||(aH.tn.settings.getW()=="auto"&&aH.I[bK].thumbImg().width==0)){bG=true}if(!aH.O.thumbnailLazyLoad||bG){by=bM.thumbImg().src}var bJ=ae(bM),bL=a9(bM);if(aH.tn.settings.getH()=="auto"){bB[bC++]='<div class="imgContainer nGEvent" style="width:'+aH.tn.settings.getW()+'px;"><img class="image nGEvent" src="'+by+'" alt="'+bJ+'" style="max-width:'+aH.tn.settings.getW()+'px;"></div>'}else{if(aH.tn.settings.getW()=="auto"){bB[bC++]='<div class="imgContainer nGEvent" style="height:'+aH.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+by+'" alt="'+bJ+'" style="max-height:'+aH.tn.settings.getH()+'px;" ></div>'}else{bB[bC++]='<div class="imgContainer nGEvent" style="width:'+aH.tn.settings.getW()+"px;height:"+aH.tn.settings.getH()+'px;"><img class="image nGEvent" src="'+by+'" alt="'+bJ+'" style="max-width:'+aH.tn.settings.getW()+"px;max-height:"+aH.tn.settings.getH()+'px;" ></div>'}}if(bM.kind=="album"){if(aH.O.thumbnailLabel.get("display")==true){var bA="";if(bM.contentLength>0){switch(aH.O.thumbnailLabel.get("itemsCount")){case"title":bJ+=" "+aH.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+bM.contentLength+"</span>"+aH.i18nTranslations.thumbnailLabelItemsCountPart2;break;case"description":bL+=" "+aH.i18nTranslations.thumbnailLabelItemsCountPart1+'<span class="nGEvent">'+bM.contentLength+"</span>"+aH.i18nTranslations.thumbnailLabelItemsCountPart2;break}}bB[bC++]='<div class="labelImage nGEvent" style="width:'+aH.tn.settings.getW()+"px;"+(aH.O.RTL?"direction:RTL;":"")+(aH.curNavLevel=="l1"?aH.tn.styleL1LabelImage:aH.tn.styleLabelImage)+'"><div class="labelFolderTitle labelTitle nGEvent" style="'+(aH.curNavLevel=="l1"?aH.tn.styleL1FTitle:aH.tn.styleFTitle)+'">'+bJ+'</div><div class="labelDescription nGEvent" style="'+(aH.curNavLevel=="l1"?aH.tn.styleL1Desc:aH.tn.styleDesc)+'">'+bL+"</div></div>"}}else{if(aH.O.thumbnailLabel.get("display")==true){if(bI&&bL.length==0&&aH.O.thumbnailLabel.get("position")=="onBottom"){bL="&nbsp;"}bB[bC++]='<div class="labelImage nGEvent" style="width:'+aH.tn.settings.getW()+"px;"+(aH.O.RTL?"direction:RTL;":"")+(aH.curNavLevel=="l1"?aH.tn.styleL1LabelImage:aH.tn.styleLabelImage)+'"><div class="labelImageTitle labelTitle nGEvent" style="'+(aH.curNavLevel=="l1"?aH.tn.styleL1ITitle:aH.tn.styleITitle)+'">'+bJ+'</div><div class="labelDescription nGEvent" style="'+(aH.curNavLevel=="l1"?aH.tn.styleL1Desc:aH.tn.styleDesc)+'">'+bL+"</div></div>"}}bB[bC++]="</div>";if(aH.O.itemsSelectable){bM.selected=false;if(aH.O.keepSelection===true){for(it in aH.selectedItems){if(aH.selectedItems[it].GetID()===bM.GetID()){bM.selected=true}}}if(aH.O.showCheckboxes){checked="";if(bM.selected){checked="checked"}bB[bC++]='<input class="ngChekbox" type="checkbox" '+checked+' style="position:absolute;z-index:999;'+aH.O.checkboxStyle+'">'}}bB[bC++]="</div>";var bF=jQuery(bB.join("")).appendTo(aH.$E.conTnHid);if(typeof bM.selected!=="undefined"&&bM.selected===true){bF.find(".subcontainer").addClass("selected")}bM.$elt=bF;bF.data("index",bK);bM.$getElt("img").data("index",bK);if(typeof aH.O.fnThumbnailInit=="function"){aH.O.fnThumbnailInit(bF,bM,C())}var bE=bF.detach();bE.appendTo(aH.$E.conTn);if(bG){var bD=ngimagesLoaded(bF);bD.on("always",function(bO){var bP=aH.I[jQuery(bO.images[0].img).data("index")];if(bP==undefined||bO.images[0].img.src==aH.emptyGif){return}var bN=false;if(bP.thumbImg().height!=bO.images[0].img.naturalHeight){bP.thumbSetImgHeight(bO.images[0].img.naturalHeight);bP.thumbSetImgWidth(bO.images[0].img.naturalWidth);bN=true}if(bP.thumbImg().width!=bO.images[0].img.naturalWidth){bP.thumbSetImgHeight(bO.images[0].img.naturalHeight);bP.thumbSetImgWidth(bO.images[0].img.naturalWidth);bN=true}if(bN){z(bP.$elt);bk(bP.$elt,bP);N(bP.$elt);e()}})}else{z(bF);bk(bF,bM);N(bF)}return{e$:bF,cIS:bG}}function ae(bz){var by=bz.title;if(aH.O.thumbnailLabel.get("display")==true){if(by===undefined||by.length==0){by="&nbsp;"}if(aH.i18nTranslations.thumbnailImageTitle!=""){by=aH.i18nTranslations.thumbnailImageTitle}if(aH.O.thumbnailLabel.get("titleMaxLength")>3&&by.length>aH.O.thumbnailLabel.get("titleMaxLength")){by=by.substring(0,aH.O.thumbnailLabel.get("titleMaxLength"))+"..."}}return by}function a9(bz){var by="";if(aH.O.thumbnailLabel.get("displayDescription")==true){if(bz.kind=="album"){if(aH.i18nTranslations.thumbnailImageDescription!=""){by=aH.i18nTranslations.thumbnailAlbumDescription}else{by=bz.description}}else{if(aH.i18nTranslations.thumbnailImageDescription!=""){by=aH.i18nTranslations.thumbnailImageDescription}else{by=bz.description}}if(aH.O.thumbnailLabel.get("descriptionMaxLength")>3&&by.length>aH.O.thumbnailLabel.get("descriptionMaxLength")){by=by.substring(0,aH.O.thumbnailLabel.get("descriptionMaxLength"))+"..."}}return by}function aG(bC,bB,by){var bA=bC.$elt;var bz=bA.find("input[type=checkbox]");if((aH.selectMode==="image"||aH.selectMode==="album")&&bC.kind!==aH.selectMode){bC.selected=false;bz.prop("checked",false);bC.$getElt(".subcontainer").removeClass("selected")}else{if(typeof bB==="undefined"){bC.selected=!bC.selected}else{bC.selected=bB}if(by!==false){bz.prop("checked",bC.selected)}if(bC.selected){bC.$getElt(".subcontainer").addClass("selected")}else{bC.$getElt(".subcontainer").removeClass("selected")}}a7();if(typeof aH.O.fnThumbnailSelection==="function"){aH.O.fnThumbnailSelection(bA,bC)}}function a7(){var bz;if(aH.O.keepSelection===true){bz=aH.selectedItems.slice(0)}aH.selectedItems=[];var by=aH.I.length;for(var bB=0;bB<by;bB++){if(aH.I[bB].selected===true){aH.selectedItems.push(aH.I[bB])}}if(aH.O.keepSelection===true){for(bB in bz){alreadyExists=false;for(var bA=0;bA<by;bA++){if(aH.I[bA].GetID()===bz[bB].GetID()){alreadyExists=true}}if(alreadyExists===false){aH.selectedItems.push(bz[bB])}}bz=[]}if(aH.selectedItems.length>0||aH.selectModeForce==true){aH.I.forEach(function(bC){if(bC.$elt!==null&&!bC.$elt.hasClass("selectable")){if((aH.selectModeForce==true&&bC.kind===aH.selectMode)||aH.selectMode==true){bC.$elt.addClass("selectable")}}});if(aH.selectMode!==true&&aH.selectMode!=="image"&&aH.selectMode!=="album"){aH.selectMode=true}}else{aH.I.forEach(function(bC){if(bC.$elt!==null){bC.$elt.removeClass("selectable")}});aH.selectMode=false}if(typeof aH.O.fnChangeSelectMode==="function"){aH.O.fnChangeSelectMode(aH.selectMode)}}function bk(bz,bA){if(aH.tn.settings.getH()=="auto"){if(bA.thumbImg().height>0){var by=bA.thumbImg().height/bA.thumbImg().width;bA.$getElt(".imgContainer").height(aH.tn.settings.getW()*by);if(aH.O.thumbnailLabel.get("position")=="onBottom"){bA.thumbLabelHeight=bA.$getElt(".labelImage").outerHeight(true);bA.thumbFullHeight=aH.tn.settings.getW()*by+bA.thumbLabelHeight+aH.tn.borderHeight+aH.tn.imgcBorderHeight;bz.width(aH.tn.outerWidth.get()-aH.tn.borderWidth).height(bA.thumbFullHeight-aH.tn.borderHeight);bA.$getElt(".labelImage").css({position:"absolute",top:"",bottom:"0px"})}else{bA.thumbFullHeight=aH.tn.settings.getW()*by+bA.thumbLabelHeight+aH.tn.borderHeight+aH.tn.imgcBorderHeight;bz.width(aH.tn.outerWidth.get()-aH.tn.borderWidth).height(bA.thumbFullHeight-aH.tn.borderHeight)}}bA.thumbFullWidth=aH.tn.outerWidth.get();bA.$getElt(".subcontainer").width(aH.tn.outerWidth.get()-aH.tn.borderWidth).height(bA.thumbFullHeight-aH.tn.borderHeight)}else{if(aH.tn.settings.getW()=="auto"){return;if(bA.thumbImg().width>0){var by=bA.thumbImg().width/bA.thumbImg().height;bA.$getElt(".imgContainer").width(aH.tn.settings.getH()*by).css({overflow:"hidden"});if(aH.O.thumbnailLabel.get("position")=="onBottom"){bA.thumbFullWidth=aH.tn.settings.getH()*by+aH.tn.borderWidth+aH.tn.imgcBorderWidth;bz.width(bA.thumbFullWidth).height(aH.tn.outerHeight.get()+aH.tn.labelHeight.get()-aH.tn.outerHeight.get())}else{}}bA.thumbFullHeight=aH.tn.outerHeight.get()+aH.tn.labelHeight.get();bz.find(".subcontainer").width(bA.thumbFullWidth-aH.tn.borderWidth).height(aH.tn.outerHeight.get()-aH.tn.borderHeight)}else{bA.thumbFullHeight=aH.tn.outerHeight.get();bA.thumbFullWidth=aH.tn.outerWidth.get();if(aH.O.thumbnailLabel.get("position")=="onBottom"){bz.width(bA.thumbFullWidth-aH.tn.borderWidth).height(bA.thumbFullHeight-aH.tn.borderHeight)}else{bz.width(bA.thumbFullWidth-aH.tn.borderWidth).height(bA.thumbFullHeight-aH.tn.borderHeight)}bA.$getElt(".subcontainer").width(bA.thumbFullWidth-aH.tn.borderWidth).height(bA.thumbFullHeight-aH.tn.borderHeight)}}}function bu(by,bz){if(aH.O.itemsSelectable===true&&aH.O.showCheckboxes===true){thumbnailCheckbox=c("<input>").attr("type","checkbox").css({position:"absolute",top:aH.O.checkboxPosition.top,left:aH.O.checkboxPosition.left,"z-index":999}).click(function(){aG(bz)});by.append(thumbnailCheckbox);by.data("selected",false)}if(typeof aH.O.fnThumbnailInit=="function"){aH.O.fnThumbnailInit(by,bz,C());return}return;if(!aH.O.thumbnailLabel.get("display")){return}switch(aH.O.thumbnailLabel.get("position")){case"onBottom":bz.$getElt(".labelImage").css({top:0,position:"relative",left:0,right:0});if(aH.tn.settings.getH()=="auto"){if(bz.kind=="album"){bz.$getElt(".labelFolderTitle").css({"white-space":"normal"})}else{bz.$getElt(".labelImageTitle").css({"white-space":"normal"})}bz.$getElt(".labelDescription").css({"white-space":"normal"})}else{if(bz.kind=="album"){bz.$getElt(".labelFolderTitle").css({"white-space":"nowrap"})}else{bz.$getElt(".labelImageTitle").css({"white-space":"nowrap"})}bz.$getElt(".labelDescription").css({"white-space":"nowrap"})}break;case"overImageOnTop":bz.$getElt(".labelImage").css({top:0,bottom:0,left:0,right:0});break;case"overImageOnMiddle":bz.$getElt(".labelImage").css({top:0,bottom:0,left:0,right:0});if(bz.kind=="album"){bz.$getElt(".labelFolderTitle").css({left:0,right:0,position:"absolute",bottom:"50%"})}else{bz.$getElt(".labelImageTitle").css({left:0,right:0,position:"absolute",bottom:"50%"})}bz.$getElt(".labelDescription").css({left:0,right:0,position:"absolute",top:"50%"});break;case"custom":break;case"overImageOnBottom":default:aH.O.thumbnailLabel.set("position","overImageOnBottom");bz.$getElt(".labelImage").css({bottom:0,left:0,right:0});break}}function an(){var by=aH.I.length;for(var bz=0;bz<by;bz++){if(aH.I[bz].hovered){Q(aH.I[bz].$elt)}}}function z(bA){var bD=bA.data("index");if(bD==undefined){return}var bN=aH.I[bD];if(typeof aH.O.fnThumbnailHoverInit=="function"){aH.O.fnThumbnailHoverInit(bA,bN,C())}aK(bN);for(j=0;j<aH.tn.getHE().length;j++){switch(aH.tn.getHE()[j].name){case"imageSplit4":var bF=bN.$getElt(".subcontainer"),bz=bN.$getElt(".labelImage"),bG=bN.$getElt(".imgContainer");bG.css({position:"absolute"});bF.css({overflow:"hidden",position:"relative",width:"100%",height:"100%"});bF.prepend(bG.clone());bF.prepend(bN.$getElt(".imgContainer",true).clone());bG=bN.$getElt(".imgContainer",true);bh("",bG);h(bN,"imgContainer0",bG.eq(0));bt(bN,"imgContainer0");h(bN,"imgContainer1",bG.eq(1));bt(bN,"imgContainer1");h(bN,"imgContainer2",bG.eq(2));bt(bN,"imgContainer2");h(bN,"imgContainer3",bG.eq(3));bt(bN,"imgContainer3");break;case"imageSplitVert":var bF=bN.$getElt(".subcontainer"),bG=bN.$getElt(".imgContainer");bG.css({position:"absolute"});bF.css({overflow:"hidden",position:"relative"});bF.prepend(bG.clone());bG=bN.$getElt(".imgContainer",true);bh("",bG);h(bN,"imgContainer0",bG.eq(0));bt(bN,"imgContainer0");h(bN,"imgContainer1",bG.eq(1));bt(bN,"imgContainer1");break;case"labelSplit4":var bF=bN.$getElt(".subcontainer"),bz=bN.$getElt(".labelImage").css({top:0,bottom:0});bF.css({overflow:"hidden",position:"relative"});bz.clone().appendTo(bF);bN.$getElt(".labelImage",true).clone().appendTo(bF);bz=bN.$getElt(".labelImage",true);h(bN,"labelImage0",bz.eq(0));bt(bN,"labelImage0");h(bN,"labelImage1",bz.eq(1));bt(bN,"labelImage1");h(bN,"labelImage2",bz.eq(2));bt(bN,"labelImage2");h(bN,"labelImage3",bz.eq(3));bt(bN,"labelImage3");break;case"labelSplitVert":var bF=bN.$getElt(".subcontainer"),bz=bN.$getElt(".labelImage");bF.css({overflow:"hidden",position:"relative"});bz.clone().appendTo(bF);bz=bN.$getElt(".labelImage",true);h(bN,"labelImage0",bz.eq(0));bt(bN,"labelImage0");h(bN,"labelImage1",bz.eq(1));bt(bN,"labelImage1");break;case"labelAppearSplit4":var bF=bN.$getElt(".subcontainer");bz=bN.$getElt(".labelImage"),bz.css({left:0,top:0,right:0,bottom:0});bF.css({overflow:"hidden",position:"relative"});bz.clone().appendTo(bF);bN.$getElt(".labelImage",true).clone().appendTo(bF);bz=bN.$getElt(".labelImage",true);var bC=h(bN,"labelImage0",bz.eq(0));bC.translateX=-bN.thumbFullWidth/2;bC.translateY=-bN.thumbFullHeight/2;bt(bN,"labelImage0");bC=h(bN,"labelImage1",bz.eq(1));bC.translateX=bN.thumbFullWidth/2;bC.translateY=-bN.thumbFullHeight/2;bt(bN,"labelImage1");bC=h(bN,"labelImage2",bz.eq(2));bC.translateX=bN.thumbFullWidth/2;bC.translateY=bN.thumbFullHeight/2;bt(bN,"labelImage2");bC=h(bN,"labelImage3",bz.eq(3));bC.translateX=-bN.thumbFullWidth/2;bC.translateY=bN.thumbFullHeight/2;bt(bN,"labelImage3");break;case"labelAppearSplitVert":var bF=bN.$getElt(".subcontainer"),bz=bN.$getElt(".labelImage");bF.css({overflow:"hidden",position:"relative"});bz.clone().appendTo(bF);bz=bN.$getElt(".labelImage",true);h(bN,"labelImage0",bz.eq(0)).translateX=-bN.thumbFullWidth/2;bt(bN,"labelImage0");h(bN,"labelImage1",bz.eq(1)).translateX=bN.thumbFullWidth/2;bt(bN,"labelImage1");break;case"imageScale150Outside":aH.$E.base.css({overflow:"visible"});aH.$E.conTn.css({overflow:"visible"});bA.css({overflow:"visible"});bN.$getElt(".subcontainer").css({overflow:"visible"});bN.$getElt(".imgContainer").css({overflow:"visible"});h(bN,"img0",bN.$getElt("img"));bt(bN,"img0");bh(bN.$getElt(".imgContainer"),bN.$getElt(".labelImage"));break;case"scale120":if(!aH.$E.base.hasClass("fullpage")){aH.$E.base.css({overflow:"visible"})}aH.$E.conTn.css({overflow:"visible"});h(bN,"base",bA);bt(bN,"base");break;case"scaleLabelOverImage":var bH=bN.$getElt(".imgContainer");var bK=bN.$getElt(".labelImage");bh(bH,bK);bK.css({opacity:0});h(bN,"labelImage0",bK).scale=50;bt(bN,"labelImage0");h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"overScale":bA.css({overflow:"hidden"});var bH=bN.$getElt(".imgContainer");var bK=bN.$getElt(".labelImage");bh("",bK);bK.css({opacity:0});bH.css({opacity:1});h(bN,"labelImage0",bK).scale=150;bt(bN,"labelImage0");h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"overScaleOutside":if(!aH.$E.base.hasClass("fullpage")){aH.$E.base.css({overflow:"visible"})}aH.$E.conTn.css({overflow:"visible"});bA.css({overflow:"visible"});var bH=bN.$getElt(".imgContainer");var bK=bN.$getElt(".labelImage");bh("",bK);bK.css({opacity:0});bH.css({opacity:1});h(bN,"labelImage0",bK).scale=150;bt(bN,"labelImage0");h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"rotateCornerBL":bA.css({overflow:"hidden"});var bH=bN.$getElt(".labelImage");bH.css({opacity:1});bH[0].style[aH.CSStransformName+"Origin"]="100% 100%";h(bN,"labelImage0",bH).rotateZ=-90;bt(bN,"labelImage0");bH=bN.$getElt(".imgContainer");bH[0].style[aH.CSStransformName+"Origin"]="100% 100%";h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"rotateCornerBR":bA.css({overflow:"hidden"});var bH=bN.$getElt(".labelImage");bH.css({opacity:1});bH[0].style[aH.CSStransformName+"Origin"]="0% 100%";h(bN,"labelImage0",bH).rotateZ=90;bt(bN,"labelImage0");bH=bN.$getElt(".imgContainer");bH[0].style[aH.CSStransformName+"Origin"]="0 100%";h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"imageRotateCornerBL":var bH=bN.$getElt(".imgContainer");bh(bA,bH);bA.css({overflow:"hidden"});bN.$getElt(".labelImage").css({opacity:1});bH[0].style[aH.CSStransformName+"Origin"]="bottom right";h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"imageRotateCornerBR":var bH=bN.$getElt(".imgContainer");bh(bA,bH);bA.css({overflow:"hidden"});bN.$getElt(".labelImage").css({opacity:1});bH[0].style[aH.CSStransformName+"Origin"]="0 100%";h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"slideUp":bA.css({overflow:"hidden"});bH=bN.$getElt(".labelImage");bH.css({opacity:1,top:0});h(bN,"labelImage0",bH).translateY=bN.thumbFullHeight;bt(bN,"labelImage0");bH=bN.$getElt(".imgContainer");bH.css({left:0,top:0});h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"slideDown":bA.css({overflow:"hidden"});bH=bN.$getElt(".labelImage");bH.css({opacity:1,top:0});h(bN,"labelImage0",bH).translateY=-bN.thumbFullHeight;bt(bN,"labelImage0");bH=bN.$getElt(".imgContainer");bH.css({left:0,top:0});h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"slideRight":bA.css({overflow:"hidden"});bH=bN.$getElt(".labelImage");bH.css({opacity:1,top:0});h(bN,"labelImage0",bH).translateX=-bN.thumbFullWidth;bt(bN,"labelImage0");bH=bN.$getElt(".imgContainer");bH.css({left:0,top:0});h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"slideLeft":bA.css({overflow:"hidden"});bH=bN.$getElt(".labelImage");bH.css({opacity:1,top:0});h(bN,"labelImage0",bH).translateX=bN.thumbFullWidth;bt(bN,"labelImage0");bH=bN.$getElt(".imgContainer");bH.css({left:0,top:0});h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"imageSlideUp":case"imageSlideDown":case"imageSlideRight":case"imageSlideLeft":bH=bN.$getElt(".imgContainer");bh(bA,bH);bA.css({overflow:"visible"});bN.$getElt(".labelImage").css({opacity:1});bH.css({left:0,top:0});h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");break;case"labelAppear":case"labelAppear75":var bJ="rgb("+aH.custGlobals.oldLabelRed+","+aH.custGlobals.oldLabelGreen+","+aH.custGlobals.oldLabelBlue+",0.01)";bN.$getElt(".labelImage").css({backgroundColor:bJ});if(bN.kind=="album"){bN.$getElt(".labelFolderTitle").css({opacity:0})}else{bN.$getElt(".labelImageTitle").css({opacity:0})}bN.$getElt(".labelDescription").css({opacity:0});break;case"descriptionAppear":bN.$getElt(".labelDescription").css({opacity:0});break;case"labelSlideUpTop":bA.css({overflow:"hidden"});bN.$getElt(".labelImage").css({top:0,bottom:0});h(bN,"labelImage0",bN.$getElt(".labelImage")).translateY=bN.thumbFullHeight;bt(bN,"labelImage0");break;case"labelSlideUp":bA.css({overflow:"hidden"});h(bN,"labelImage0",bN.$getElt(".labelImage")).translateY=bN.thumbFullHeight;bt(bN,"labelImage0");break;case"labelSlideDown":bA.css({overflow:"hidden"});h(bN,"labelImage0",bN.$getElt(".labelImage")).translateY=-bN.thumbFullHeight;bt(bN,"labelImage0");break;case"descriptionSlideUp":bA.css({overflow:"hidden"});var bM=(bN.kind=="album"?bN.$getElt(".labelFolderTitle").outerHeight(true):bN.$getElt(".labelImageTitle").outerHeight(true));bN.$getElt(".labelDescription").css({opacity:0});bN.$getElt(".labelImage").css({height:bM});h(bN,"labelImage0",bN.$getElt(".labelImage"));bt(bN,"labelImage0");break;case"imageExplode":bh("",bA);bh(bN.$getElt(".labelImage"),bN.$getElt(".imgContainer"));var bF=bN.$getElt(".subcontainer"),bD=7,bB=bN.thumbFullHeight,bG=bN.$getElt(".imgContainer"),bL=bG.outerWidth(true)/bD,bI=bG.outerHeight(true),bI=bG.outerHeight(true)/bD;for(var by=0;by<bD;by++){for(var bJ=0;bJ<bD;bJ++){var bO="rect("+bI*by+"px, "+bL*(bJ+1)+"px, "+bI*(by+1)+"px, "+bL*bJ+"px)";bG.clone().appendTo(bF).css({top:0,scale:1,clip:bO,left:0,position:"absolute"}).data("ngScale",1)}}bG.remove();break;case"imageFlipHorizontal":switch(aH.O.thumbnailLabel.get("position")){case"overImageOnTop":bN.$getElt(".labelImage").css({top:-aH.tn.imgcBorderHeight/2,bottom:aH.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":bN.$getElt(".labelImage").css({top:-aH.tn.imgcBorderHeight/2,bottom:aH.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:bN.$getElt(".labelImage").css({bottom:aH.tn.imgcBorderWidth/2,left:0,right:0});break}if(!aH.$E.base.hasClass("fullpage")){aH.$E.base.css({overflow:"visible"})}aH.$E.conTn.css({overflow:"visible"});bA.css({overflow:"visible"});bh("",bA);bh(bN.$getElt(".labelImage"),bN.$getElt(".imgContainer"));var bH=bN.$getElt(".subcontainer");bH.css({overflow:"visible"});bH[0].style[aH.CSStransformStyle]="preserve-3d";var bD=Math.round(bN.thumbFullHeight*1.2)+"px";bH[0].style[aH.CSSperspective]=bD;bH=bN.$getElt(".imgContainer");bH[0].style[aH.CSSbackfaceVisibilityName]="hidden";h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");bA.find(".image")[0].style[aH.CSSbackfaceVisibilityName]="hidden";bH=bN.$getElt(".labelImage");bH[0].style[aH.CSSbackfaceVisibilityName]="hidden";h(bN,"labelImage0",bH).rotateX=180;bt(bN,"labelImage0");break;case"imageFlipVertical":switch(aH.O.thumbnailLabel.get("position")){case"overImageOnTop":bN.$getElt(".labelImage").css({top:-aH.tn.imgcBorderHeight/2,bottom:aH.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnMiddle":bN.$getElt(".labelImage").css({top:-aH.tn.imgcBorderHeight/2,bottom:aH.tn.imgcBorderWidth/2,left:0,right:0});break;case"overImageOnBottom":default:bN.$getElt(".labelImage").css({bottom:aH.tn.imgcBorderWidth/2,left:0,right:0});break}if(!aH.$E.base.hasClass("fullpage")){aH.$E.base.css({overflow:"visible"})}aH.$E.conTn.css({overflow:"visible"});bA.css({overflow:"visible"});bh("",bA);bh(bN.$getElt(".labelImage"),bN.$getElt(".imgContainer"));var bH=bN.$getElt(".subcontainer");bH.css({overflow:"visible"});bH[0].style[aH.CSStransformStyle]="preserve-3d";var bD=Math.round(bN.thumbFullWidth*1.2)+"px";bH[0].style[aH.CSSperspective]=bD;bH=bN.$getElt(".imgContainer");bH[0].style[aH.CSSbackfaceVisibilityName]="hidden";h(bN,"imgContainer0",bH);bt(bN,"imgContainer0");bA.find(".image")[0].style[aH.CSSbackfaceVisibilityName]="hidden";bH=bN.$getElt(".labelImage");bH[0].style[aH.CSSbackfaceVisibilityName]="hidden";h(bN,"labelImage0",bH).rotateY=180;bt(bN,"labelImage0");break;case"imageScale150":bA.css({overflow:"hidden"});h(bN,"img0",bN.$getElt("img"));bt(bN,"img0");break;case"imageScaleIn80":bA.css({overflow:"hidden"});h(bN,"img0",bN.$getElt("img")).scale=120;bt(bN,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":bA.css({overflow:"hidden"});bN.customData.hoverEffectRDir=aH.tn.getHE()[j].name;bm(bA,bN);break;case"imageSlide2Random":bA.css({overflow:"hidden"});var bE=["imageSlide2Up","imageSlide2Down","imageSlide2Left","imageSlide2Left","imageSlide2UpRight","imageSlide2UpLeft","imageSlide2DownRight","imageSlide2DownLeft"];bN.customData.hoverEffectRDir=bE[Math.floor(Math.random()*bE.length)];bm(bA,bN);break}}bN.hoverInitDone=true}function bm(bA,bD){var bz=bD.thumbFullWidth,bC=bD.thumbFullHeight,bF=null;var bB=h(bD,"img0",bD.$getElt("img"));bB.scale=140;switch(bD.customData.hoverEffectRDir){case"imageSlide2Up":bB.translateY=bD.thumbFullHeight<(bD.thumbImg().height*1.4)?((bD.thumbImg().height*1.4)-bD.thumbFullHeight)/2:0;bB.translateX=bD.thumbFullWidth<(bD.thumbImg().width*1.4)?-((bD.thumbImg().width*1.4)-bD.thumbFullWidth)/2:0;break;case"imageSlide2Down":var bE=bD.thumbFullHeight<(bD.thumbImg().height*1.4)?Math.min(((bD.thumbImg().height*1.4)-bD.thumbFullHeight)/2*0.1,bC*0.1):0;bB.translateY=-bE;var by=bD.thumbFullWidth<(bD.thumbImg().width*1.4)?Math.min(((bD.thumbImg().width*1.4)-bD.thumbFullWidth)/2*0.1,bz*0.1):0;bB.translateX=by;break;case"imageSlide2Left":bB.translateY=-bC*0.1;bB.translateX=bz*0.1;break;case"imageSlide2Right":bB.translateY=-bC*0.1;bB.translateX=-bz*0.1;break;case"imageSlide2UpRight":bB.translateY=bC*0.05;bB.translateX=-bz*0.05;break;case"imageSlide2UpLeft":bB.translateY=bC*0.05;bB.translateX=bz*0.05;break;case"imageSlide2DownRight":bB.translateY=-bC*0.05;bB.translateX=-bz*0.05;break;case"imageSlide2DownLeft":bB.translateY=-bC*0.05;bB.translateX=bz*0.05;break}bt(bD,"img0")}function N(bA){var bB=bA.data("index");if(bB==undefined){return}var bJ=aH.I[bB];if(!bJ.hoverInitDone){z(bA);return}if(typeof aH.O.fnThumbnailHoverResize=="function"){aH.O.fnThumbnailHoverResize(bA,bJ,C())}for(j=0;j<aH.tn.getHE().length;j++){switch(aH.tn.getHE()[j].name){case"imageSplit4":var bI=bJ.thumbFullWidth-aH.tn.borderWidth-aH.tn.imgcBorderWidth,bG=bJ.thumbFullHeight-aH.tn.borderHeight-aH.tn.imgcBorderHeight,bD=bJ.$getElt(".imgContainer"),bK="rect(0px, "+Math.ceil(bI/2)+"px, "+Math.ceil(bG/2)+"px, 0px)";bD.eq(0).css({clip:bK});bK="rect(0px, "+bI+"px, "+Math.ceil(bG/2)+"px, "+Math.ceil(bI/2)+"px)";bD.eq(1).css({clip:bK});bK="rect("+Math.ceil(bG/2)+"px, "+bI+"px, "+bG+"px, "+Math.ceil(bI/2)+"px)";bD.eq(2).css({clip:bK});bK="rect("+Math.ceil(bG/2)+"px, "+Math.ceil(bI/2)+"px, "+bG+"px, 0px)";bD.eq(3).css({clip:bK});break;case"imageSplitVert":var bD=bJ.$getElt(".imgContainer"),bI=bJ.thumbFullWidth-aH.tn.borderWidth-aH.tn.imgcBorderWidth,bG=bJ.thumbFullHeight-aH.tn.borderHeight-aH.tn.imgcBorderHeight,bK="rect(0px, "+Math.ceil(bI/2)+"px, "+bG+"px, 0px)";bD.eq(0).css({clip:bK});bK="rect(0px, "+bI+"px, "+bG+"px, "+Math.ceil(bI/2)+"px)";bD.eq(1).css({clip:bK});break;case"labelSplit4":var bI=bJ.thumbFullWidth-aH.tn.borderWidth-aH.tn.imgcBorderWidth,bG=bJ.thumbFullHeight-aH.tn.borderHeight-aH.tn.imgcBorderHeight,bz=bJ.$getElt(".labelImage");bK="rect(0px, "+Math.ceil(bI/2)+"px, "+Math.ceil(bG/2)+"px, 0px)",bz.eq(0).css({clip:bK});bK="rect(0px, "+bI+"px, "+Math.ceil(bG/2)+"px, "+Math.ceil(bI/2)+"px)";bz.eq(1).css({clip:bK});bK="rect("+Math.ceil(bG/2)+"px, "+bI+"px, "+bG+"px, "+Math.ceil(bI/2)+"px)";bz.eq(2).css({clip:bK});bK="rect("+Math.ceil(bG/2)+"px, "+Math.ceil(bI/2)+"px, "+bG+"px, 0px)";bz.eq(3).css({clip:bK});break;case"labelSplitVert":var bI=bJ.thumbFullWidth-aH.tn.borderWidth-aH.tn.imgcBorderWidth,bG=bJ.thumbFullHeight-aH.tn.borderHeight-aH.tn.imgcBorderHeight,bz=bJ.$getElt(".labelImage");var bK="rect(0px, "+Math.ceil(bI/2)+"px, "+bG+"px, 0px)";bz.eq(0).css({clip:bK});bK="rect(0px, "+bI+"px, "+bG+"px, "+Math.ceil(bI/2)+"px)";bz.eq(1).css({clip:bK});break;case"labelAppearSplit4":var bI=bJ.thumbFullWidth-aH.tn.borderWidth-aH.tn.imgcBorderWidth,bG=bJ.thumbFullHeight-aH.tn.borderHeight-aH.tn.imgcBorderHeight;bz=bJ.$getElt(".labelImage");var bK="rect(0px, "+Math.ceil(bI/2)+"px, "+Math.ceil(bG/2)+"px, 0px)";bz.eq(0).css({clip:bK});bK="rect(0px, "+bI+"px, "+Math.ceil(bG/2)+"px, "+Math.ceil(bI/2)+"px)";bz.eq(1).css({clip:bK});bK="rect("+Math.ceil(bG/2)+"px, "+bI+"px, "+bG+"px, "+Math.ceil(bI/2)+"px)";bz.eq(2).css({clip:bK});bK="rect("+Math.ceil(bG/2)+"px, "+Math.ceil(bI/2)+"px, "+bG+"px, 0px)";bz.eq(3).css({clip:bK});bJ.eltTransform.labelImage0.translateX=-bJ.thumbFullWidth/2;bJ.eltTransform.labelImage0.translateY=-bJ.thumbFullHeight/2;bt(bJ,"labelImage0");bJ.eltTransform.labelImage1.translateX=bJ.thumbFullWidth/2;bJ.eltTransform.labelImage1.translateY=-bJ.thumbFullHeight/2;bt(bJ,"labelImage1");bJ.eltTransform.labelImage2.translateX=bJ.thumbFullWidth/2;bJ.eltTransform.labelImage2.translateY=bJ.thumbFullHeight/2;bt(bJ,"labelImage2");bJ.eltTransform.labelImage3.translateX=-bJ.thumbFullWidth/2;bJ.eltTransform.labelImage3.translateY=bJ.thumbFullHeight/2;bt(bJ,"labelImage3");break;case"labelAppearSplitVert":var bI=bJ.thumbFullWidth-aH.tn.borderWidth-aH.tn.imgcBorderWidth,bG=bJ.thumbFullHeight-aH.tn.borderHeight-aH.tn.imgcBorderHeight;bz=bJ.$getElt(".labelImage");var bK="rect(0px, "+Math.ceil(bI/2)+"px, "+bG+"px, 0px)";bz.eq(0).css({clip:bK});bK="rect(0px, "+bI+"px, "+bG+"px, "+Math.ceil(bI/2)+"px)";bz.eq(1).css({clip:bK});bJ.eltTransform.labelImage0.translateX=-bJ.thumbFullWidth/2;bt(bJ,"labelImage0");bJ.eltTransform.labelImage1.translateX=bJ.thumbFullWidth/2;bt(bJ,"labelImage1");break;bJ.transformLabelImage[0].translateX=-bJ.thumbFullWidth/2;bt(bz.eq(0),bJ.transformLabelImage[0]);bJ.transformLabelImage[1].translateX=bJ.thumbFullWidth/2;bt(bz.eq(1),bJ.transformLabelImage[1]);break;case"slideUp":bJ.eltTransform.labelImage0.translateY=bJ.thumbFullHeight;bt(bJ,"labelImage0");break;case"slideDown":bJ.eltTransform.labelImage0.translateY=-bJ.thumbFullHeight;bt(bJ,"labelImage0");break;case"slideRight":bJ.eltTransform.labelImage0.translateX=-bJ.thumbFullWidth;bt(bJ,"labelImage0");break;case"slideLeft":bJ.eltTransform.labelImage0.translateX=bJ.thumbFullWidth;bt(bJ,"labelImage0");break;case"imageExplode":var bC=bJ.$getElt(".subcontainer"),bD=bJ.$getElt(".imgContainer"),bB=Math.sqrt(bD.length),bI=bD.eq(0).outerWidth(true)/bB,bG=bD.eq(0).outerHeight(true)/bB,bF=0;for(var by=0;by<bB;by++){for(var bH=0;bH<bB;bH++){var bK="rect("+bG*by+"px, "+bI*(bH+1)+"px, "+bG*(by+1)+"px, "+bI*bH+"px)"}}break;case"imageFlipHorizontal":var bE=bJ.$getElt(".subcontainer");var bB=Math.round(bJ.thumbFullHeight*1.2)+"px";bE[0].style[aH.CSSperspective]=bB;break;case"imageFlipVertical":var bE=bJ.$getElt(".subcontainer");var bB=Math.round(bJ.thumbFullWidth*1.2)+"px";bE[0].style[aH.CSSperspective]=bB;break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":bm(bA,bJ);break;case"slideUp":bJ.eltTransform.labelImage0.translateY=bJ.thumbFullHeight;bt(bJ,"labelImage0");break;case"slideDown":bJ.eltTransform.labelImage0.translateY=-bJ.thumbFullHeight;bt(bJ,"labelImage0");break;case"slideRight":bJ.eltTransform.labelImage0.translateX=-bJ.thumbFullWidth;bt(bJ,"labelImage0");break;case"slideLeft":bJ.eltTransform.labelImage0.translateX=bJ.thumbFullWidth;bt(bJ,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":bJ.eltTransform.labelImage0.translateY=bJ.thumbFullHeight;bt(bJ,"labelImage0");break;case"labelSlideDown":bA.css({overflow:"hidden"});bJ.eltTransform.labelImage0.translateY=-bJ.thumbFullHeight;bt(bJ,"labelImage0");break;case"descriptionSlideUp":}}}function h(bA,by,bz){if(bA.eltTransform[by]==undefined){bA.eltTransform[by]=bx();bA.eltTransform[by].$elt=bz}return bA.eltTransform[by]}function aK(by){for(var bz in by.eltTransform){delete by.eltTransform[bz]}}function bx(){var by={translateX:0,translateY:0,rotateX:0,rotateY:0,rotateZ:0,scale:100};return by}function bt(bA,bz){var bB=bA.eltTransform[bz];var by="translateX("+bB.translateX+"px) translateY("+bB.translateY+"px) scale("+bB.scale/100+")";if(!(aH.IE<=9)&&!aH.isGingerbread){by+=" rotateX("+bB.rotateX+"deg) rotateY("+bB.rotateY+"deg) rotateZ("+bB.rotateZ+"deg)"}else{by+=" rotate("+bB.rotateZ+"deg)"}if(bB.$elt[0]!=undefined){bB.$elt[0].style[aH.CSStransformName]=by}}function aB(by,bA,bF,bK,bD){var bC=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if(aH.aengine=="animate"){for(var bG=0;bG<bC.length;bG++){var bB=bC[bG];if(typeof bF[bB]!=="undefined"){var bz=new d();var bI=parseInt(bF[bB]);bz.tween({attachment:{it:bK,eC:bD,t:bB,f:bI},from:{v:parseInt(bK.eltTransform[bD][bB])},to:{v:bI},duration:aH.tn.getHE()[bA].duration,delay:aH.tn.getHE()[bA].delay,step:function(bM,bL){if(bL.it.hovered){bL.it.eltTransform[bL.eC][bL.t]=bM.v;bt(bL.it,bL.eC)}},finish:function(bM,bL){if(bL.it.hovered){bL.it.eltTransform[bL.eC][bL.t]=bL.f;bt(bL.it,bL.eC)}}});delete bF[bB]}}}var bE=0;for(var bJ in bF){if(bF.hasOwnProperty(bJ)){bE++;break}}if(bE==0){return}if(aH.aengine!="transition"){var bH={};for(var bJ in bF){if(bJ=="borderColor"){bH[bJ]=by.css("borderTopColor")}else{bH[bJ]=by.css(bJ)}if(bH[bJ]=="transparent"){if(by.hasClass("labelImage")){bH[bJ]="rgb("+aH.custGlobals.oldLabelRed+","+aH.custGlobals.oldLabelGreen+","+aH.custGlobals.oldLabelBlue+",0.01)"}else{bH[bJ]="rgba(0,0,0,0)"}}}var bz=new d();bz.tween({attachment:{$e:by,it:bK,to:bF},from:bH,to:bF,duration:aH.tn.getHE()[bA].duration,delay:aH.tn.getHE()[bA].delay,step:function(bM,bL){if(bL.it.hovered){bL.$e.css(bM)}},finish:function(bM,bL){if(bL.it.hovered){bL.$e.css(bF)}}})}else{if(aH.tn.getHE()[bA].delay>0){by.delay(aH.tn.getHE()[bA].delay)[aH.aengine](bF,aH.tn.getHE()[bA].duration,aH.tn.getHE()[bA].easing)}else{by[aH.aengine](bF,aH.tn.getHE()[bA].duration,aH.tn.getHE()[bA].easing)}}}function aC(bz){var bI=bz.data("index");if(bI==undefined){return}if(aH.aengine=="velocity"){bz.find("*").velocity("stop",true)}else{bz.find("*").stop(true,false)}var bO=aH.I[bI];bO.hovered=true;var bA=(aH.aengine=="animate"?1:100);if(typeof aH.O.fnThumbnailHover=="function"){aH.O.fnThumbnailHover(bz,bO,C())}try{for(j=0;j<aH.tn.getHE().length;j++){switch(aH.tn.getHE()[j].name){case"imageSplit4":var bM=bO.$getElt(".imgContainer");aB(bM.eq(0),j,{translateX:-bO.thumbFullWidth/2,translateY:-bO.thumbFullHeight/2},bO,"imgContainer0");aB(bM.eq(1),j,{translateX:bO.thumbFullWidth/2,translateY:-bO.thumbFullHeight/2},bO,"imgContainer1");aB(bM.eq(2),j,{translateX:bO.thumbFullWidth/2,translateY:bO.thumbFullHeight/2},bO,"imgContainer2");aB(bM.eq(3),j,{translateX:-bO.thumbFullWidth/2,translateY:bO.thumbFullHeight/2},bO,"imgContainer3");break;case"imageSplitVert":var bM=bO.$getElt(".imgContainer");aB(bM.eq(0),j,{translateX:-bO.thumbFullWidth/2},bO,"imgContainer0");aB(bM.eq(1),j,{translateX:bO.thumbFullWidth/2},bO,"imgContainer1");break;case"labelSplit4":var bM=bO.$getElt(".labelImage");aB(bM.eq(0),j,{translateX:-bO.thumbFullWidth/2,translateY:-bO.thumbFullHeight/2},bO,"labelImage0");aB(bM.eq(1),j,{translateX:bO.thumbFullWidth/2,translateY:-bO.thumbFullHeight/2},bO,"labelImage1");aB(bM.eq(2),j,{translateX:bO.thumbFullWidth/2,translateY:bO.thumbFullHeight/2},bO,"labelImage2");aB(bM.eq(3),j,{translateX:-bO.thumbFullWidth/2,translateY:bO.thumbFullHeight/2},bO,"labelImage3");break;case"labelSplitVert":var bM=bO.$getElt(".labelImage");aB(bM.eq(0),j,{translateX:-bO.thumbFullWidth/2},bO,"labelImage0");aB(bM.eq(1),j,{translateX:bO.thumbFullWidth/2},bO,"labelImage1");break;case"labelAppearSplit4":var bM=bO.$getElt(".labelImage");aB(bM.eq(0),j,{translateX:0,translateY:0},bO,"labelImage0");aB(bM.eq(1),j,{translateX:0,translateY:0},bO,"labelImage1");aB(bM.eq(2),j,{translateX:0,translateY:0},bO,"labelImage2");aB(bM.eq(3),j,{translateX:0,translateY:0},bO,"labelImage3");break;case"labelAppearSplitVert":var bM=bO.$getElt(".labelImage");aB(bM.eq(0),j,{translateX:0},bO,"labelImage0");aB(bM.eq(1),j,{translateX:0},bO,"labelImage1");break;case"scaleLabelOverImage":aB(bO.$getElt(".labelImage"),j,{scale:100/bA,opacity:"1"},bO,"labelImage0");aB(bO.$getElt(".imgContainer"),j,{scale:50/bA},bO,"imgContainer0");break;case"overScale":case"overScaleOutside":aB(bO.$getElt(".labelImage"),j,{opacity:"1",scale:100/bA},bO,"labelImage0");aB(bO.$getElt(".imgContainer"),j,{opacity:"0",scale:50/bA},bO,"imgContainer0");break;case"imageInvisible":aB(bO.$getElt(".imgContainer"),j,{opacity:"0"},bO);break;case"rotateCornerBL":var bF=(aH.aengine=="transition"?{rotate:"0deg"}:{rotateZ:"0"});aB(bO.$getElt(".labelImage"),j,bF,bO,"labelImage0");bF=(aH.aengine=="transition"?{rotate:"90deg"}:{rotateZ:"90"});aB(bO.$getElt(".imgContainer"),j,bF,bO,"imgContainer0");break;case"rotateCornerBR":var bF=(aH.aengine=="transition"?{rotate:"0deg"}:{rotateZ:"0"});aB(bO.$getElt(".labelImage"),j,bF,bO,"labelImage0");bF=(aH.aengine=="transition"?{rotate:"-90deg"}:{rotateZ:"-90"});aB(bO.$getElt(".imgContainer"),j,bF,bO,"imgContainer0");break;case"imageRotateCornerBL":var bF=(aH.aengine=="transition"?{rotate:"90deg"}:{rotateZ:"90"});aB(bO.$getElt(".imgContainer"),j,bF,bO,"imgContainer0");break;case"imageRotateCornerBR":var bF=(aH.aengine=="transition"?{rotate:"-90deg"}:{rotateZ:"-90"});aB(bO.$getElt(".imgContainer"),j,bF,bO,"imgContainer0");break;case"slideUp":aB(bO.$getElt(".imgContainer"),j,{translateY:-bO.thumbFullHeight},bO,"imgContainer0");aB(bO.$getElt(".labelImage"),j,{translateY:0},bO,"labelImage0");break;case"slideDown":aB(bO.$getElt(".imgContainer"),j,{translateY:bO.thumbFullHeight},bO,"imgContainer0");aB(bO.$getElt(".labelImage"),j,{translateY:0},bO,"labelImage0");break;case"slideRight":aB(bO.$getElt(".imgContainer"),j,{translateX:bO.thumbFullWidth},bO,"imgContainer0");aB(bO.$getElt(".labelImage"),j,{translateX:0},bO,"labelImage0");break;case"slideLeft":aB(bO.$getElt(".imgContainer"),j,{translateX:-bO.thumbFullWidth},bO,"imgContainer0");aB(bO.$getElt(".labelImage"),j,{translateX:0},bO,"labelImage0");break;case"imageSlideUp":aB(bO.$getElt(".imgContainer"),j,{translateY:-bO.thumbFullHeight},bO,"imgContainer0");break;case"imageSlideDown":aB(bO.$getElt(".imgContainer"),j,{translateY:bO.thumbFullHeight},bO,"imgContainer0");break;case"imageSlideLeft":aB(bO.$getElt(".imgContainer"),j,{translateX:-bO.thumbFullWidth},bO,"imgContainer0");break;case"imageSlideRight":aB(bO.$getElt(".imgContainer"),j,{translateX:bO.thumbFullWidth},bO,"imgContainer0");break;case"labelAppear":if(aH.aengine=="velocity"){aB(bO.$getElt(".labelImage"),j,{backgroundColorRed:aH.custGlobals.oldLabelRed,backgroundColorGreen:aH.custGlobals.oldLabelGreen,backgroundColorBlue:aH.custGlobals.oldLabelBlue,backgroundColorAlpha:1},bO)}else{var bP="rgba("+aH.custGlobals.oldLabelRed+","+aH.custGlobals.oldLabelGreen+","+aH.custGlobals.oldLabelBlue+",0.99)";aB(bO.$getElt(".labelImage"),j,{backgroundColor:bP},bO)}if(bO.kind=="album"){aB(bO.$getElt(".labelFolderTitle"),j,{opacity:"1"},bO)}else{aB(bO.$getElt(".labelImageTitle"),j,{opacity:"1"},bO)}aB(bO.$getElt(".labelDescription"),j,{opacity:"1"},bO);break;case"labelAppear75":if(aH.aengine=="velocity"){aB(bO.$getElt(".labelImage"),j,{backgroundColorRed:aH.custGlobals.oldLabelRed,backgroundColorGreen:aH.custGlobals.oldLabelGreen,backgroundColorBlue:aH.custGlobals.oldLabelBlue,backgroundColorAlpha:0.75},bO)}else{var bP="rgba("+aH.custGlobals.oldLabelRed+","+aH.custGlobals.oldLabelGreen+","+aH.custGlobals.oldLabelBlue+",0.75)";aB(bO.$getElt(".labelImage"),j,{backgroundColor:bP},bO)}if(bO.kind=="album"){aB(bO.$getElt(".labelFolderTitle"),j,{opacity:"1"},bO)}else{aB(bO.$getElt(".labelImageTitle"),j,{opacity:"1"},bO)}aB(bO.$getElt(".labelDescription"),j,{opacity:"1"},bO);break;case"descriptionAppear":aB(bO.$getElt(".labelDescription"),j,{opacity:"1"},bO);break;case"labelSlideDown":aB(bO.$getElt(".labelImage"),j,{translateY:0},bO,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":aB(bO.$getElt(".labelImage"),j,{translateY:0},bO,"labelImage0");break;case"descriptionSlideUp":var bE=(bO.kind=="album"?bO.$getElt(".labelFolderTitle").outerHeight(true):bO.$getElt(".labelImageTitle").outerHeight(true));var by=bO.$getElt(".labelDescription").outerHeight(true);var bH=bO.thumbFullHeight-bE-by;if(bH<0){bH=0}aB(bO.$getElt(".labelImage"),j,{translateY:0,height:bE+by},bO,"labelImage0");aB(bO.$getElt(".labelDescription"),j,{opacity:"1"},bO);break;case"labelOpacity50":aB(bO.$getElt(".labelImage"),j,{opacity:"0.5"},bO);break;case"imageOpacity50":aB(bO.$getElt(".imgContainer"),j,{opacity:"0.5"},bO);break;case"borderLighter":if(aH.aengine=="velocity"){var bQ=aD(aH.custGlobals.oldBorderColor,0.5),bC=bQ.substring(bQ.indexOf("(")+1,bQ.lastIndexOf(")")).split(/,\s*/);aB(bz,j,{borderColorRed:bC[0],borderColorGreen:bC[1],borderColorBlue:bC[2],colorAlpha:bC[3]},bO)}else{var bP=bz.css("borderTopColor");bz.data("ngcache_borderColor",bP);aB(bz,j,{borderColor:aD(bP,0.5)},bO)}break;case"borderDarker":if(aH.aengine=="velocity"){var bQ=w(aH.custGlobals.oldBorderColor,0.5),bC=bQ.substring(bQ.indexOf("(")+1,bQ.lastIndexOf(")")).split(/,\s*/);aB(bz,j,{borderColorRed:bC[0],borderColorGreen:bC[1],borderColorBlue:bC[2],colorAlpha:bC[3]},bO)}else{var bP=bz.css("borderTopColor");bz.data("ngcache_borderColor",bP);aB(bz,j,{borderColor:w(bP,0.5)},bO)}break;case"imageScale150":aB(bO.$getElt("img"),j,{scale:150/bA},bO,"img0");break;case"imageScaleIn80":aB(bO.$getElt("img"),j,{scale:100/bA},bO,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(bO.customData.hoverEffectRDir){case"imageSlide2Up":var bG=bO.thumbFullHeight<(bO.imgHeight*1.4)?((bO.imgHeight*1.4)-bO.thumbFullHeight)/2:0;aB(bO.$getElt("img"),j,{translateY:-bG},bO,"img0");break;case"imageSlide2Down":var bG=bO.thumbFullHeight<(bO.imgHeight*1.4)?((bO.imgHeight*1.4)-bO.thumbFullHeight)/2:0;aB(bO.$getElt("img"),j,{translateY:bG},bO,"img0");break;case"imageSlide2Left":aB(bO.$getElt("img"),j,{translateX:-bO.thumbFullWidth*0.1},bO,"img0");break;case"imageSlide2Right":aB(bO.$getElt("img"),j,{translateX:bO.thumbFullWidth*0.1},bO,"img0");break;case"imageSlide2UpRight":aB(bO.$getElt("img"),j,{translateY:-bO.thumbFullHeight*0.05,translateX:bO.thumbFullWidth*0.05},bO,"img0");break;case"imageSlide2UpLeft":aB(bO.$getElt("img"),j,{translateY:-bO.thumbFullHeight*0.05,translateX:-bO.thumbFullWidth*0.05},bO,"img0");break;case"imageSlide2DownRight":aB(bO.$getElt("img"),j,{translateY:bO.thumbFullHeight*0.05,translateX:bO.thumbFullWidth*0.05},bO,"img0");break;case"imageSlide2DownLeft":aB(bO.$getElt("img"),j,{translateY:bO.thumbFullHeight*0.05,translateX:-bO.thumbFullWidth*0.05},bO,"img0");break}break;case"imageScale150Outside":bh("",bz);aB(bO.$getElt("img"),j,{scale:150/bA},bO,"img0");break;case"scale120":bh("",bz);aB(bz,j,{scale:120/bA},bO,"base");break;case"imageExplode":bh("",bz);var bB=bO.$getElt(".imgContainer");bI=Math.sqrt(bB.length);var bJ=[];for(var bK=0;bK<=Math.PI;bK+=Math.PI/(bI-1)){bJ.push(Math.sin(bK))}var bD=bB.outerWidth(true)/bI,bL=bB.outerHeight(true)/bI,bK=0;for(var bF=0;bF<bI;bF++){for(var bP=0;bP<bI;bP++){aB(bB.eq(bK++),j,{top:((-bL*bI/3)+bL*bF-bL)*bJ[bP],left:((-bD*bI/3)+bD*bP-bD)*bJ[bF],scale:1.5,opacity:0},bO)}}break;case"imageFlipHorizontal":bh("",bz);aB(bO.$getElt(".imgContainer"),j,{rotateX:180},bO,"imgContainer0");aB(bO.$getElt(".labelImage"),j,{rotateX:360},bO,"labelImage0");break;case"imageFlipVertical":bh("",bz);aB(bO.$getElt(".imgContainer"),j,{rotateY:180},bO,"imgContainer0");aB(bO.$getElt(".labelImage"),j,{rotateY:360},bO,"labelImage0");break;case"TEST":break}}}catch(bN){aX("error on hover "+bN.message)}}function s(by,bA,bF,bK,bD){var bC=["translateX","translateY","scale","rotateX","rotateY","rotateZ"];if(aH.aengine=="animate"){for(var bG=0;bG<bC.length;bG++){var bB=bC[bG];if(typeof bF[bB]!=="undefined"){var bz=new d();var bI=parseInt(bF[bB]);bz.tween({attachment:{it:bK,eC:bD,t:bB,f:bI},from:{v:parseInt(bK.eltTransform[bD][bB])},to:{v:bI},duration:aH.tn.getHE()[bA].durationBack,delay:aH.tn.getHE()[bA].delayBack,step:function(bM,bL){bL.it.eltTransform[bL.eC][bL.t]=bM.v;bt(bL.it,bL.eC)},finish:function(bM,bL){bL.it.eltTransform[bL.eC][bL.t]=bL.f;bt(bL.it,bL.eC)}});delete bF[bB]}}}var bE=0;for(var bJ in bF){if(bF.hasOwnProperty(bJ)){bE++;break}}if(bE==0){return}if(aH.aengine!="transition"){var bH={};for(var bJ in bF){if(bJ=="borderColor"){bH[bJ]=by.css("borderTopColor")}else{bH[bJ]=by.css(bJ);if(bH[bJ]=="transparent"){bH[bJ]="rgba(0,0,0,0.01)"}}}var bz=new d();bz.tween({attachment:{$e:by,it:bK,to:bF},from:bH,to:bF,duration:aH.tn.getHE()[bA].durationBack,delay:aH.tn.getHE()[bA].delayBack,step:function(bM,bL){bL.$e.css(bM)},finish:function(bM,bL){bL.$e.css(bL.to)}})}else{if(aH.tn.getHE()[bA].delay>0){by.delay(aH.tn.getHE()[bA].delay)[aH.aengine](bF,aH.tn.getHE()[bA].durationBack,aH.tn.getHE()[bA].easingBack)}else{by[aH.aengine](bF,aH.tn.getHE()[bA].durationBack,aH.tn.getHE()[bA].easingBack)}}}function Q(bA){if(aH.containerViewerDisplayed){return}var bC=bA.data("index");if(bC==undefined){return}if(aH.aengine=="velocity"){bA.find("*").velocity("stop",true)}else{bA.find("*").filter(":animated").stop(true,false)}var bL=aH.I[bC];bL.hovered=false;var bM=(aH.aengine=="animate"?1:100);if(typeof aH.O.fnThumbnailHoverOut=="function"){aH.O.fnThumbnailHoverOut(bA,bL,C())}try{for(j=0;j<aH.tn.getHE().length;j++){switch(aH.tn.getHE()[j].name){case"imageSplit4":var bF=bL.$getElt(".imgContainer");s(bF.eq(0),j,{translateX:0,translateY:0},bL,"imgContainer0");s(bF.eq(1),j,{translateX:0,translateY:0},bL,"imgContainer1");s(bF.eq(2),j,{translateX:0,translateY:0},bL,"imgContainer2");s(bF.eq(3),j,{translateX:0,translateY:0},bL,"imgContainer3");break;s(bF.eq(0),j,{right:"0%",top:"0%"});s(bF.eq(1),j,{left:"0%",top:"0%"});s(bF.eq(2),j,{left:"0%",bottom:"0%"});s(bF.eq(3),j,{right:"0%",bottom:"0%"});break;case"imageSplitVert":var bF=bL.$getElt(".imgContainer");s(bF.eq(0),j,{translateX:0},bL,"imgContainer0");s(bF.eq(1),j,{translateX:0},bL,"imgContainer1");break;case"labelSplit4":var bF=bL.$getElt(".labelImage");s(bF.eq(0),j,{translateX:0,translateY:0},bL,"labelImage0");s(bF.eq(1),j,{translateX:0,translateY:0},bL,"labelImage1");s(bF.eq(2),j,{translateX:0,translateY:0},bL,"labelImage2");s(bF.eq(3),j,{translateX:0,translateY:0},bL,"labelImage3");break;case"labelSplitVert":var bF=bL.$getElt(".labelImage");s(bF.eq(0),j,{translateX:0},bL,"labelImage0");s(bF.eq(1),j,{translateX:0},bL,"labelImage1");break;case"labelAppearSplit4":var bF=bL.$getElt(".labelImage");s(bF.eq(0),j,{translateX:-bL.thumbFullWidth/2,translateY:-bL.thumbFullHeight/2},bL,"labelImage0");s(bF.eq(1),j,{translateX:bL.thumbFullWidth/2,translateY:-bL.thumbFullHeight/2},bL,"labelImage1");s(bF.eq(2),j,{translateX:bL.thumbFullWidth/2,translateY:bL.thumbFullHeight/2},bL,"labelImage2");s(bF.eq(3),j,{translateX:-bL.thumbFullWidth/2,translateY:bL.thumbFullHeight/2},bL,"labelImage3");break;case"labelAppearSplitVert":var bF=bL.$getElt(".labelImage");s(bF.eq(0),j,{translateX:-bL.thumbFullWidth/2},bL,"labelImage0");s(bF.eq(1),j,{translateX:bL.thumbFullWidth/2},bL,"labelImage1");break;case"scaleLabelOverImage":s(bL.$getElt(".labelImage"),j,{opacity:"0",scale:50/bM},bL,"labelImage0");s(bL.$getElt(".imgContainer"),j,{scale:100/bM},bL,"imgContainer0");break;case"overScale":case"overScaleOutside":s(bL.$getElt(".labelImage"),j,{opacity:"0",scale:150/bM},bL,"labelImage0");s(bL.$getElt(".imgContainer"),j,{opacity:"1",scale:100/bM},bL,"imgContainer0");break;case"imageInvisible":s(bL.$getElt(".imgContainer"),j,{opacity:"1"});break;case"rotateCornerBL":var bz=(aH.aengine=="transition"?{rotate:"-90deg"}:{rotateZ:"-90"});s(bL.$getElt(".labelImage"),j,bz,bL,"labelImage0");bz=(aH.aengine=="transition"?{rotate:"0deg"}:{rotateZ:"0"});s(bL.$getElt(".imgContainer"),j,bz,bL,"imgContainer0");break;case"rotateCornerBR":var bz=(aH.aengine=="transition"?{rotate:"90deg"}:{rotateZ:"90"});s(bL.$getElt(".labelImage"),j,bz,bL,"labelImage0");bz=(aH.aengine=="transition"?{rotate:"0deg"}:{rotateZ:"0"});s(bL.$getElt(".imgContainer"),j,bz,bL,"imgContainer0");break;case"imageRotateCornerBL":case"imageRotateCornerBR":var bz=(aH.aengine=="transition"?{rotate:"0deg"}:{rotateZ:"0"});s(bL.$getElt(".imgContainer"),j,bz,bL,"imgContainer0");break;case"slideUp":s(bL.$getElt(".imgContainer"),j,{translateY:0},bL,"imgContainer0");s(bL.$getElt(".labelImage"),j,{translateY:bL.thumbFullHeight},bL,"labelImage0");break;case"slideDown":s(bL.$getElt(".imgContainer"),j,{translateY:0},bL,"imgContainer0");s(bL.$getElt(".labelImage"),j,{translateY:-bL.thumbFullHeight},bL,"labelImage0");break;case"slideRight":s(bL.$getElt(".imgContainer"),j,{translateX:0},bL,"imgContainer0");s(bL.$getElt(".labelImage"),j,{translateX:-bL.thumbFullWidth},bL,"labelImage0");break;case"slideLeft":s(bL.$getElt(".imgContainer"),j,{translateX:0},bL,"imgContainer0");s(bL.$getElt(".labelImage"),j,{translateX:bL.thumbFullWidth},bL,"labelImage0");break;case"imageSlideUp":case"imageSlideDown":s(bL.$getElt(".imgContainer"),j,{translateY:0},bL,"imgContainer0");break;case"imageSlideLeft":case"imageSlideRight":s(bL.$getElt(".imgContainer"),j,{translateX:0},bL,"imgContainer0");break;case"labelAppear":case"labelAppear75":if(aH.aengine=="velocity"){s(bL.$getElt(".labelImage"),j,{backgroundColorRed:aH.custGlobals.oldLabelRed,backgroundColorGreen:aH.custGlobals.oldLabelGreen,backgroundColorBlue:aH.custGlobals.oldLabelBlue,backgroundColorAlpha:0})}else{var bH="rgba("+aH.custGlobals.oldLabelRed+","+aH.custGlobals.oldLabelGreen+","+aH.custGlobals.oldLabelBlue+",0.01)";s(bL.$getElt(".labelImage"),j,{backgroundColor:bH})}if(bL.kind=="album"){s(bL.$getElt(".labelFolderTitle"),j,{opacity:"0"})}else{s(bL.$getElt(".labelImageTitle"),j,{opacity:"0"})}s(bL.$getElt(".labelDescription"),j,{opacity:"0"});break;case"descriptionAppear":s(bL.$getElt(".labelDescription"),j,{opacity:"0"});break;case"labelSlideDown":s(bL.$getElt(".labelImage"),j,{translateY:-bL.thumbFullHeight},bL,"labelImage0");break;case"labelSlideUpTop":case"labelSlideUp":s(bL.$getElt(".labelImage"),j,{translateY:bL.thumbFullHeight},bL,"labelImage0");break;case"descriptionSlideUp":var bK=(bL.kind=="album"?bL.$getElt(".labelFolderTitle").outerHeight(true):bL.$getElt(".labelImageTitle").outerHeight(true));var bB=bL.thumbFullHeight-bK-aH.tn.borderHeight-aH.tn.imgcBorderHeight;s(bL.$getElt(".labelImage"),j,{translateY:0,height:bK},bL,"labelImage0");break;case"labelOpacity50":s(bL.$getElt(".labelImage"),j,{opacity:aH.custGlobals.oldLabelOpacity});break;case"imageOpacity50":s(bL.$getElt(".imgContainer"),j,{opacity:"1"});break;case"borderLighter":case"borderDarker":if(aH.aengine=="velocity"){var by=aH.custGlobals.oldBorderColor;var bI=by.substring(by.indexOf("(")+1,by.lastIndexOf(")")).split(/,\s*/);s(bA,j,{borderColorRed:bI[0],borderColorGreen:bI[1],borderColorBlue:bI[2],colorAlpha:bI[3]})}else{s(bA,j,{borderColor:bA.data("ngcache_borderColor")})}break;case"imageScale150":case"imageScale150Outside":s(bL.$getElt("img"),j,{scale:100/bM},bL,"img0");break;case"imageScaleIn80":s(bL.$getElt("img"),j,{scale:120/bM},bL,"img0");break;case"imageSlide2Up":case"imageSlide2Down":case"imageSlide2Left":case"imageSlide2Right":case"imageSlide2UpRight":case"imageSlide2UpLeft":case"imageSlide2DownRight":case"imageSlide2DownLeft":case"imageSlide2Random":switch(bL.customData.hoverEffectRDir){case"imageSlide2Up":var bJ=bL.thumbFullHeight<(bL.imgHeight*1.4)?((bL.imgHeight*1.4)-bL.thumbFullHeight)/2:0;s(bL.$getElt("img"),j,{translateY:bJ},bL,"img0");break;case"imageSlide2Down":var bJ=bL.thumbFullHeight<(bL.imgHeight*1.4)?((bL.imgHeight*1.4)-bL.thumbFullHeight)/2:0;s(bL.$getElt("img"),j,{translateY:-bJ},bL,"img0");break;case"imageSlide2Left":s(bL.$getElt("img"),j,{translateX:bL.thumbFullWidth*0.1},bL,"img0");break;case"imageSlide2Right":s(bL.$getElt("img"),j,{translateX:-bL.thumbFullWidth*0.1},bL,"img0");break;case"imageSlide2UpRight":s(bL.$getElt("img"),j,{translateY:bL.thumbFullHeight*0.05,translateX:-bL.thumbFullWidth*0.05},bL,"img0");break;case"imageSlide2UpLeft":s(bL.$getElt("img"),j,{translateY:bL.thumbFullHeight*0.05,translateX:bL.thumbFullWidth*0.05},bL,"img0");break;case"imageSlide2DownRight":s(bL.$getElt("img"),j,{translateY:-bL.thumbFullHeight*0.05,translateX:-bL.thumbFullWidth*0.05},bL,"img0");break;case"imageSlide2DownLeft":s(bL.$getElt("img"),j,{translateY:-bL.thumbFullHeight*0.05,translateX:bL.thumbFullWidth*0.05},bL,"img0");break}break;case"scale120":s(bA,j,{scale:100/bM},bL,"base");break;case"imageExplode":var bD=bL.$getElt(".imgContainer");bC=Math.sqrt(bD.length);var bE=0;for(var bz=0;bz<bC;bz++){for(var bH=0;bH<bC;bH++){s(bD.eq(bE++),j,{top:"0",left:"0",scale:"1",opacity:"1"})}}break;case"imageFlipHorizontal":s(bL.$getElt(".imgContainer"),j,{rotateX:0},bL,"imgContainer0");s(bL.$getElt(".labelImage"),j,{rotateX:180},bL,"labelImage0");break;case"imageFlipVertical":s(bL.$getElt(".imgContainer"),j,{rotateY:0},bL,"imgContainer0");s(bL.$getElt(".labelImage"),j,{rotateY:180},bL,"labelImage0");break;case"TEST":break}}}catch(bG){aX("error on hoverOut "+bG.message)}}function a6(by){if(!aH.O.thumbnailOpenImage){return}if(typeof aH.O.fnThumbnailOpen=="function"){F(by);return}if(aH.O.viewer=="fancybox"){X(by)}else{if(!aH.containerViewerDisplayed){az(by)}else{aY(by,"")}}}function az(bF){jQuery("body").css({overflow:"hidden"});aH.containerViewerDisplayed=true;aH.$E.conVwCon=jQuery('<div  class="nanoGalleryViewerContainer" style="visibility:visible"></div>').appendTo("body");aH.$E.conVwCon.addClass("nanogallery_theme_"+aH.O.theme);L(aH.$E.conVwCon);aH.$E.conVw=jQuery('<div  id="nanoGalleryViewer" class="nanoGalleryViewer" style="visibility:visible" itemscope itemtype="http://schema.org/ImageObject"></div>').appendTo(aH.$E.conVwCon);aH.$E.conVw.css({visibility:"visible",position:"fixed"});aH.$E.conVw.css({msTouchAction:"none",touchAction:"none"});var bE="",bC=aH.I.length;bE+='<img class="image nGEvent" src="'+aH.I[bF].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';bE+='<img class="image nGEvent" src="'+aH.I[bF].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';bE+='<img class="image nGEvent" src="'+aH.I[bF].responsiveURL()+'" alt=" " style="visibility:visible;opacity:0;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto;zoom:1;" itemprop="contentURL">';aH.$E.vwContent=jQuery('<div class="content nGEvent">'+bE+'<div class="contentAreaPrevious nGEvent"></div><div class="contentAreaNext nGEvent"></div></div>').appendTo(aH.$E.conVw);aH.$E.vwImgP=aH.$E.conVw.find(".image").eq(0);aH.$E.vwImgC=aH.$E.conVw.find(".image").eq(1);aH.$E.vwImgN=aH.$E.conVw.find(".image").eq(2);aH.$E.conVwCon.find("*").attr("draggable","false").attr("unselectable","on");var bG=jQuery('<div class="closeButtonFloating nGEvent"></div>').appendTo(aH.$E.conVw);bG.on("touchstart click",function(bI){bI.preventDefault();bI.stopPropagation();if((new Date().getTime())-aH.timeImgChanged<400){return}bo(true);return false});var bH='<div class="toolbarContainer nGEvent" style="visibility:'+(aH.O.viewerToolbar.display?"visible":"hidden")+';"><div class="toolbar nGEvent">';var by=aH.O.viewerToolbar.standard.split(",");for(var bD=0,bA=by.length;bD<bA;bD++){bH+=aW(by[bD])}var bz=aH.O.viewerToolbar.minimized.split(",");for(var bD=0,bB=bz.length;bD<bB;bD++){if(aH.O.viewerToolbar.standard.indexOf(bz[bD])==-1){bH+=aW(bz[bD])}}bH+="</div></div>";aH.$E.conVwTb=jQuery(bH).appendTo(aH.$E.conVw);if(aH.toolbarMode=="min"||(aH.O.viewerToolbar.autoMinimize>0&&aH.O.viewerToolbar.autoMinimize>=al().w)){ay()}else{aM()}if(aH.O.viewerFullscreen){aH.viewerIsFullscreen=true;aH.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton");ngscreenfull.request()}if(aH.O.viewerDisplayLogo){aH.$E.vwLogo=jQuery('<div class="nanoLogo"></div>').appendTo(aH.$E.conVw)}bh("",aH.$E.conVw);bh(aH.$E.conVw,bG);r();aH.timeImgChanged=new Date().getTime();aH.$E.conVwTb.find(".closeButton").on("touchstart click",function(bI){bI.preventDefault();bI.stopPropagation();if((new Date().getTime())-aH.timeImgChanged<400){return}bo(true)});aH.$E.conVwTb.find(".playPauseButton").on("touchstart click",function(bI){bI.stopPropagation();y()});aH.$E.conVwTb.find(".minimizeButton").on("touchstart click",function(bI){bI.stopPropagation();T()});aH.$E.conVwTb.find(".fullscreenButton").on("touchstart click",function(bI){bI.stopPropagation();f()});aH.$E.conVwTb.find(".infoButton").on("touchstart click",function(bI){bI.stopPropagation();if(typeof aH.O.fnViewerInfo=="function"){aH.O.fnViewerInfo(aH.I[aH.viewerCurrentItemIdx],C())}});aH.$E.conVwTb.find(".ngCustomBtn").on("touchstart click",function(bM){bM.stopPropagation();if(typeof aH.O.fnImgToolbarCustClick=="function"){var bL=bM.target||bM.srcElement;while(bL==null||bL.getAttribute("class")==null||bL.getAttribute("class").indexOf("ngCustomBtn")==-1){bL=bL.parentNode}var bJ=bL.getAttribute("class");if(bJ.indexOf("ngCustomBtn")>=0){var bN=bJ.split(" ");for(var bK=0,bI=bN.length;bK<bI;bK++){if(bN[bK].indexOf("custom")==0){aH.O.fnImgToolbarCustClick(bN[bK],jQuery(bL),aH.I[aH.viewerCurrentItemIdx],C())}}}}});aH.$E.conVwTb.find(".linkOriginalButton").on("touchstart click",function(bJ){bJ.stopPropagation();if(aH.O.kind=="picasa"){var bI="https://plus.google.com/photos/"+aH.O.userID+"/albums/"+aH.I[aH.viewerCurrentItemIdx].albumID+"/"+aH.I[aH.viewerCurrentItemIdx].GetID();window.open(bI,"_blank")}if(aH.O.kind=="flickr"){var bI="https://www.flickr.com/photos/"+aH.O.userID+"/"+aH.I[aH.viewerCurrentItemIdx].GetID();window.open(bI,"_blank")}});aH.$E.conVwTb.find(".nextButton").on("touchstart click",function(bI){bI.stopPropagation();a4()});aH.$E.conVwTb.find(".previousButton").on("touchstart click",function(bI){bI.stopPropagation();bn()});aH.$E.vwContent.find(".contentAreaNext").on("touchstart click",function(bI){bI.stopPropagation();a4()});aH.$E.vwContent.find(".contentAreaPrevious").on("touchstart click",function(bI){bI.stopPropagation();bn()});aH.$E.vwContent.on("click",function(bI){if((new Date().getTime())-aH.timeImgChanged<400){return}bI.preventDefault();bI.stopPropagation();bo(true);return false});aH.$E.conVw.find(".image").attr("draggable","false").attr("unselectable","on").css({"-moz-user-select":"none","-khtml-user-select":"none","-webkit-user-select":"none","-o-user-select":"none","user-select":"none"});aY(bF,"");if(aH.viewerSwipe==null){aH.viewerSwipe=new aO(aH.$E.conVwCon[0])}if(aH.O.slideshowAutoStart){aH.playSlideshow=true;aH.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton");aF();aH.playSlideshowTimerID=window.setInterval(function(){aF()},aH.slideshowDelay)}}function aW(by){var bz="",bA=by.replace(/^\s+|\s+$/g,"");switch(bA){case"minimizeButton":bz='<div class="ngbt minimizeButton hideToolbarButton nGEvent"></div>';break;case"previousButton":bz='<div class="ngbt previousButton nGEvent"></div>';break;case"pageCounter":bz='<div class="pageCounter nGEvent"></div>';break;case"nextButton":bz='<div class="ngbt nextButton nGEvent"></div>';break;case"playPauseButton":bz='<div class="ngbt playButton playPauseButton nGEvent"></div>';break;case"fullscreenButton":if(aH.supportFullscreenAPI){bz='<div class="ngbt setFullscreenButton fullscreenButton nGEvent"></div>'}break;case"infoButton":if(typeof aH.O.fnViewerInfo=="function"){bz='<div class="ngbt infoButton nGEvent"></div>'}break;case"linkOriginalButton":if(aH.O.kind=="flickr"||aH.O.kind=="picasa"){bz='<div class="ngbt linkOriginalButton nGEvent"></div>'}break;case"closeButton":bz='<div class="ngbt closeButton nGEvent"></div>';break;case"label":bz='<div class="label"><div class="title nGEvent" itemprop="name"></div><div class="description nGEvent" itemprop="description"></div></div>';break;default:if(bA.indexOf("custom")==0){bz='<div class="ngbt ngCustomBtn '+bA+' nGEvent">'+(typeof aH.O.fnImgToolbarCustInit=="function"?aH.O.fnImgToolbarCustInit(bA):"")+"</div>"}break}return bz}function aO(bC){var bD=bC,bz=false,bA=null,bG=null,bF=0,bH=this;function bK(bL){if(!aH.containerViewerDisplayed){return}aH.timeLastTouchStart=new Date().getTime();bL.preventDefault();if(bL.touches&&bL.touches.length>1){return}bA=bE(bL);if(window.navigator.msPointerEnabled){document.addEventListener("MSPointerMove",by,true);document.addEventListener("MSPointerUp",bI,true)}else{document.addEventListener("touchmove",by,true);document.addEventListener("touchend",bI,true);document.addEventListener("touchcancel",bI,true);document.addEventListener("mousemove",by,true);document.addEventListener("mouseup",bI,true)}}function by(bL){bL.preventDefault();bG=bE(bL);if(bz){return}bz=true;window.requestAnimationFrame(bJ)}function bI(bL){if(bL.cancelable){bL.preventDefault()}if(bL.touches&&bL.touches.length>0){return}bz=false;if(window.navigator.msPointerEnabled){document.removeEventListener("MSPointerMove",by,true);document.removeEventListener("MSPointerUp",bI,true)}else{document.removeEventListener("touchmove",by,true);document.removeEventListener("touchend",bI,true);document.removeEventListener("touchcancel",bI,true);document.removeEventListener("mousemove",by,true);document.removeEventListener("mouseup",bI,true)}bB()}function bB(){if(bG==null){bF=0;bA=null;return}var bL=bA.x-bG.x;bF=bF-bL;if(bL<-50){bn()}if(bL>50){a4()}bF=0;bA=null;bG=null;if(Math.abs(bL)<50){aA(bF)}return}function bE(bM){var bL={};if(bM.targetTouches){bL.x=bM.targetTouches[0].clientX;bL.y=bM.targetTouches[0].clientY}else{bL.x=bM.clientX;bL.y=bM.clientY}return bL}function bJ(){if(!bz){return}var bL=bA.x-bG.x;aA(bF-bL);bz=false}this.removeEventListeners=function(){if(window.navigator.msPointerEnabled){bD.removeEventListener("MSPointerDown",bK,true);document.removeEventListener("MSPointerMove",by,true);document.removeEventListener("MSPointerUp",bI,true)}else{bD.removeEventListener("touchstart",bK,true);document.removeEventListener("touchmove",by,true);document.removeEventListener("touchend",bI,true);document.removeEventListener("touchcancel",bI,true);document.removeEventListener("mousemove",by,true);document.removeEventListener("mouseup",bI,true)}};if(window.navigator.msPointerEnabled){bD.addEventListener("MSPointerDown",bK,true)}else{bD.addEventListener("touchstart",bK,true)}}function aA(bA){aH.imageSwipePosX=bA;if(aH.CSStransformName==null){aH.$E.vwImgC.css({left:bA})}else{aH.$E.vwImgC[0].style[aH.CSStransformName]="translateX("+bA+"px)";if(aH.O.imageTransition=="slide"){if(bA>0){var bz=aH.$E.vwImgP;var by=al().w;aH.$E.vwImgP.css({visibility:"visible",left:0,opacity:1});aH.$E.vwImgP[0].style[aH.CSStransformName]="translateX("+(-by+bA)+"px) ";aH.$E.vwImgN[0].style[aH.CSStransformName]="translateX("+(-by)+"px) "}else{var bz=aH.$E.vwImgN;var by=-al().w;aH.$E.vwImgN.css({visibility:"visible",left:0,opacity:1});aH.$E.vwImgN[0].style[aH.CSStransformName]="translateX("+(-by+bA)+"px) ";aH.$E.vwImgP[0].style[aH.CSStransformName]="translateX("+(-by)+"px) "}}}}function f(){if(ngscreenfull.enabled){ngscreenfull.toggle();if(aH.viewerIsFullscreen){aH.viewerIsFullscreen=false;aH.$E.conVwTb.find(".fullscreenButton").removeClass("removeFullscreenButton").addClass("setFullscreenButton")}else{aH.viewerIsFullscreen=true;aH.$E.conVwTb.find(".fullscreenButton").removeClass("setFullscreenButton").addClass("removeFullscreenButton")}}}function y(){if(aH.playSlideshow){window.clearInterval(aH.playSlideshowTimerID);aH.playSlideshow=false;aH.$E.conVwTb.find(".playPauseButton").removeClass("pauseButton").addClass("playButton")}else{aH.playSlideshow=true;aH.$E.conVwTb.find(".playPauseButton").removeClass("playButton").addClass("pauseButton");aF();aH.playSlideshowTimerID=window.setInterval(function(){aF()},aH.slideshowDelay)}}function T(){if(aH.toolbarMode=="std"){ay()}else{aM()}}function aM(){aH.toolbarMode="std";aH.$E.conVwTb.find(".minimizeButton").removeClass("viewToolbarButton").addClass("hideToolbarButton");bb("std");r()}function ay(){aH.toolbarMode="min";aH.$E.conVwTb.find(".minimizeButton").removeClass("hideToolbarButton").addClass("viewToolbarButton");bb("min");r()}function bb(bE){var bC=aH.O.viewerToolbar;var bC=(bE=="std"?aH.O.viewerToolbar.standard:aH.O.viewerToolbar.minimized);var bz=["minimizeButton","previousButton","pageCounter","nextButton","playPauseButton","fullscreenButton","infoButton","linkOriginalButton","closeButton","label"];for(var bB=0,by=bz.length;bB<by;bB++){if(bz[bB]=="label"){if(aH.$E.conVwTb.find(".title").text()==""&&aH.$E.conVwTb.find(".description").text()==""){aH.$E.conVwTb.find("."+bz[bB]).css({display:"none"})}else{aH.$E.conVwTb.find("."+bz[bB]).css({display:(bC.indexOf(bz[bB])>=0?"table-cell":"none")})}}else{aH.$E.conVwTb.find("."+bz[bB]).css({display:(bC.indexOf(bz[bB])>=0?"table-cell":"none")})}}aH.$E.conVwTb.find(".ngCustomBtn").css({display:"none"});var bA=bC.split(",");for(var bB=0,by=bA.length;bB<by;bB++){var bD=bA[bB].replace(/^\s+|\s+$/g,"");if(bD.indexOf("custom")==0){aH.$E.conVwTb.find("."+bD).css({display:"table-cell"})}}}function a4(){if(aH.playSlideshow){window.clearInterval(aH.playSlideshowTimerID);aH.playSlideshowTimerID=window.setInterval(function(){aF()},aH.slideshowDelay)}aF()}function aF(){if(aH.viewerImageIsChanged){return}if((new Date().getTime())-aH.timeImgChanged<300){return}var by=aH.I.length;var bz=ao(aH.viewerCurrentItemIdx);aY(bz,"nextImage")}function bn(){if(aH.viewerImageIsChanged){return}if((new Date().getTime())-aH.timeImgChanged<300){return}if(aH.playSlideshow){y()}var by=Y(aH.viewerCurrentItemIdx);aY(by,"previousImage")}function aY(bD,bC){aH.timeImgChanged=new Date().getTime();aH.viewerImageIsChanged=true;var by=true;if(aH.O.locationHash){var bH="nanogallery/"+aH.baseEltID+"/"+aH.I[bD].albumID+"/"+aH.I[bD].GetID();if(("#"+bH)!=location.hash){aH.lastLocationHash="#"+bH;try{top.location.hash=bH}catch(bE){aH.O.locationHash=false}}else{try{aH.lastLocationHash=top.location.hash}catch(bE){aH.O.locationHash=false}}}if(aH.O.debugMode&&console.timeline){console.timeline("nanoGALLERYviewer")}aH.viewerResizeTimerID=window.setTimeout(r,100);aH.viewerCurrentItemIdx=bD;if(bC==""){aH.$E.vwImgC.css({opacity:0,left:0,visibility:"visible"}).attr("src",aH.emptyGif).attr("src",aH.I[bD].responsiveURL());var bz=new d();bz.tween({from:{o:0},to:{o:1},attachment:{idx:bD,dT:bC},duration:400,step:function(bJ,bI){aH.$E.vwImgC.css({opacity:bJ.o})},finish:function(bJ,bI){aH.$E.vwImgC.css({opacity:1});aw(bI.idx,bI.dT)}})}else{switch(aH.O.imageTransition){case"fade":var bA=(bC=="nextImage"?aH.$E.vwImgN:aH.$E.vwImgP);bA.css({opacity:0,left:0,visibility:"visible"});var bz=new d();bz.tween({from:{o:0},to:{o:1},attachment:{idx:bD,dT:bC,$e:bA},duration:300,step:function(bJ,bI){aH.$E.vwImgC.css({opacity:1-bJ.o});bI.$e.css({opacity:bJ.o})},finish:function(bJ,bI){aH.$E.vwImgC.css({opacity:0});bI.$e.css({opacity:1});aw(bI.idx,bI.dT)}});break;case"slideBETA":var bA=(bC=="nextImage"?aH.$E.vwImgN:aH.$E.vwImgP);bA.css({opacity:1,left:0,visibility:"visible"});if(aH.CSStransformName==null){jQuery.when(aH.$E.vwImgC.animate({left:(bC=="nextImage"?-al().w:al().w)+"px",opacity:0},500),bA.animate({opacity:1},300)).done(function(){aw(bD,bC)})}else{var bB=(bC=="nextImage"?-al().w:al().w);bA[0].style[aH.CSStransformName]="translateX("+(-bB)+"px) ";var bG={v:aH.imageSwipePosX};var bF={v:(bC=="nextImage"?-al().w:al().w)};jQuery(bG).animate(bF,{duration:500,step:function(bI){aH.$E.vwImgC[0].style[aH.CSStransformName]="translateX("+bI+"px)";aH.$E.vwImgC.css({opacity:(1-Math.abs(bI/bB))});bA[0].style[aH.CSStransformName]="translateX("+(-bB+bI)+"px) "},complete:function(){aH.$E.vwImgC[0].style[aH.CSStransformName]="";aH.$E.vwImgC.css({opacity:0});aw(bD,bC)}})}break;case"slideOLD":var bA=(bC=="nextImage"?aH.$E.vwImgN:aH.$E.vwImgP);if(aH.CSStransformName==null){bA.css({opacity:0,left:0,visibility:"visible"});jQuery.when(aH.$E.vwImgC.animate({left:(bC=="nextImage"?-al().w:al().w)+"px"},500),bA.animate({opacity:1},300)).done(function(){aw(bD,bC)})}else{bA.css({opacity:1,left:0,visibility:"visible"});var bB=(bC=="nextImage"?-al().w:al().w);bA[0].style[aH.CSStransformName]="translateX("+(-bB)+"px) ";var bG={v:aH.imageSwipePosX};var bF={v:(bC=="nextImage"?-al().w:al().w)};jQuery(bG).animate(bF,{duration:400,easing:"linear",step:function(bI){window.requestAnimationFrame(function(){aH.$E.vwImgC[0].style[aH.CSStransformName]="translateX("+bI+"px)";bA[0].style[aH.CSStransformName]="translateX("+(-bB+bI)+"px) "})},complete:function(){window.requestAnimationFrame(function(){aH.$E.vwImgC[0].style[aH.CSStransformName]="";aw(bD,bC)})}})}break;case"slide":var bA=(bC=="nextImage"?aH.$E.vwImgN:aH.$E.vwImgP);if(aH.CSStransformName==null){bA.css({opacity:0,left:0,visibility:"visible"});jQuery.when(aH.$E.vwImgC.animate({left:((bC=="nextImage"?-al().w:al().w)*2)+"px"},500),bA.animate({opacity:1},300)).done(function(){aw(bD,bC)})}else{var bB=(bC=="nextImage"?-al().w:al().w);bA.css({opacity:1,left:0,visibility:"visible"});bA[0].style[aH.CSStransformName]="translateX("+(-bB)+"px) ";var bz=new d();bz.tween({from:{t:aH.imageSwipePosX},to:{t:(bC=="nextImage"?-al().w:al().w)},attachment:{idx:bD,dT:bC,$e:bA,dir:bB},duration:300,step:function(bJ,bI){aH.$E.vwImgC[0].style[aH.CSStransformName]="translateX("+bJ.t+"px)";bI.$e[0].style[aH.CSStransformName]="translateX("+(-bI.dir+bJ.t)+"px) "},finish:function(bJ,bI){aH.$E.vwImgC[0].style[aH.CSStransformName]="";bI.$e[0].style[aH.CSStransformName]="";aw(bI.idx,bI.dT)}})}break;case"slideAppear":default:var bB=al().w+"px";var bA=aH.$E.vwImgP;if(bC=="nextImage"){bB="-"+bB;bA=aH.$E.vwImgN}bA.css({opacity:0,left:0,visibility:"visible"});jQuery.when(aH.$E.vwImgC.animate({left:bB,opacity:0},500),bA.animate({opacity:1},300)).done(function(){aA(0);aw(bD,bC)});break}}}function aw(by,bz){aE(by);if(aH.O.debugMode&&console.timeline){console.timelineEnd("nanoGALLERYviewer")}if(typeof aH.O.fnImgDisplayed==="function"){if(!aH.O.fnImgDisplayed(aH.I[by].$elt,aH.I[by])){return}}aH.imageSwipePosX=0;aH.$E.vwImgC.off("click");aH.$E.vwImgC.removeClass("imgCurrent");var bA=aH.$E.vwImgC;switch(bz){case"nextImage":aH.$E.vwImgC=aH.$E.vwImgN;aH.$E.vwImgN=bA;break;case"previousImage":aH.$E.vwImgC=aH.$E.vwImgP;aH.$E.vwImgP=bA;break}aH.$E.vwImgC.addClass("imgCurrent");aH.$E.vwImgN.css({opacity:0,left:0,visibility:"hidden"}).attr("src",aH.emptyGif).attr("src",aH.I[ao(by)].responsiveURL());aH.$E.vwImgP.css({opacity:0,left:0,visibility:"hidden"}).attr("src",aH.emptyGif).attr("src",aH.I[Y(by)].responsiveURL());aH.$E.vwImgC.on("click",function(bB){bB.stopPropagation();if(bB.pageX<(jQuery(window).width()/2)){bn()}else{a4()}});r();aH.viewerImageIsChanged=false}function ao(by){var bz=aH.I.length;var bB=-1;for(var bA=by+1;bA<bz;bA++){if(aH.I[bA].albumID==aH.I[by].albumID&&aH.I[bA].kind=="image"){bB=bA;break}}if(bB==-1){for(var bA=0;bA<=by;bA++){if(aH.I[bA].albumID==aH.I[by].albumID&&aH.I[bA].kind=="image"){bB=bA;break}}}return bB}function Y(by){var bA=-1;for(var bz=by-1;bz>=0;bz--){if(aH.I[bz].albumID==aH.I[by].albumID&&aH.I[bz].kind=="image"){bA=bz;break}}if(bA==-1){for(var bz=aH.I.length-1;bz>=by;bz--){if(aH.I[bz].albumID==aH.I[by].albumID&&aH.I[bz].kind=="image"){bA=bz;break}}}return bA}function k(){aH.$E.conVwTb.css({visibility:"hidden"})}function aE(by){if(!aH.O.viewerToolbar.display){return}aH.$E.conVwTb.css({visibility:"visible"});var bA=false;if(aH.I[by].title!==undefined&&aH.I[by].title!=""){aH.$E.conVwTb.find(".title").html(aH.I[by].title);bA=true}else{aH.$E.conVwTb.find(".title").html("")}if(aH.I[by].description!==undefined&&aH.I[by].description!=""){aH.$E.conVwTb.find(".description").html(aH.I[by].description);bA=true}else{aH.$E.conVwTb.find(".description").html("")}var bz=aH.$E.conVwTb.find(".ngCustomBtn");if(bz.length>0&&typeof aH.O.fnImgToolbarCustDisplay=="function"){aH.O.fnImgToolbarCustDisplay(bz,aH.I[by],C())}if(bA&&(aH.toolbarMode=="std"?aH.O.viewerToolbar.standard:aH.O.viewerToolbar.minimized).indexOf("label")>=0){aH.$E.conVwTb.find(".label").show()}else{aH.$E.conVwTb.find(".label").hide()}var bB=a8();if(bB>0){aH.$E.conVwTb.find(".pageCounter").html((aH.I[by].imageNumber+1)+"/"+bB)}}function bo(by){if(aH.viewerImageIsChanged){aH.$E.vwContent.find("*").stop(true,true)}aH.viewerImageIsChanged=false;if(aH.containerViewerDisplayed){window.clearTimeout(aH.viewerResizeTimerID);if(aH.playSlideshow){window.clearInterval(aH.playSlideshowTimerID);aH.playSlideshow=false}aH.viewerSwipe.removeEventListeners();aH.viewerSwipe=null;if(!(aH.O.galleryFullpageButton&&aH.$E.base.hasClass("fullpage"))){av()}if(aH.viewerIsFullscreen){aH.viewerIsFullscreen=false;ngscreenfull.exit()}aH.$E.conVwCon.hide(0).off().show(0).html("").remove();aH.containerViewerDisplayed=false;if(aH.albumIdxToOpenOnViewerClose!=-1){bs(aH.albumIdxToOpenOnViewerClose,true)}else{if(aH.O.locationHash&&by){var bz=aH.I[aH.viewerCurrentItemIdx].albumID,bA="nanogallery/"+aH.baseEltID+"/"+bz;aH.lastLocationHash="#"+bA;try{top.location.hash=bA}catch(bB){aH.O.locationHash=false}}an()}aH.timeImgChanged=new Date().getTime()}}function r(){if(!aH.containerViewerDisplayed){return}if((new Date().getTime())-aH.viewerResizeTimerLastRun<100){return}window.requestAnimationFrame(function(){var bS=aH.$E.conVw.width();var bB=aH.$E.conVw.height();var bF=aH.$E.vwImgC,bI=bF.height(),by=bF.width(),bA=bF.outerHeight(true),bK=bF.outerHeight(false);var bC=aH.$E.conVwTb.find(".toolbar"),bL=bC.outerHeight(true);if(bI<=40||!aH.O.viewerToolbar.display){aH.$E.conVwTb.css({visibility:"hidden"})}else{aH.$E.conVwTb.css({visibility:"visible"})}var bH=Math.abs(aH.$E.vwContent.outerHeight(true)-aH.$E.vwContent.height()),bP=Math.abs(aH.$E.vwContent.outerWidth(true)-aH.$E.vwContent.width()),bz=bK-bF.innerHeight(),bG=Math.abs(bF.outerWidth(false)-bF.innerWidth()),bN=Math.abs(bF.innerHeight()-bI),bR=Math.abs(bF.innerWidth()-by),bM=bz+bN,bQ=bG+bR,bJ=0;if(aH.O.viewerToolbar.style!="innerImage"){bJ=bL}var bO=bB-bJ-bH,bE=bS-bP;switch(aH.O.viewerToolbar.position){case"top":aH.$E.vwContent.css({height:bO,width:bE,top:bJ});var bD=0;if(aH.O.viewerToolbar.style=="innerImage"){bD=Math.abs(bA-bI)/2+5}if(aH.O.viewerToolbar.style=="stuckImage"){bD=Math.abs(bA-bI)/2-bM}aH.$E.conVwTb.css({top:bD});break;case"bottom":default:aH.$E.vwContent.css({height:bO,width:bE});var bD=0;if(aH.O.viewerToolbar.style=="innerImage"){bD=Math.abs(bA-bI)/2+5}if(aH.O.viewerToolbar.style=="stuckImage"){bD=Math.abs(bA-bI)/2-bM}aH.$E.conVwTb.css({bottom:bD});break}if(aH.O.viewerToolbar.style=="innerImage"){bC.css({"max-width":by})}if(aH.O.viewerToolbar.style=="fullWidth"){bC.css({width:bE})}aH.$E.conVwTb.css({height:bL});aH.$E.vwContent.children("img").css({"max-width":(bE-bQ),"max-height":(bO-bM)});aH.$E.vwContent.children("img").css({"object-fit":"contain"});aH.viewerResizeTimerID=window.setTimeout(r,100);aH.viewerResizeTimerLastRun=new Date().getTime()})}function F(by){var bD=by,bA=[],bC=0;bA.push(aH.I[bD]);var bz=aH.I.length;for(var bB=bD+1;bB<bz;bB++){if(aH.I[bB].kind=="image"&&aH.I[bB].albumID==aH.I[by].albumID&&aH.I[bB].destinationURL==""){bC++;bA.push(aH.I[bB])}}for(var bB=0;bB<bD;bB++){if(aH.I[bB].kind=="image"&&aH.I[bB].albumID==aH.I[by].albumID&&aH.I[bB].destinationURL==""){bC++;bA.push(aH.I[bB])}}aH.O.fnThumbnailOpen(bA)}function X(bz){var bD=bz,by=[],bC=0;by[bC]=new Object;by[bC].href=aH.I[bD].responsiveURL();by[bC].title=aH.I[bD].title;var bA=aH.I.length;for(var bB=bD+1;bB<bA;bB++){if(aH.I[bB].kind=="image"&&aH.I[bB].albumID==aH.I[bz].albumID&&aH.I[bB].destinationURL==""){bC++;by[bC]=new Object;by[bC].href=aH.I[bB].responsiveURL();by[bC].title=aH.I[bB].title}}for(var bB=0;bB<bD;bB++){if(aH.I[bB].kind=="image"&&aH.I[bB].albumID==aH.I[bz].albumID&&aH.I[bB].destinationURL==""){bC++;by[bC]=new Object;by[bC].href=aH.I[bB].responsiveURL();by[bC].title=aH.I[bB].title}}if(aH.O.fancyBoxOptions!=null){jQuery.fancybox(by,aH.O.fancyBoxOptions)}else{jQuery.fancybox(by,{autoPlay:false,nextEffect:"fade",prevEffect:"fade",scrolling:"no",helpers:{buttons:{position:"bottom"}}})}}function aU(bz){var bB=null;switch(bg(aH.O.colorScheme)){case"object":bB=aH.colorScheme_default;jQuery.extend(true,bB,aH.O.colorScheme);aH.colorSchemeLabel="nanogallery_colorscheme_custom_"+aH.baseEltID;break;case"string":switch(aH.O.colorScheme){case"none":return;break;case"light":bB=aH.colorScheme_light;aH.colorSchemeLabel="nanogallery_colorscheme_light";break;case"lightBackground":bB=aH.colorScheme_lightBackground;aH.colorSchemeLabel="nanogallery_colorscheme_lightBackground";break;case"darkRed":bB=aH.colorScheme_darkRed;aH.colorSchemeLabel="nanogallery_colorscheme_darkred";break;case"darkGreen":bB=aH.colorScheme_darkGreen;aH.colorSchemeLabel="nanogallery_colorscheme_darkgreen";break;case"darkBlue":bB=aH.colorScheme_darkBlue;aH.colorSchemeLabel="nanogallery_colorscheme_darkblue";break;case"darkOrange":bB=aH.colorScheme_darkOrange;aH.colorSchemeLabel="nanogallery_colorscheme_darkorange";break;case"default":case"dark":default:bB=aH.colorScheme_default;aH.colorSchemeLabel="nanogallery_colorscheme_default"}break;default:aX("Error in colorScheme parameter.");return}var by="."+aH.colorSchemeLabel+" ";var bA=by+".nanoGalleryNavigationbar { background:"+bB.navigationbar.background+" !important; }\n";if(bB.navigationbar.border!==undefined){bA+=by+".nanoGalleryNavigationbar { border:"+bB.navigationbar.border+" !important; }\n"}if(bB.navigationbar.borderTop!==undefined){bA+=by+".nanoGalleryNavigationbar { border-top:"+bB.navigationbar.borderTop+" !important; }\n"}if(bB.navigationbar.borderBottom!==undefined){bA+=by+".nanoGalleryNavigationbar { border-bottom:"+bB.navigationbar.borderBottom+" !important; }\n"}if(bB.navigationbar.borderRight!==undefined){bA+=by+".nanoGalleryNavigationbar { border-right:"+bB.navigationbar.borderRight+" !important; }\n"}if(bB.navigationbar.borderLeft!==undefined){bA+=by+".nanoGalleryNavigationbar { border-left:"+bB.navigationbar.borderLeft+" !important; }\n"}bA+=by+".nanoGalleryNavigationbar .oneFolder  { color:"+bB.navigationbar.color+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .separator  { color:"+bB.navigationbar.color+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .separatorRTL  { color:"+bB.navigationbar.color+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .nanoGalleryTags { color:"+bB.navigationbar.color+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .setFullPageButton { color:"+bB.navigationbar.color+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .removeFullPageButton { color:"+bB.navigationbar.color+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .oneFolder:hover { color:"+bB.navigationbar.colorHover+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .separatorRTL:hover { color:"+bB.navigationbar.colorHover+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .nanoGalleryTags:hover { color:"+bB.navigationbar.colorHover+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .setFullPageButton:hover { color:"+bB.navigationbar.colorHover+" !important; }\n";bA+=by+".nanoGalleryNavigationbar .removeFullPageButton:hover { color:"+bB.navigationbar.colorHover+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer { background:"+bB.thumbnail.background+" !important; border:"+bB.thumbnail.border+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .imgContainer { background:"+bB.thumbnail.background+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImage{ background:"+bB.thumbnail.labelBackground+" ; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle  { color:"+bB.thumbnail.titleColor+" !important; Text-Shadow:"+bB.thumbnail.titleShadow+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelImageTitle:before { color:"+bB.thumbnail.titleColor+" !important; Text-Shadow:"+bB.thumbnail.titleShadow+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle { color:"+bB.thumbnail.titleColor+" !important; Text-Shadow:"+bB.thumbnail.titleShadow+" !important; }\n";var bD=bB.thumbnail.labelBackground;if(bD=="transparent"){bD=""}bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle > span { background-color:"+bB.thumbnail.titleColor+" !important; color:"+bD+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelFolderTitle:before { color:"+bB.thumbnail.titleColor+" !important; Text-Shadow:"+bB.thumbnail.titleShadow+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription { color:"+bB.thumbnail.descriptionColor+" !important; Text-Shadow:"+bB.thumbnail.descriptionShadow+" !important; }\n";bA+=by+".nanoGalleryContainer > .nanoGalleryThumbnailContainer .labelDescription > span { background-color:"+bB.thumbnail.titleColor+" !important; color:"+bD+" !important; }\n";if(aH.O.paginationDots){bA+=by+".nanoGalleryPaginationDot > .paginationItem { border:"+bB.thumbnail.paginationDotBorder+" !important; background:"+bB.thumbnail.paginationDotBack+" !important;}\n";bA+=by+".nanoGalleryPaginationDot > .currentPage { background:"+bB.thumbnail.paginationDotSelBack+" !important;}\n"}var bC="nanogallery_galleryfullpage_bgcolor_"+aH.baseEltID;bA+="."+bC+".fullpage { background:"+aH.O.galleryFullpageBgColor+" !important; }\n";jQuery("head").append("<style>"+bA+"</style>");jQuery(bz).addClass(aH.colorSchemeLabel);jQuery(bz).addClass(bC)}function L(bz){var bB=null;switch(bg(aH.O.colorSchemeViewer)){case"object":bB=aH.colorSchemeViewer_default;jQuery.extend(true,bB,aH.O.colorSchemeViewer);aH.colorSchemeLabel="nanogallery_colorschemeviewer_custom";break;case"string":switch(aH.O.colorSchemeViewer){case"none":return;break;case"light":bB=aH.colorSchemeViewer_light;aH.colorSchemeLabel="nanogallery_colorschemeviewer_light";break;case"darkRed":bB=aH.colorSchemeViewer_darkRed;aH.colorSchemeLabel="nanogallery_colorschemeviewer_darkred";break;case"darkGreen":bB=aH.colorSchemeViewer_darkGreen;aH.colorSchemeLabel="nanogallery_colorschemeviewer_darkgreen";break;case"darkBlue":bB=aH.colorSchemeViewer_darkBlue;aH.colorSchemeLabel="nanogallery_colorschemeviewer_darkblue";break;case"darkOrange":bB=aH.colorSchemeViewer_darkOrange;aH.colorSchemeLabel="nanogallery_colorschemeviewer_darkorange";break;case"dark":bB=aH.colorSchemeViewer_dark;aH.colorSchemeLabel="nanogallery_colorschemeviewer_dark";break;case"default":default:bB=aH.colorSchemeViewer_default;aH.colorSchemeLabel="nanogallery_colorschemeviewer_default"}break;default:aX("Error in colorSchemeViewer parameter.");return}var by="."+aH.colorSchemeLabel+" ";var bA=by+".nanoGalleryViewer { background:"+bB.background+" !important; }\n";bA+=by+".nanoGalleryViewer .content img { border:"+bB.imageBorder+" !important; box-shadow:"+bB.imageBoxShadow+" !important; }\n";bA+=by+".nanoGalleryViewer .toolbar { background:"+bB.barBackground+" !important; border:"+bB.barBorder+" !important; color:"+bB.barColor+" !important; }\n";bA+=by+".nanoGalleryViewer .toolbar .previousButton:after { color:"+bB.barColor+" !important; }\n";bA+=by+".nanoGalleryViewer .toolbar .nextButton:after { color:"+bB.barColor+" !important; }\n";bA+=by+".nanoGalleryViewer .toolbar .closeButton:after { color:"+bB.barColor+" !important; }\n";bA+=by+".nanoGalleryViewer .toolbar .label .title { color:"+bB.barColor+" !important; }\n";bA+=by+".nanoGalleryViewer .toolbar .label .description { color:"+bB.barDescriptionColor+" !important; }\n";jQuery("head").append("<style>"+bA+"</style>");jQuery(bz).addClass(aH.colorSchemeLabel)}function aX(bz,by){aQ(bz);if(aH.$E.conConsole!=null){aH.$E.conConsole.css({visibility:"visible",height:"auto"});if(by==false){aH.$E.conConsole.append("<p>"+bz+"</p>")}else{aH.$E.conConsole.append("<p>nanoGALLERY: "+bz+" ["+aH.baseEltID+"]</p>")}}}function aQ(by){if(window.console){console.log("nanoGALLERY: "+by+" ["+aH.baseEltID+"]")}}function al(){var by=jQuery(window);vpW=by.width();if(aH.O.demoViewportWidth>0){if(aH.O.demoViewportWidth<vpW){vpW=aH.O.demoViewportWidth}aH.O.maxWidth=vpW;jQuery(aH.$E.base).css({width:aH.O.maxWidth});jQuery(aH.$E.base).css({"margin-left":"auto"});jQuery(aH.$E.base).css({"margin-right":"auto"})}return{l:by.scrollLeft(),t:by.scrollTop(),w:vpW,h:by.height()}}function q(bC,by){var bB=al(),bA=bC.offset(),bD=bC.outerHeight(true),bz=bC.outerWidth(true);if(bA.top>=(bB.t-by)&&(bA.top+bD)<=(bB.t+bB.h+by)&&bA.left>=(bB.l-by)&&(bA.left+bz)<=(bB.l+bB.w+by)){return true}else{return false}}function ag(bC,by){var bB=al(),bA=bC.offset(),bD=bC.outerHeight(true),bz=bC.outerWidth(true);if(bB.t==0&&(bA.top)<=(bB.t+bB.h)){return true}if(bA.top>=(bB.t)&&(bA.top+bD)<=(bB.t+bB.h-by)){return true}else{return false}}function bh(bA,bz){var by=0;if(bA==""){bA="*"}jQuery(bA).each(function(){var bB=parseInt(jQuery(this).css("z-index"));by=bB>by?bB:by});by++;jQuery(bz).css("z-index",by)}function t(bB,bA,bz){var by=0;if(bB==""){bB="*"}jQuery(bB).each(function(){var bC=parseInt(jQuery(this).css("z-index"));by=bC>by?bC:by});by++;jQuery(bz).css("z-index",by+1);jQuery(bA).css("z-index",by)}var bg=function(by){return({}).toString.call(by).match(/\s([a-zA-Z]+)/)[1].toLowerCase()};function v(bz){var bC=window.jQuery.fn.jquery.split("."),bB=bz.split(".");for(var bA=0,by=bC.length;bA<by;bA++){if(bB[bA]&&(+bC[bA])<(+bB[bA])){return false}}return true}function S(bB){for(var bz,by,bA=bB.length;bA;bz=Math.floor(Math.random()*bA),by=bB[--bA],bB[bA]=bB[bz],bB[bz]=by){}return bB}var aj=function(bz,bC,bF){bz=bz.replace(/^\s*|\s*$/,"");bz=bz.replace(/^#?([a-f0-9])([a-f0-9])([a-f0-9])$/i,"#$1$1$2$2$3$3");var bE=Math.round(bC*256)*(bF?-1:1),bA=bz.match(new RegExp("^rgba?\\(\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\s*,\\s*(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])(?:\\s*,\\s*(0|1|0?\\.\\d+))?\\s*\\)$","i")),bD=!!bA&&bA[4]!=null?bA[4]:null,by=!!bA?[bA[1],bA[2],bA[3]]:bz.replace(/^#?([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])([a-f0-9][a-f0-9])/i,function(){return parseInt(arguments[1],16)+","+parseInt(arguments[2],16)+","+parseInt(arguments[3],16)}).split(/,/),bB;return !!bA?"rgb"+(bD!==null?"a":"")+"("+Math[bF?"max":"min"](parseInt(by[0],10)+bE,bF?0:255)+", "+Math[bF?"max":"min"](parseInt(by[1],10)+bE,bF?0:255)+", "+Math[bF?"max":"min"](parseInt(by[2],10)+bE,bF?0:255)+(bD!==null?", "+bD:"")+")":["#",B(Math[bF?"max":"min"](parseInt(by[0],10)+bE,bF?0:255).toString(16),2),B(Math[bF?"max":"min"](parseInt(by[1],10)+bE,bF?0:255).toString(16),2),B(Math[bF?"max":"min"](parseInt(by[2],10)+bE,bF?0:255).toString(16),2)].join("")};var aD=function(by,bz){return aj(by,bz,false)};var w=function(by,bz){return aj(by,bz,true)};var B=function(bz,by){var bA="0";bz=bz+"";while(bz.length<by){bz=bA+bz}return bz}}});
/*!
 * jQuery Color Animations v2.1.2
 * https://github.com/jquery/jquery-color
 *
 * Copyright 2013 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * Date: Wed Jan 16 08:47:09 2013 -0600
 */
(function(r,d){var m="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",h=/^([\-+])=\s*(\d+\.?\d*)/,g=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(s){return[s[1],s[2],s[3],s[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(s){return[s[1]*2.55,s[2]*2.55,s[3]*2.55,s[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(s){return[parseInt(s[1],16),parseInt(s[2],16),parseInt(s[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(s){return[parseInt(s[1]+s[1],16),parseInt(s[2]+s[2],16),parseInt(s[3]+s[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(s){return[s[1],s[2]/100,s[3]/100,s[4]]}}],e=r.Color=function(t,u,s,v){return new r.Color.fn.parse(t,u,s,v)},l={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},q={"byte":{floor:true,max:255},percent:{max:1},degrees:{mod:360,floor:true}},p=e.support={},b=r("<p>")[0],a,o=r.each;b.style.cssText="background-color:rgba(1,1,1,.5)";p.rgba=b.style.backgroundColor.indexOf("rgba")>-1;o(l,function(s,t){t.cache="_"+s;t.props.alpha={idx:3,type:"percent",def:1}});function k(t,v,u){var s=q[v.type]||{};if(t==null){return(u||!v.def)?null:v.def}t=s.floor?~~t:parseFloat(t);if(isNaN(t)){return v.def}if(s.mod){return(t+s.mod)%s.mod}return 0>t?0:s.max<t?s.max:t}function f(s){var u=e(),t=u._rgba=[];s=s.toLowerCase();o(g,function(z,A){var x,y=A.re.exec(s),w=y&&A.parse(y),v=A.space||"rgba";if(w){x=u[v](w);u[l[v].cache]=x[l[v].cache];t=u._rgba=x._rgba;return false}});if(t.length){if(t.join()==="0,0,0,0"){r.extend(t,a.transparent)}return u}return a[s]}e.fn=r.extend(e.prototype,{parse:function(y,w,s,x){if(y===d){this._rgba=[null,null,null,null];return this}if(y.jquery||y.nodeType){y=r(y).css(w);w=d}var v=this,u=r.type(y),t=this._rgba=[];if(w!==d){y=[y,w,s,x];u="array"}if(u==="string"){return this.parse(f(y)||a._default)}if(u==="array"){o(l.rgba.props,function(z,A){t[A.idx]=k(y[A.idx],A)});return this}if(u==="object"){if(y instanceof e){o(l,function(z,A){if(y[A.cache]){v[A.cache]=y[A.cache].slice()}})}else{o(l,function(A,B){var z=B.cache;o(B.props,function(C,D){if(!v[z]&&B.to){if(C==="alpha"||y[C]==null){return}v[z]=B.to(v._rgba)}v[z][D.idx]=k(y[C],D,true)});if(v[z]&&r.inArray(null,v[z].slice(0,3))<0){v[z][3]=1;if(B.from){v._rgba=B.from(v[z])}}})}return this}},is:function(u){var s=e(u),v=true,t=this;o(l,function(w,y){var z,x=s[y.cache];if(x){z=t[y.cache]||y.to&&y.to(t._rgba)||[];o(y.props,function(A,B){if(x[B.idx]!=null){v=(x[B.idx]===z[B.idx]);return v}})}return v});return v},_space:function(){var s=[],t=this;o(l,function(u,v){if(t[v.cache]){s.push(u)}});return s.pop()},transition:function(t,z){var u=e(t),v=u._space(),w=l[v],x=this.alpha()===0?e("transparent"):this,y=x[w.cache]||w.to(x._rgba),s=y.slice();u=u[w.cache];o(w.props,function(D,F){var C=F.idx,B=y[C],A=u[C],E=q[F.type]||{};if(A===null){return}if(B===null){s[C]=A}else{if(E.mod){if(A-B>E.mod/2){B+=E.mod}else{if(B-A>E.mod/2){B-=E.mod}}}s[C]=k((A-B)*z+B,F)}});return this[v](s)},blend:function(v){if(this._rgba[3]===1){return this}var u=this._rgba.slice(),t=u.pop(),s=e(v)._rgba;return e(r.map(u,function(w,x){return(1-t)*s[x]+t*w}))},toRgbaString:function(){var t="rgba(",s=r.map(this._rgba,function(u,w){return u==null?(w>2?1:0):u});if(s[3]===1){s.pop();t="rgb("}return t+s.join()+")"},toHslaString:function(){var t="hsla(",s=r.map(this.hsla(),function(u,w){if(u==null){u=w>2?1:0}if(w&&w<3){u=Math.round(u*100)+"%"}return u});if(s[3]===1){s.pop();t="hsl("}return t+s.join()+")"},toHexString:function(s){var t=this._rgba.slice(),u=t.pop();if(s){t.push(~~(u*255))}return"#"+r.map(t,function(w){w=(w||0).toString(16);return w.length===1?"0"+w:w}).join("")},toString:function(){return this._rgba[3]===0?"transparent":this.toRgbaString()}});e.fn.parse.prototype=e.fn;function c(u,t,s){s=(s+1)%1;if(s*6<1){return u+(t-u)*s*6}if(s*2<1){return t}if(s*3<2){return u+(t-u)*((2/3)-s)*6}return u}l.hsla.to=function(v){if(v[0]==null||v[1]==null||v[2]==null){return[null,null,null,v[3]]}var t=v[0]/255,y=v[1]/255,z=v[2]/255,B=v[3],A=Math.max(t,y,z),w=Math.min(t,y,z),C=A-w,D=A+w,u=D*0.5,x,E;if(w===A){x=0}else{if(t===A){x=(60*(y-z)/C)+360}else{if(y===A){x=(60*(z-t)/C)+120}else{x=(60*(t-y)/C)+240}}}if(C===0){E=0}else{if(u<=0.5){E=C/D}else{E=C/(2-D)}}return[Math.round(x)%360,E,u,B==null?1:B]};l.hsla.from=function(x){if(x[0]==null||x[1]==null||x[2]==null){return[null,null,null,x[3]]}var w=x[0]/360,v=x[1],u=x[2],t=x[3],y=u<=0.5?u*(1+v):u+v-u*v,z=2*u-y;return[Math.round(c(z,y,w+(1/3))*255),Math.round(c(z,y,w)*255),Math.round(c(z,y,w-(1/3))*255),t]};o(l,function(t,v){var u=v.props,s=v.cache,x=v.to,w=v.from;e.fn[t]=function(C){if(x&&!this[s]){this[s]=x(this._rgba)}if(C===d){return this[s].slice()}var z,B=r.type(C),y=(B==="array"||B==="object")?C:arguments,A=this[s].slice();o(u,function(D,F){var E=y[B==="object"?D:F.idx];if(E==null){E=A[F.idx]}A[F.idx]=k(E,F)});if(w){z=e(w(A));z[s]=A;return z}else{return e(A)}};o(u,function(y,z){if(e.fn[y]){return}e.fn[y]=function(D){var F=r.type(D),C=(y==="alpha"?(this._hsla?"hsla":"rgba"):t),B=this[C](),E=B[z.idx],A;if(F==="undefined"){return E}if(F==="function"){D=D.call(this,E);F=r.type(D)}if(D==null&&z.empty){return this}if(F==="string"){A=h.exec(D);if(A){D=E+parseFloat(A[2])*(A[1]==="+"?1:-1)}}B[z.idx]=D;return this[C](B)}})});e.hook=function(t){var s=t.split(" ");o(s,function(u,v){r.cssHooks[v]={set:function(z,A){var x,y,w="";if(A!=="transparent"&&(r.type(A)!=="string"||(x=f(A)))){A=e(x||A);if(!p.rgba&&A._rgba[3]!==1){y=v==="backgroundColor"?z.parentNode:z;while((w===""||w==="transparent")&&y&&y.style){try{w=r.css(y,"backgroundColor");y=y.parentNode}catch(B){}}A=A.blend(w&&w!=="transparent"?w:"_default")}A=A.toRgbaString()}try{z.style[v]=A}catch(B){}}};r.fx.step[v]=function(w){if(!w.colorInit){w.start=e(w.elem,v);w.end=e(w.end);w.colorInit=true}r.cssHooks[v].set(w.elem,w.start.transition(w.end,w.pos))}})};e.hook(m);r.cssHooks.borderColor={expand:function(t){var s={};o(["Top","Right","Bottom","Left"],function(v,u){s["border"+u+"Color"]=t});return s}};a=r.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}})(jQuery);
/*!
 * imagesLoaded PACKAGED v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(b,a){if(typeof define=="function"&&define.amd){define("ev-emitter/ev-emitter",a)}else{if(typeof module=="object"&&module.exports){module.exports=a()}else{b.ngEvEmitter=a()}}}(this,function(){function a(){}var b=a.prototype;b.on=function(c,f){if(!c||!f){return}var d=this._events=this._events||{};var e=d[c]=d[c]||[];if(e.indexOf(f)==-1){e.push(f)}return this};b.once=function(d,e){if(!d||!e){return}this.on(d,e);var c=this._onceEvents=this._onceEvents||{};var f=c[d]=c[d]||[];f[e]=true;return this};b.off=function(c,f){var e=this._events&&this._events[c];if(!e||!e.length){return}var d=e.indexOf(f);if(d!=-1){e.splice(d,1)}return this};b.emitEvent=function(c,d){var f=this._events&&this._events[c];if(!f||!f.length){return}var e=0;var h=f[e];d=d||[];var k=this._onceEvents&&this._onceEvents[c];while(h){var g=k&&k[h];if(g){this.off(c,h);delete k[h]}h.apply(this,d);e+=g?0:1;h=f[e]}return this};return a}));
/*!
 * imagesLoaded v4.1.0
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
(function(b,a){if(typeof define=="function"&&define.amd){define(["ev-emitter/ev-emitter"],function(c){return a(b,c)})}else{if(typeof module=="object"&&module.exports){module.exports=a(b,require("ev-emitter"))}else{b.ngimagesLoaded=a(b,b.ngEvEmitter)}}})(window,function factory(f,k){var e=f.jQuery;var d=f.console;function g(o,m){for(var p in m){o[p]=m[p]}return o}function a(p){var o=[];if(Array.isArray(p)){o=p}else{if(typeof p.length=="number"){for(var m=0;m<p.length;m++){o.push(p[m])}}else{o.push(p)}}return o}function c(p,o,m){if(!(this instanceof c)){return new c(p,o,m)}if(typeof p=="string"){p=document.querySelectorAll(p)}this.elements=a(p);this.options=g({},this.options);if(typeof o=="function"){m=o}else{g(this.options,o)}if(m){this.on("always",m)}this.getImages();if(e){this.jqDeferred=new e.Deferred()}setTimeout(function(){this.check()}.bind(this))}c.prototype=Object.create(k.prototype);c.prototype.options={};c.prototype.getImages=function(){this.images=[];this.elements.forEach(this.addElementImages,this)};c.prototype.addElementImages=function(r){if(r.nodeName=="IMG"){this.addImage(r)}if(this.options.background===true){this.addElementBackgroundImages(r)}var m=r.nodeType;if(!m||!b[m]){return}var s=r.querySelectorAll("img");for(var q=0;q<s.length;q++){var o=s[q];this.addImage(o)}if(typeof this.options.background=="string"){var p=r.querySelectorAll(this.options.background);for(q=0;q<p.length;q++){var t=p[q];this.addElementBackgroundImages(t)}}};var b={1:true,9:true,11:true};c.prototype.addElementBackgroundImages=function(p){var o=getComputedStyle(p);if(!o){return}var r=/url\((['"])?(.*?)\1\)/gi;var q=r.exec(o.backgroundImage);while(q!==null){var m=q&&q[2];if(m){this.addBackground(m,p)}q=r.exec(o.backgroundImage)}};c.prototype.addImage=function(m){var o=new h(m);this.images.push(o)};c.prototype.addBackground=function(m,p){var o=new l(m,p);this.images.push(o)};c.prototype.check=function(){var o=this;this.progressedCount=0;this.hasAnyBroken=false;if(!this.images.length){this.complete();return}function m(r,q,p){setTimeout(function(){o.progress(r,q,p)})}this.images.forEach(function(p){p.once("progress",m);p.check()})};c.prototype.progress=function(p,o,m){this.progressedCount++;this.hasAnyBroken=this.hasAnyBroken||!p.isLoaded;this.emitEvent("progress",[this,p,o]);if(this.jqDeferred&&this.jqDeferred.notify){this.jqDeferred.notify(this,p)}if(this.progressedCount==this.images.length){this.complete()}if(this.options.debug&&d){d.log("progress: "+m,p,o)}};c.prototype.complete=function(){var o=this.hasAnyBroken?"fail":"done";this.isComplete=true;this.emitEvent(o,[this]);this.emitEvent("always",[this]);if(this.jqDeferred){var m=this.hasAnyBroken?"reject":"resolve";this.jqDeferred[m](this)}};function h(m){this.img=m}h.prototype=Object.create(k.prototype);h.prototype.check=function(){var m=this.getIsImageComplete();if(m){this.confirm(this.img.naturalWidth!==0,"naturalWidth");return}this.proxyImage=new Image();this.proxyImage.addEventListener("load",this);this.proxyImage.addEventListener("error",this);this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.proxyImage.src=this.img.src};h.prototype.getIsImageComplete=function(){return this.img.complete&&this.img.naturalWidth!==undefined};h.prototype.confirm=function(m,o){this.isLoaded=m;this.emitEvent("progress",[this,this.img,o])};h.prototype.handleEvent=function(m){var o="on"+m.type;if(this[o]){this[o](m)}};h.prototype.onload=function(){this.confirm(true,"onload");this.unbindEvents()};h.prototype.onerror=function(){this.confirm(false,"onerror");this.unbindEvents()};h.prototype.unbindEvents=function(){this.proxyImage.removeEventListener("load",this);this.proxyImage.removeEventListener("error",this);this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};function l(m,o){this.url=m;this.element=o;this.img=new Image()}l.prototype=Object.create(h.prototype);l.prototype.check=function(){this.img.addEventListener("load",this);this.img.addEventListener("error",this);this.img.src=this.url;var m=this.getIsImageComplete();if(m){this.confirm(this.img.naturalWidth!==0,"naturalWidth");this.unbindEvents()}};l.prototype.unbindEvents=function(){this.img.removeEventListener("load",this);this.img.removeEventListener("error",this)};l.prototype.confirm=function(m,o){this.isLoaded=m;this.emitEvent("progress",[this,this.element,o])};c.makeJQueryPlugin=function(m){m=m||f.jQuery;if(!m){return}e=m;e.fn.ngimagesLoaded=function(p,q){var o=new c(this,p,q);return o.jqDeferred.promise(e(this))}};c.makeJQueryPlugin();return c});(function(){var a=typeof module!=="undefined"&&module.exports;var c=typeof Element!=="undefined"&&"ALLOW_KEYBOARD_INPUT" in Element;var d=(function(){var m;var k;var e=[["requestFullscreen","exitFullscreen","fullscreenElement","fullscreenEnabled","fullscreenchange","fullscreenerror"],["webkitRequestFullscreen","webkitExitFullscreen","webkitFullscreenElement","webkitFullscreenEnabled","webkitfullscreenchange","webkitfullscreenerror"],["webkitRequestFullScreen","webkitCancelFullScreen","webkitCurrentFullScreenElement","webkitCancelFullScreen","webkitfullscreenchange","webkitfullscreenerror"],["mozRequestFullScreen","mozCancelFullScreen","mozFullScreenElement","mozFullScreenEnabled","mozfullscreenchange","mozfullscreenerror"],["msRequestFullscreen","msExitFullscreen","msFullscreenElement","msFullscreenEnabled","MSFullscreenChange","MSFullscreenError"]];var h=0;var f=e.length;var g={};for(;h<f;h++){m=e[h];if(m&&m[1] in document){for(h=0,k=m.length;h<k;h++){g[e[0][h]]=m[h]}return g}}return false})();var b={request:function(f){var e=d.requestFullscreen;f=f||document.documentElement;if(/5\.1[\.\d]* Safari/.test(navigator.userAgent)){f[e]()}else{f[e](c&&Element.ALLOW_KEYBOARD_INPUT)}},exit:function(){document[d.exitFullscreen]()},toggle:function(e){if(this.isFullscreen){this.exit()}else{this.request(e)}},onchange:function(){},onerror:function(){},raw:d};if(!d){if(a){module.exports=false}else{window.ngscreenfull=false}return}Object.defineProperties(b,{isFullscreen:{get:function(){return !!document[d.fullscreenElement]}},element:{enumerable:true,get:function(){return document[d.fullscreenElement]}},enabled:{enumerable:true,get:function(){return !!document[d.fullscreenEnabled]}}});document.addEventListener(d.fullscreenchange,function(f){b.onchange.call(b,f)});document.addEventListener(d.fullscreenerror,function(f){b.onerror.call(b,f)});if(a){module.exports=b}else{window.ngscreenfull=b}})();